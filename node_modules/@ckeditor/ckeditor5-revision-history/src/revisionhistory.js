/*
 *             Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 *
 *
 *
 *
 *          +---------------------------------------------------------------------------------+
 *          |                                                                                 |
 *          |                                 Hello stranger!                                 |
 *          |                                                                                 |
 *          |                                                                                 |
 *          |   What you're currently looking at is the source code of a legally protected,   |
 *          |    proprietary software. Any attempts to deobfuscate / disassemble this code    |
 *          |               are forbidden and will result in legal consequences.              |
 *          |                                                                                 |
 *          |                                                                                 |
 *          +---------------------------------------------------------------------------------+
 *
 *
 *
 *
 */
const _0x3caef3=_0x19b4;(function(_0x5528b5,_0x44d281){const _0x1448b7=_0x19b4,_0x554653=_0x5528b5();while(!![]){try{const _0x5a3af4=-parseInt(_0x1448b7(0x18b))/0x1+-parseInt(_0x1448b7(0x1de))/0x2*(-parseInt(_0x1448b7(0x173))/0x3)+-parseInt(_0x1448b7(0x188))/0x4+parseInt(_0x1448b7(0x1bd))/0x5*(parseInt(_0x1448b7(0x1ea))/0x6)+-parseInt(_0x1448b7(0x16b))/0x7*(parseInt(_0x1448b7(0x181))/0x8)+-parseInt(_0x1448b7(0x17b))/0x9+parseInt(_0x1448b7(0x191))/0xa*(parseInt(_0x1448b7(0x184))/0xb);if(_0x5a3af4===_0x44d281)break;else _0x554653['push'](_0x554653['shift']());}catch(_0x1e776a){_0x554653['push'](_0x554653['shift']());}}}(_0x3cbe,0xa9e7f));function _0x19b4(_0x520bea,_0x1a30e3){const _0x3cbeaa=_0x3cbe();return _0x19b4=function(_0x19b483,_0x4eef2d){_0x19b483=_0x19b483-0x15d;let _0x49b2d4=_0x3cbeaa[_0x19b483];return _0x49b2d4;},_0x19b4(_0x520bea,_0x1a30e3);}import{Plugin as _0x15d5d9}from'ckeditor5/src/core.js';import{CKEditorError as _0x2ea80e,uid as _0x5e16c4}from'ckeditor5/src/utils.js';function _0x3cbe(){const _0x3eaed8=['revisionHistory.viewerEditorElement','catch','RevisionHistory','revisionHistory.requireRevisionName','includes','_getRevisionViewerEditorConfig','pluginName','long','toJSON','display','getUser','RevisionViewerIntegration','RevisionTracker','translations','setSelection','_enhanceShowRevisionViewerCallback','_enhanceCloseRevisionViewerCallback','indexOf','init','removeSelectionAttribute','has','isOfficialPlugin','selection','setAttribute','uiLanguage','PaginationLookup','exitToEditing','refreshVisibility','revisionHistory','isPremiumPlugin','getMarkersGroup','saveRevision','change','detachRoot','changesNavigation','_viewerEditor','25sJspSH','numeric','document','revisionHistory.closeRevisionViewerCallback','editor','_restoreRevision','createRangeIn','remove','addRoot','markers','revisionHistory.showRevisionViewerCallback','set','enableReadOnlyMode','from','save','revision-history-viewer-opened','restrictedEditingException','revisionHistory.viewerContainer','destroy','get','getRoot','locale','getRevision','RevisionHistoryUI','_recalculatePageBreaks','_cleanUp','restoreRevision','error','getRevisionRootsAttributes','block','toVersion','plugins','RevisionsRepository','2176158XpfIsd','isReadOnly','removeAttribute','model','style','update','createdAt','isEnabled','toLocaleTimeString','RestrictedEditingMode','push','define','625416EZqgLT','isAnonymous','lazyRoots','_closeRevisionViewer','keys','bind','getRevisions','requires','Restored','revisionHistory.restoreRevisionCallback','$graveyard','isReady','data','result','showRevisionViewerCallback','revision-history-missing-configuration','899255wKLyVO','users','Autosave','isAttached','commands','rootName','disableReadOnlyMode','closeRevisionViewerCallback','3xWropy','refreshPositioning','addRevisionData','revisionHistory.editorContainer','getRevisionData','Annotations','roots','addUser','10387368qaJEfl','adapter','_showRevisionViewer','isOpen','fromVersion','creator','24QboXYe','then','enqueueChange','11tghbwx','none','repository','toLocaleDateString','219160uRHZKi','hide','end','243238kTlBlz','config','toolbar','RevisionViewer','parse','Users','9242510JVITPT','create','getAttributeKeys','_update','removeMarker','name','Dialog','insert'];_0x3cbe=function(){return _0x3eaed8;};return _0x3cbe();}import _0x22fe2a from'./revisiontracker.js';import _0x3b1cb1 from'./ui/revisionhistory/revisionhistoryui.js';import _0x5d390f from'./revisionviewer.js';import _0x4f2f7b from'./ui/revisionviewer/revisionviewerui.js';import _0x115eb3 from'./ui/revisionssidebar/revisionssidebar.js';import _0x4a4e9c from'./editor/revisionviewereditor.js';import{getTranslation as _0x14e3c7}from'./utils/common-translations.js';import{sanitizeEditorConfig as _0x3d444d}from'ckeditor5-collaboration/src/collaboration-core.js';const p=[_0x3caef3(0x1d4),_0x3caef3(0x1e7)];class k extends _0x15d5d9{static get[_0x3caef3(0x19f)](){const _0x3d0293=_0x3caef3;return _0x3d0293(0x1a4);}static get[_0x3caef3(0x1ae)](){return!0x0;}static get[_0x3caef3(0x1b6)](){return!0x0;}constructor(_0x4e931){const _0x2df8ab=_0x3caef3;super(_0x4e931),this[_0x2df8ab(0x168)]=_0x2df8ab(0x18a);}}export default class H extends _0x15d5d9{static get[_0x3caef3(0x19f)](){const _0x109fa7=_0x3caef3;return _0x109fa7(0x19b);}static get[_0x3caef3(0x1ae)](){return!0x0;}static get[_0x3caef3(0x1b6)](){return!0x0;}static get[_0x3caef3(0x162)](){return[_0x22fe2a,_0x3b1cb1];}constructor(_0x590368){const _0x59d159=_0x3caef3;if(super(_0x590368),!this[_0x59d159(0x1c1)][_0x59d159(0x18c)][_0x59d159(0x1d0)](_0x59d159(0x1b5)))throw new _0x2ea80e(_0x59d159(0x16a),this);this[_0x59d159(0x1bc)]=null,this[_0x59d159(0x1c1)][_0x59d159(0x18c)][_0x59d159(0x1e9)](_0x59d159(0x1c7),_0x5880f7=>this[_0x59d159(0x17d)]({..._0x5880f7,'translations':this[_0x59d159(0x1c1)][_0x59d159(0x1d2)][_0x59d159(0x1a6)]})),this[_0x59d159(0x1c1)][_0x59d159(0x18c)][_0x59d159(0x1e9)](_0x59d159(0x1c0),_0x4b6751=>this[_0x59d159(0x15e)](_0x4b6751)),this[_0x59d159(0x1c1)][_0x59d159(0x18c)][_0x59d159(0x1e9)](_0x59d159(0x164),_0x5388cb=>this[_0x59d159(0x1c2)](_0x5388cb)),this[_0x59d159(0x1c1)][_0x59d159(0x18c)][_0x59d159(0x1e9)](_0x59d159(0x19c),!0x1),this[_0x59d159(0x1a8)](),this[_0x59d159(0x1a9)]();}set[_0x3caef3(0x17c)](_0x451fc2){const _0x60c42b=_0x3caef3;this[_0x60c42b(0x1c1)][_0x60c42b(0x1dc)][_0x60c42b(0x1d0)](_0x60c42b(0x1a5))[_0x60c42b(0x17c)]=_0x451fc2;}get[_0x3caef3(0x17c)](){const _0x597c4d=_0x3caef3;return this[_0x597c4d(0x1c1)][_0x597c4d(0x1dc)][_0x597c4d(0x1d0)](_0x597c4d(0x1a5))[_0x597c4d(0x17c)];}[_0x3caef3(0x175)](_0x314e82){const _0x4ea4c0=_0x3caef3;return this[_0x4ea4c0(0x1c1)][_0x4ea4c0(0x1dc)][_0x4ea4c0(0x1d0)](_0x4ea4c0(0x1a5))[_0x4ea4c0(0x175)](_0x314e82);}[_0x3caef3(0x1d3)](_0x5283f0){const _0x3b3db6=_0x3caef3;return this[_0x3b3db6(0x1c1)][_0x3b3db6(0x1dc)][_0x3b3db6(0x1d0)](_0x3b3db6(0x1dd))[_0x3b3db6(0x1d3)](_0x5283f0);}[_0x3caef3(0x161)](_0x15f7f3){const _0x4100de=_0x3caef3;return this[_0x4100de(0x1c1)][_0x4100de(0x1dc)][_0x4100de(0x1d0)](_0x4100de(0x1dd))[_0x4100de(0x161)](_0x15f7f3||{'toJSON':!0x1});}[_0x3caef3(0x19e)](){const _0x35e64b=_0x3caef3,_0x4361a4=this[_0x35e64b(0x1c1)],_0xcae4e7=_0x3d444d(_0x4361a4,p),_0x161613=_0x4361a4[_0x35e64b(0x1dc)][_0x35e64b(0x1d0)](_0x35e64b(0x1a5)),_0x499bba=_0x4361a4[_0x35e64b(0x1dc)][_0x35e64b(0x1d0)](_0x35e64b(0x190))[_0x35e64b(0x16c)];return _0xcae4e7[_0x35e64b(0x18d)]=[_0x35e64b(0x1b3),_0x35e64b(0x1d7),_0x35e64b(0x1bb)],delete _0xcae4e7[_0x35e64b(0x15d)],(_0xcae4e7[_0x35e64b(0x1dc)][_0x35e64b(0x1e8)](k,_0x5d390f,_0x4f2f7b,class extends _0x15d5d9{static get[_0x35e64b(0x162)](){const _0x4b1fdf=_0x35e64b;return[_0x5d390f,_0x4b1fdf(0x190)];}[_0x35e64b(0x1ab)](){const _0x3a844a=_0x35e64b,_0x1349af=this[_0x3a844a(0x1c1)][_0x3a844a(0x1dc)][_0x3a844a(0x1d0)](_0x3a844a(0x190));for(const _0x87cef3 of _0x499bba)_0x87cef3[_0x3a844a(0x1eb)]||_0x1349af[_0x3a844a(0x1a3)](_0x87cef3['id'])||_0x1349af[_0x3a844a(0x17a)](_0x87cef3);const _0x570f94=_0x161613[_0x3a844a(0x186)][_0x3a844a(0x161)]();let _0x45ac54=null;const _0x47bbde=this[_0x3a844a(0x1c1)][_0x3a844a(0x1dc)][_0x3a844a(0x1d0)](_0x3a844a(0x18e));_0x47bbde[_0x3a844a(0x17c)]=_0x161613[_0x3a844a(0x17c)],_0x47bbde[_0x3a844a(0x160)](_0x3a844a(0x1e5))['to'](_0x161613),this[_0x3a844a(0x1c1)][_0x3a844a(0x16f)][_0x3a844a(0x1d0)](_0x3a844a(0x1d7))[_0x3a844a(0x160)](_0x3a844a(0x1e5))['to'](_0x4361a4,_0x3a844a(0x1df),_0x542f2e=>!_0x542f2e);for(const _0x5167fb of _0x570f94){const _0x429c66=null===_0x5167fb[_0x3a844a(0x180)];if(_0x429c66&&_0x5167fb[_0x3a844a(0x1db)]===_0x5167fb[_0x3a844a(0x17f)])continue;const _0x7f45b3=_0x5167fb[_0x3a844a(0x1a1)]();_0x47bbde[_0x3a844a(0x175)](_0x7f45b3,(_0x20e2bf,_0x149baa,_0x88490d)=>{const _0x4d7d5a=_0x3a844a;if(_0x429c66){if(_0x45ac54)_0x45ac54[_0x4d7d5a(0x194)](_0x20e2bf,_0x149baa);else{if(!_0x149baa){const _0x536498=_0x88490d[_0x4d7d5a(0x1a1)]();_0x536498['id']=_0x5e16c4(),_0x161613[_0x4d7d5a(0x1b8)](_0x536498,_0x88490d[_0x4d7d5a(0x1db)])[_0x4d7d5a(0x182)](_0xc993ab=>{_0x45ac54=_0xc993ab;});}}}else _0x5167fb[_0x4d7d5a(0x194)](_0x20e2bf,_0x149baa);});}}},_0x115eb3),_0xcae4e7);}[_0x3caef3(0x1a8)](){const _0x2f0154=_0x3caef3,_0xfbc24f=this[_0x2f0154(0x1c1)][_0x2f0154(0x18c)][_0x2f0154(0x1d0)](_0x2f0154(0x1b5))[_0x2f0154(0x169)];this[_0x2f0154(0x1c1)][_0x2f0154(0x18c)][_0x2f0154(0x1c8)](_0x2f0154(0x1c7),async()=>{const _0x5070a6=_0x2f0154;this[_0x5070a6(0x1c1)][_0x5070a6(0x1c9)](_0x5070a6(0x1cc));const _0x49c2c8=this[_0x5070a6(0x1c1)][_0x5070a6(0x1dc)][_0x5070a6(0x1d0)](_0x5070a6(0x1a5));if(this[_0x5070a6(0x1c1)][_0x5070a6(0x1dc)][_0x5070a6(0x1ad)](_0x5070a6(0x16d))){const _0x23ccda=this[_0x5070a6(0x1c1)][_0x5070a6(0x1dc)][_0x5070a6(0x1d0)](_0x5070a6(0x16d));await _0x23ccda[_0x5070a6(0x1cb)]();}else await _0x49c2c8[_0x5070a6(0x1e3)]();if(this[_0x5070a6(0x1c1)][_0x5070a6(0x1dc)][_0x5070a6(0x1ad)](_0x5070a6(0x1b2))&&this[_0x5070a6(0x1c1)][_0x5070a6(0x1dc)][_0x5070a6(0x1d0)](_0x5070a6(0x1b2))[_0x5070a6(0x1d5)](),this[_0x5070a6(0x1c1)][_0x5070a6(0x1dc)][_0x5070a6(0x1ad)](_0x5070a6(0x197))){const _0x38785c=this[_0x5070a6(0x1c1)][_0x5070a6(0x1dc)][_0x5070a6(0x1d0)](_0x5070a6(0x197));_0x38785c[_0x5070a6(0x17e)]&&_0x38785c[_0x5070a6(0x189)]();}const _0x11e254=this[_0x5070a6(0x19e)]();return _0xfbc24f(_0x11e254)[_0x5070a6(0x182)](_0x24273e=>{const _0x69fe1a=_0x5070a6;return(this[_0x69fe1a(0x1bc)]=_0x24273e,this[_0x69fe1a(0x1c1)][_0x69fe1a(0x1dc)][_0x69fe1a(0x1ad)](_0x69fe1a(0x178)))&&this[_0x69fe1a(0x1c1)][_0x69fe1a(0x1dc)][_0x69fe1a(0x1d0)](_0x69fe1a(0x178))[_0x69fe1a(0x1b4)](),_0x24273e;})[_0x5070a6(0x19a)](_0x1d8d34=>(console[_0x5070a6(0x1d8)](_0x1d8d34),this[_0x5070a6(0x1c1)][_0x5070a6(0x171)](_0x5070a6(0x1cc)),null));});}[_0x3caef3(0x1a9)](){const _0x2e4896=_0x3caef3,_0x4dfef7=this[_0x2e4896(0x1c1)][_0x2e4896(0x18c)][_0x2e4896(0x1d0)](_0x2e4896(0x1b5))[_0x2e4896(0x172)];this[_0x2e4896(0x1c1)][_0x2e4896(0x18c)][_0x2e4896(0x1c8)](_0x2e4896(0x1c0),()=>(this[_0x2e4896(0x1c1)][_0x2e4896(0x1dc)][_0x2e4896(0x1ad)](_0x2e4896(0x1b2))&&this[_0x2e4896(0x1c1)][_0x2e4896(0x1dc)][_0x2e4896(0x1d0)](_0x2e4896(0x1b2))[_0x2e4896(0x1d5)](),this[_0x2e4896(0x1bc)][_0x2e4896(0x1dc)][_0x2e4896(0x1d0)](_0x2e4896(0x18e))[_0x2e4896(0x1d6)](),_0x4dfef7(this[_0x2e4896(0x1bc)])[_0x2e4896(0x182)](()=>{const _0x1ce2b0=_0x2e4896;if(this[_0x1ce2b0(0x1c1)][_0x1ce2b0(0x171)](_0x1ce2b0(0x1cc)),this[_0x1ce2b0(0x1bc)]=null,this[_0x1ce2b0(0x1c1)][_0x1ce2b0(0x1dc)][_0x1ce2b0(0x1ad)](_0x1ce2b0(0x178))){const _0x79a66c=this[_0x1ce2b0(0x1c1)][_0x1ce2b0(0x1dc)][_0x1ce2b0(0x1d0)](_0x1ce2b0(0x178));_0x79a66c[_0x1ce2b0(0x1b4)](),_0x79a66c[_0x1ce2b0(0x174)]();}})));}[_0x3caef3(0x17d)](_0xe5397c){const _0x535b02=_0x3caef3,_0x2ce6cf=this[_0x535b02(0x1c1)][_0x535b02(0x18c)][_0x535b02(0x1d0)](_0x535b02(0x176)),_0x4eb587=this[_0x535b02(0x1c1)][_0x535b02(0x18c)][_0x535b02(0x1d0)](_0x535b02(0x1ce)),_0x1e4774=this[_0x535b02(0x1c1)][_0x535b02(0x18c)][_0x535b02(0x1d0)](_0x535b02(0x199));return _0x4a4e9c[_0x535b02(0x192)](_0x1e4774,_0xe5397c)[_0x535b02(0x182)](_0x1d613c=>(_0x4eb587[_0x535b02(0x1e2)][_0x535b02(0x1a2)]=_0x535b02(0x1da),_0x2ce6cf[_0x535b02(0x1e2)][_0x535b02(0x1a2)]=_0x535b02(0x185),_0x1d613c));}[_0x3caef3(0x15e)](_0x451374){const _0x28073d=_0x3caef3,_0x3c7017=this[_0x28073d(0x1c1)][_0x28073d(0x18c)][_0x28073d(0x1d0)](_0x28073d(0x176));return this[_0x28073d(0x1c1)][_0x28073d(0x18c)][_0x28073d(0x1d0)](_0x28073d(0x1ce))[_0x28073d(0x1e2)][_0x28073d(0x1a2)]=_0x28073d(0x185),_0x3c7017[_0x28073d(0x1e2)][_0x28073d(0x1a2)]='',_0x451374[_0x28073d(0x1cf)]();}async[_0x3caef3(0x1c2)](_0x101c97){const _0x305d1b=_0x3caef3,_0x531c02=this[_0x305d1b(0x1c1)],_0x4ca729=this[_0x305d1b(0x1bc)][_0x305d1b(0x1dc)][_0x305d1b(0x1d0)](_0x305d1b(0x18e)),_0x2a28d4=_0x531c02[_0x305d1b(0x1dc)][_0x305d1b(0x1d0)](_0x305d1b(0x1a5)),_0x55f6d1=_0x4ca729[_0x305d1b(0x186)][_0x305d1b(0x1d3)](_0x101c97);let _0x4cec6a,_0x12710a,_0x1793a4;try{_0x4cec6a=await _0x4ca729[_0x305d1b(0x177)](_0x55f6d1),_0x12710a=await _0x4ca729[_0x305d1b(0x1d9)](_0x55f6d1);}catch(_0x225687){return void console[_0x305d1b(0x1d8)](_0x225687);}_0x531c02[_0x305d1b(0x1e1)][_0x305d1b(0x1b9)](_0x5585c7=>{const _0x3f565f=_0x305d1b;for(const _0x43e187 of Array[_0x3f565f(0x1ca)](_0x531c02[_0x3f565f(0x1e1)][_0x3f565f(0x1c6)][_0x3f565f(0x1b7)](_0x3f565f(0x1cd))))_0x5585c7[_0x3f565f(0x195)](_0x43e187);}),_0x4ca729[_0x305d1b(0x166)]=!0x1,_0x531c02[_0x305d1b(0x1e1)][_0x305d1b(0x183)](_0x523188=>{const _0x25f39c=_0x305d1b;_0x523188[_0x25f39c(0x1a7)](null),_0x523188[_0x25f39c(0x1ac)](_0x531c02[_0x25f39c(0x1e1)][_0x25f39c(0x1bf)][_0x25f39c(0x1af)][_0x25f39c(0x193)]());const _0x42fb04=Object[_0x25f39c(0x15f)](_0x4cec6a);for(const _0x479b51 of _0x531c02[_0x25f39c(0x1e1)][_0x25f39c(0x1bf)][_0x25f39c(0x179)])_0x25f39c(0x165)!=_0x479b51[_0x25f39c(0x170)]&&_0x479b51[_0x25f39c(0x16e)]()&&!_0x42fb04[_0x25f39c(0x19d)](_0x479b51[_0x25f39c(0x170)])&&_0x523188[_0x25f39c(0x1ba)](_0x479b51);for(const _0x2699f6 of _0x42fb04){let _0x387304=_0x531c02[_0x25f39c(0x1e1)][_0x25f39c(0x1bf)][_0x25f39c(0x1d1)](_0x2699f6);_0x387304&&_0x387304[_0x25f39c(0x16e)]()||(_0x387304=_0x523188[_0x25f39c(0x1c5)](_0x2699f6));const _0x48bdbd=_0x12710a[_0x2699f6],_0x269519=Object[_0x25f39c(0x15f)](_0x48bdbd),_0x410518=_0x4cec6a[_0x2699f6];for(const _0x4b0cf9 of _0x387304[_0x25f39c(0x193)]())_0x269519[_0x25f39c(0x19d)](_0x4b0cf9)||_0x523188[_0x25f39c(0x1e0)](_0x4b0cf9,_0x387304);for(const _0xeed1f1 of _0x269519)_0x523188[_0x25f39c(0x1b0)](_0xeed1f1,_0x12710a[_0x2699f6][_0xeed1f1],_0x387304);_0x523188[_0x25f39c(0x1c4)](_0x523188[_0x25f39c(0x1c3)](_0x387304)),_0x523188[_0x25f39c(0x198)](_0x531c02[_0x25f39c(0x167)][_0x25f39c(0x18f)](_0x410518,_0x387304),_0x387304,0x0);}});const _0x387d12=_0x14e3c7(_0x531c02[_0x305d1b(0x1d2)],_0x305d1b(0x163));if(_0x55f6d1[_0x305d1b(0x196)])_0x1793a4=-0x1==_0x55f6d1[_0x305d1b(0x196)][_0x305d1b(0x1aa)](_0x387d12)?_0x387d12+':\x20'+_0x55f6d1[_0x305d1b(0x196)]:_0x55f6d1[_0x305d1b(0x196)];else _0x1793a4=_0x387d12+':\x20'+(_0x55f6d1[_0x305d1b(0x1e4)][_0x305d1b(0x187)](_0x531c02[_0x305d1b(0x1d2)][_0x305d1b(0x1b1)],{'month':_0x305d1b(0x1a0),'day':_0x305d1b(0x1be)})+',\x20'+_0x55f6d1[_0x305d1b(0x1e4)][_0x305d1b(0x1e6)](_0x531c02[_0x305d1b(0x1d2)][_0x305d1b(0x1b1)],{'hour':_0x305d1b(0x1be),'minute':_0x305d1b(0x1be)}));return await _0x2a28d4[_0x305d1b(0x1b8)]({'name':_0x1793a4}),_0x4ca729[_0x305d1b(0x166)]=!0x0,_0x531c02[_0x305d1b(0x18c)][_0x305d1b(0x1d0)](_0x305d1b(0x1b5))[_0x305d1b(0x172)]();}}