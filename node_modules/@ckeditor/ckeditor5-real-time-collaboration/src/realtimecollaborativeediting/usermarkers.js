/*
 *             Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 *
 *
 *
 *
 *          +---------------------------------------------------------------------------------+
 *          |                                                                                 |
 *          |                                 Hello stranger!                                 |
 *          |                                                                                 |
 *          |                                                                                 |
 *          |   What you're currently looking at is the source code of a legally protected,   |
 *          |    proprietary software. Any attempts to deobfuscate / disassemble this code    |
 *          |               are forbidden and will result in legal consequences.              |
 *          |                                                                                 |
 *          |                                                                                 |
 *          +---------------------------------------------------------------------------------+
 *
 *
 *
 *
 */
const _0xad70ae=_0xd177;(function(_0x2dfeea,_0x483c84){const _0x2fb9b6=_0xd177,_0x4e8eca=_0x2dfeea();while(!![]){try{const _0xc7a7eb=-parseInt(_0x2fb9b6(0x211))/0x1*(-parseInt(_0x2fb9b6(0x204))/0x2)+parseInt(_0x2fb9b6(0x1b0))/0x3*(-parseInt(_0x2fb9b6(0x1a6))/0x4)+-parseInt(_0x2fb9b6(0x201))/0x5+parseInt(_0x2fb9b6(0x1ba))/0x6*(-parseInt(_0x2fb9b6(0x1be))/0x7)+-parseInt(_0x2fb9b6(0x1ac))/0x8+-parseInt(_0x2fb9b6(0x20c))/0x9*(parseInt(_0x2fb9b6(0x1d6))/0xa)+parseInt(_0x2fb9b6(0x20b))/0xb;if(_0xc7a7eb===_0x483c84)break;else _0x4e8eca['push'](_0x4e8eca['shift']());}catch(_0x1cf566){_0x4e8eca['push'](_0x4e8eca['shift']());}}}(_0x2142,0x1faec));import{Plugin as _0x1ddea0}from'ckeditor5/src/core.js';import{global as _0xc8a9fe,DomEmitterMixin as _0x394a54}from'ckeditor5/src/utils.js';import _0x1655d6 from'./sessions.js';import{LiveRange as _0x374944}from'ckeditor5/src/engine.js';function _0x2142(){const _0x57d341=['editingDowncast','model','editing','⁠<span\x20class=\x22ck-user__marker-line\x22\x20contenteditable=\x22false\x22><span\x20class=\x22ck-user__marker-dot\x22></span></span><span\x20class=\x22ck-user__marker-tooltip\x22\x20contenteditable=\x22false\x22\x20spellcheck=\x22false\x22>','listenTo','nodeAfter','user:','newRange','size','schema','getSelectionClass','user:position:','commands','UserMarkers','_domEmitter','clear','data-session-id','contenteditable','change:range','fromRange','getRange','applyOperation','reconvertMarker','ck-user__marker\x20','userPositionMarker','updateMarker','destroy','start','markerNameToElements','startsWith','createUserMarkerOperations','afterInit','ck-user__selection','set','getUserBySessionId','detach','for','render','isObject','isLimit','isSimilar','390005pKkUbZ','getNearestSelectionRange','addEventListener','642uQVvdB','view','split','markerToHighlight','undo','update:user:range','selection','5765793UTuPJz','55206ZtcCDg','element','batch','color','span','487QqRmRD','getCustomProperty','markerToElement','user:range:','getAttribute','innerHTML','Escape','user:range','mySessionId','isCollapsed','stopListening','rootName','getMarkerClass','highest','change','type','getContainedElement','mouseenter','mouseleave','ck-user__marker_hovered','keydown','document','setCustomProperty','classList','createRange','getPositions','21572PbYrCU','markerName','checkChild','toDomElement','parent','markers','1532112zkHIoZ','oldRange','init','hasContent','30FrjRlW','marker','remove','root','enqueueChange','end','$graveyard','</span>⁠','removeClass','addMarker','37182YtTVun','tableCell','isPremiumPlugin','add','35yQypLQ','createUIElement','removeMarker','editor','hasDomSelection','plugins','requires','_createdBatches','isOfficialPlugin','toRange','has','isInline','getFirstRange','get','deletionPosition','getStart','$text','delete','conversion','markerRange','mapper','pluginName','orderNumber','user:position','320JDElLx','name'];_0x2142=function(){return _0x57d341;};return _0x2142();}function _0xd177(_0x393a07,_0x27ada4){const _0x21428b=_0x2142();return _0xd177=function(_0xd17782,_0x49ec3f){_0xd17782=_0xd17782-0x199;let _0x31545e=_0x21428b[_0xd17782];return _0x31545e;},_0xd177(_0x393a07,_0x27ada4);}import'../../theme/usermarkers.css';export default class K extends _0x1ddea0{constructor(){const _0x5688da=_0xd177;super(...arguments),this[_0x5688da(0x1e6)]=new(_0x394a54())();}static get[_0xad70ae(0x1c4)](){return[_0x1655d6];}static get[_0xad70ae(0x1d3)](){const _0x354c6a=_0xad70ae;return _0x354c6a(0x1e5);}static get[_0xad70ae(0x1c6)](){return!0x0;}static get[_0xad70ae(0x1bc)](){return!0x0;}[_0xad70ae(0x1ae)](){const _0x5c435e=_0xad70ae,_0x232a59=this[_0x5c435e(0x1c1)],_0x367884=_0x232a59[_0x5c435e(0x1c3)][_0x5c435e(0x1cb)](_0x1655d6);_0x232a59[_0x5c435e(0x1d0)][_0x5c435e(0x1fc)](_0x5c435e(0x1d8))[_0x5c435e(0x213)]({'model':_0x5c435e(0x1d5),'view':(_0x16f88b,{writer:_0x11549b})=>function(_0x5f0c32,_0x2495ed,_0x1466a8,_0x5b9a30){const _0x2e5b09=_0x5c435e,_0x5eab73=_0x5f0c32[_0x2e5b09(0x1a7)][_0x2e5b09(0x206)](':')[0x2],_0x47ad91=_0x1466a8[_0x2e5b09(0x1fa)](_0x5eab73);if(!_0x47ad91||_0x5eab73===_0x1466a8[_0x2e5b09(0x219)])return;if(!_0x5b9a30[_0x2e5b09(0x1d9)][_0x2e5b09(0x1e1)][_0x2e5b09(0x1a8)](_0x5f0c32[_0x2e5b09(0x1d1)][_0x2e5b09(0x1f3)],_0x2e5b09(0x1ce)))return;const _0xc97046={'class':_0x2e5b09(0x1ef)+_0x47ad91[_0x2e5b09(0x20f)][_0x2e5b09(0x21d)](),'data-name':_0x47ad91[_0x2e5b09(0x1d7)],'data-session-id':_0x5eab73},_0x1c6c6a=_0x5b9a30[_0x2e5b09(0x1d9)][_0x2e5b09(0x1ab)][_0x2e5b09(0x1cb)](_0x5f0c32[_0x2e5b09(0x1a7)]),_0x4a519a=_0x1c6c6a[_0x2e5b09(0x1cd)](),_0x366112=_0x4a519a[_0x2e5b09(0x1dd)],_0x503ccf=_0x5b9a30[_0x2e5b09(0x1d9)][_0x2e5b09(0x1e1)];if(_0x366112&&_0x503ccf[_0x2e5b09(0x1fe)](_0x366112)&&_0x503ccf[_0x2e5b09(0x1c9)](_0x366112)&&!_0x5b9a30[_0x2e5b09(0x1d9)][_0x2e5b09(0x1ab)][_0x2e5b09(0x1cb)](_0x2e5b09(0x214)+_0x5eab73)[_0x2e5b09(0x1ec)]()[_0x2e5b09(0x21a)])return;const _0x9e5bb7=_0x4a519a[_0x2e5b09(0x1aa)];return _0x5b9a30[_0x2e5b09(0x1d9)][_0x2e5b09(0x1e1)][_0x2e5b09(0x1ff)](_0x9e5bb7)&&!_0x5b9a30[_0x2e5b09(0x1d9)][_0x2e5b09(0x1af)](_0x9e5bb7)&&(_0xc97046[_0x2e5b09(0x1e9)]=!0x1),function(_0x5c748b,_0x311d75,_0x3435e0){const _0x349052=_0x2e5b09,_0x7986b4=_0x5c748b[_0x349052(0x1bf)](_0x349052(0x210),_0x311d75);return _0x5c748b[_0x349052(0x1a2)](_0x349052(0x1f0),!0x0,_0x7986b4),_0x7986b4[_0x349052(0x1fd)]=function(_0x2dff2f){const _0x5ebda1=_0x349052,_0x4eae6f=this[_0x5ebda1(0x1a9)](_0x2dff2f);return _0x4eae6f[_0x5ebda1(0x216)]=_0x5ebda1(0x1db)+_0x3435e0[_0x5ebda1(0x1d7)]+_0x5ebda1(0x1b7),_0x4eae6f[_0x5ebda1(0x203)](_0x5ebda1(0x19d),()=>{const _0x48e925=_0x5ebda1;_0x4eae6f[_0x48e925(0x1a3)][_0x48e925(0x1bd)](_0x48e925(0x19f));}),_0x4eae6f[_0x5ebda1(0x203)](_0x5ebda1(0x19e),()=>{const _0x1c2d6f=_0x5ebda1;_0x4eae6f[_0x1c2d6f(0x1a3)][_0x1c2d6f(0x1b2)](_0x1c2d6f(0x19f));}),_0x4eae6f;},_0x7986b4[_0x349052(0x200)]=function(_0x3898cd){const _0x475c8a=_0x349052;return!(!this[_0x475c8a(0x212)](_0x475c8a(0x1f0))||!_0x3898cd[_0x475c8a(0x212)](_0x475c8a(0x1f0))||this[_0x475c8a(0x215)](_0x475c8a(0x1e8))!=_0x3898cd[_0x475c8a(0x215)](_0x475c8a(0x1e8)));},_0x7986b4;}(_0x2495ed,_0xc97046,_0x47ad91);}(_0x16f88b,_0x11549b,_0x367884,_0x232a59)}),_0x232a59[_0x5c435e(0x1d0)][_0x5c435e(0x1fc)](_0x5c435e(0x1d8))[_0x5c435e(0x207)]({'model':_0x5c435e(0x218),'view':_0x531011=>function(_0x3789d0,_0x2fca0a){const _0x5588cf=_0x5c435e,_0xd74933=_0x3789d0[_0x5588cf(0x1a7)][_0x5588cf(0x206)](':')[0x2];if(_0xd74933===_0x2fca0a[_0x5588cf(0x219)])return null;const _0x46f770=_0x2fca0a[_0x5588cf(0x1fa)](_0xd74933);if(!_0x46f770)return{'id':_0xd74933,'classes':[]};return{'id':_0xd74933,'classes':[_0x5588cf(0x1f8),_0x46f770[_0x5588cf(0x20f)][_0x5588cf(0x1e2)]()],'attributes':{'data-session-id':_0xd74933},'priority':0x7d0+_0x46f770[_0x5588cf(0x1d4)]};}(_0x531011,_0x367884)}),function(_0x22d77){const _0x32bac9=_0x5c435e,_0x2fedbe=_0x22d77[_0x32bac9(0x1d9)],_0x44dcd9=new Map(),_0x4b5bc8=_0x22d77[_0x32bac9(0x1c3)][_0x32bac9(0x1cb)](_0x1655d6);_0x2fedbe[_0x32bac9(0x1ab)]['on'](_0x32bac9(0x209),(_0x41294b,_0x389273,_0x4c4f5c,_0x3007e6)=>{const _0x1377fc=_0x32bac9;if(!_0x3007e6&&_0x44dcd9[_0x1377fc(0x1cb)](_0x389273[_0x1377fc(0x1d7)]))return _0x44dcd9[_0x1377fc(0x1cb)](_0x389273[_0x1377fc(0x1d7)])[_0x1377fc(0x1fb)](),void _0x44dcd9[_0x1377fc(0x1cf)](_0x389273[_0x1377fc(0x1d7)]);const _0x8df4b9=_0x389273[_0x1377fc(0x1d7)][_0x1377fc(0x206)](':')[0x2];if(_0x8df4b9===_0x4b5bc8[_0x1377fc(0x219)])return;const _0x1f78ee=_0x1377fc(0x1e3)+_0x8df4b9;_0x2fedbe[_0x1377fc(0x1ab)][_0x1377fc(0x1c8)](_0x1f78ee)&&_0x22d77[_0x1377fc(0x1da)][_0x1377fc(0x1ee)](_0x1f78ee),_0x389273['on'](_0x1377fc(0x1ea),(_0x201ded,_0x41a320,_0x38fa96)=>{const _0x604fc=_0x1377fc;if(_0x604fc(0x1b6)!=_0x41a320[_0x604fc(0x1b3)][_0x604fc(0x21c)]&&_0x604fc(0x1b6)==_0x389273[_0x604fc(0x1ec)]()[_0x604fc(0x1b3)][_0x604fc(0x21c)]&&!_0x44dcd9[_0x604fc(0x1c8)](_0x389273[_0x604fc(0x1d7)])){const _0x429a0f=_0x2fedbe[_0x604fc(0x1e1)][_0x604fc(0x202)](_0x38fa96[_0x604fc(0x1cc)]);if(_0x429a0f){const _0xe528a7=_0x374944[_0x604fc(0x1eb)](_0x429a0f);_0x44dcd9[_0x604fc(0x1f9)](_0x389273[_0x604fc(0x1d7)],_0xe528a7),_0xe528a7['on'](_0x604fc(0x1ea),(_0x2c64f9,_0x24977b,_0x22af28)=>{const _0x14c260=_0x604fc;if(_0x14c260(0x1b6)==_0xe528a7[_0x14c260(0x1b3)][_0x14c260(0x21c)]){const _0x1d6b6a=_0x2fedbe[_0x14c260(0x1e1)][_0x14c260(0x202)](_0x22af28[_0x14c260(0x1cc)]);_0x1d6b6a?(_0xe528a7[_0x14c260(0x1f3)]=_0x1d6b6a[_0x14c260(0x1f3)],_0xe528a7[_0x14c260(0x1b5)]=_0x1d6b6a[_0x14c260(0x1b5)]):(_0x44dcd9[_0x14c260(0x1cf)](_0x389273[_0x14c260(0x1d7)]),_0xe528a7[_0x14c260(0x1fb)]());}});}}});}),_0x2fedbe[_0x32bac9(0x1a1)]['on'](_0x32bac9(0x19a),()=>{const _0x2c4e5e=_0x32bac9;_0x44dcd9[_0x2c4e5e(0x1e0)]>0x0&&_0x2fedbe[_0x2c4e5e(0x1b4)]({'isUndoable':!0x1},_0x4039f0=>{const _0x3ca298=_0x2c4e5e;for(const [_0x35f975,_0x1b935b]of _0x44dcd9)_0x3ca298(0x1b6)==_0x2fedbe[_0x3ca298(0x1ab)][_0x3ca298(0x1cb)](_0x35f975)[_0x3ca298(0x1ec)]()[_0x3ca298(0x1b3)][_0x3ca298(0x21c)]&&(te(_0x35f975[_0x3ca298(0x206)](':')[0x2],_0x1b935b[_0x3ca298(0x1c7)](),_0x2fedbe,_0x4039f0),_0x1b935b[_0x3ca298(0x1fb)]());_0x44dcd9[_0x3ca298(0x1e7)]();});});}(_0x232a59),this[_0x5c435e(0x1e6)][_0x5c435e(0x1dc)](_0xc8a9fe[_0x5c435e(0x1a1)],_0x5c435e(0x1a0),(_0x10d5e2,{key:_0x14b2ef})=>{const _0xdefc30=_0x5c435e;_0xdefc30(0x217)===_0x14b2ef&&function(_0x46b4b7){const _0x5b7546=_0xdefc30;_0x46b4b7[_0x5b7546(0x1da)][_0x5b7546(0x205)][_0x5b7546(0x19a)](_0x530dd3=>{const _0xbaf1a1=_0x5b7546;for(const _0x1e0b3d of _0x46b4b7[_0xbaf1a1(0x1d9)][_0xbaf1a1(0x1ab)]){if(!_0x1e0b3d[_0xbaf1a1(0x1d7)][_0xbaf1a1(0x1f5)](_0xbaf1a1(0x1d5)))continue;const _0x2668d6=_0x46b4b7[_0xbaf1a1(0x1da)][_0xbaf1a1(0x1d2)][_0xbaf1a1(0x1f4)](_0x1e0b3d[_0xbaf1a1(0x1d7)]);if(_0x2668d6){for(const _0x38aae0 of _0x2668d6)_0x530dd3[_0xbaf1a1(0x1b8)](_0xbaf1a1(0x19f),_0x38aae0);}}});}(_0x232a59);},{'useCapture':!0x0});}[_0xad70ae(0x1f7)](){const _0x4818a2=_0xad70ae,_0x1d9815=this[_0x4818a2(0x1c1)],_0x1bcefb=_0x1d9815[_0x4818a2(0x1e4)][_0x4818a2(0x1cb)](_0x4818a2(0x208));_0x1bcefb&&_0x1d9815[_0x4818a2(0x1d9)]['on'](_0x4818a2(0x1ed),(_0x1dde62,_0x3e7700)=>{const _0x51513c=_0x4818a2,_0x45a6ed=_0x3e7700[0x0];if(_0x51513c(0x1b1)!=_0x45a6ed[_0x51513c(0x19b)]||!_0x45a6ed[_0x51513c(0x1d7)][_0x51513c(0x1f5)](_0x51513c(0x1de)))return;const _0x55db5d=_0x45a6ed[_0x51513c(0x20e)];_0x1bcefb[_0x51513c(0x1c5)][_0x51513c(0x1c8)](_0x55db5d)&&(_0x45a6ed[_0x51513c(0x1df)]=_0x45a6ed[_0x51513c(0x1ad)]?_0x1d9815[_0x51513c(0x1d9)][_0x51513c(0x1a4)](_0x45a6ed[_0x51513c(0x1ad)][_0x51513c(0x1f3)],_0x45a6ed[_0x51513c(0x1ad)][_0x51513c(0x1b5)]):null);},{'priority':_0x4818a2(0x199)});}[_0xad70ae(0x1f2)](){const _0x42574c=_0xad70ae;return this[_0x42574c(0x1e6)][_0x42574c(0x21b)](),super[_0x42574c(0x1f2)]();}[_0xad70ae(0x1f6)](){const _0x1d86c5=_0xad70ae,_0x3a16f0=this[_0x1d86c5(0x1c1)],_0x955e93=_0x3a16f0[_0x1d86c5(0x1d9)][_0x1d86c5(0x1a1)],_0x4c03df=_0x3a16f0[_0x1d86c5(0x1c3)][_0x1d86c5(0x1cb)](_0x1655d6);_0x3a16f0[_0x1d86c5(0x1d9)][_0x1d86c5(0x1b4)]({'isUndoable':!0x1},_0xbf7e52=>{const _0x105faa=_0x1d86c5,_0x29a46b=_0x105faa(0x214)+_0x4c03df[_0x105faa(0x219)],_0x277a29=_0x105faa(0x1e3)+_0x4c03df[_0x105faa(0x219)],_0x2fb2ff=_0x3a16f0[_0x105faa(0x1d9)][_0x105faa(0x1ab)][_0x105faa(0x1c8)](_0x29a46b);_0x3a16f0[_0x105faa(0x1da)][_0x105faa(0x205)][_0x105faa(0x1c2)]?te(_0x4c03df[_0x105faa(0x219)],_0x955e93[_0x105faa(0x20a)][_0x105faa(0x1ca)](),_0x3a16f0[_0x105faa(0x1d9)],_0xbf7e52):_0x2fb2ff&&(_0xbf7e52[_0x105faa(0x1c0)](_0x29a46b),_0xbf7e52[_0x105faa(0x1c0)](_0x277a29));});}}function te(_0x34769d,_0x95ff76,_0x4eb1d0,_0x56ba50){const _0x347034=_0xad70ae,_0x4e3028=_0x347034(0x214)+_0x34769d,_0x4499cf=_0x347034(0x1e3)+_0x34769d,_0x150713=_0x95ff76[_0x347034(0x19c)]();let _0xe2be53=_0x95ff76[_0x347034(0x1f3)];_0x150713&&_0x150713['is'](_0x347034(0x20d),_0x347034(0x1bb))&&(_0xe2be53=function(_0x9b3f01,_0x19d7a0){const _0xe73df9=_0x347034;for(const _0x2bc861 of _0x9b3f01[_0xe73df9(0x1a5)]())if(_0x19d7a0[_0xe73df9(0x1e1)][_0xe73df9(0x1a8)](_0x2bc861,_0xe73df9(0x1ce)))return _0x2bc861;}(_0x95ff76,_0x4eb1d0),_0x95ff76=_0x56ba50[_0x347034(0x1a4)](_0xe2be53));const _0x46d209=_0x56ba50[_0x347034(0x1a4)](_0xe2be53);_0x4eb1d0[_0x347034(0x1ab)][_0x347034(0x1c8)](_0x4e3028)?(_0x56ba50[_0x347034(0x1f1)](_0x4e3028,{'range':_0x95ff76}),_0x56ba50[_0x347034(0x1f1)](_0x4499cf,{'range':_0x46d209})):(_0x56ba50[_0x347034(0x1b9)](_0x4e3028,{'range':_0x95ff76,'usingOperation':!0x0}),_0x56ba50[_0x347034(0x1b9)](_0x4499cf,{'range':_0x46d209,'usingOperation':!0x0}));}