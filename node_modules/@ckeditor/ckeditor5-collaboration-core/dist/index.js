/*
 *             Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 *
 *
 *
 *
 *          +---------------------------------------------------------------------------------+
 *          |                                                                                 |
 *          |                                 Hello stranger!                                 |
 *          |                                                                                 |
 *          |                                                                                 |
 *          |   What you're currently looking at is the source code of a legally protected,   |
 *          |    proprietary software. Any attempts to deobfuscate / disassemble this code    |
 *          |               are forbidden and will result in legal consequences.              |
 *          |                                                                                 |
 *          |                                                                                 |
 *          +---------------------------------------------------------------------------------+
 *
 *
 *
 *
 */
import{ContextPlugin as _0x9d2b8e,Editor as _0x3245da,icons as _0x2e2cb6}from'@ckeditor/ckeditor5-core/dist/index.js';import{CKEditorError as _0x3dbccc,Collection as _0x331ca4,uid as _0x1a2728,first as _0x33ee2d,FocusTracker as _0x55bcc,KeystrokeHandler as _0x4137af}from'@ckeditor/ckeditor5-utils/dist/index.js';import{View as _0x62ad54,IconView as _0x1e65a5,ButtonView as _0x1fd8ac,DropdownButtonView as _0x5679d6,FocusCycler as _0x32ddae,isViewWithFocusCycler as _0x1b151f}from'@ckeditor/ckeditor5-ui/dist/index.js';import _0x4fac2b from'date-fns/format/index.js';import _0x37f864 from'date-fns/parseISO/index.js';import _0xb462ee from'date-fns/differenceInCalendarDays/index.js';class o extends _0x9d2b8e{static get['pluginName'](){return'Permissions';}static get['isOfficialPlugin'](){return!0x0;}static get['isPremiumPlugin'](){return!0x0;}['setPermissions'](_0x5109ef,_0x41df4d){let _0x206edd;if(_0x41df4d||(_0x41df4d=this['context']['config']['get']('collaboration.channelId')),this['context']['config']['get']('collaboration.channelId')==_0x41df4d?_0x206edd=this['context']:'editors'in this['context']&&this['context']['editors']&&(_0x206edd=this['context']['editors']['find'](_0x15b87e=>_0x15b87e['config']['get']('collaboration.channelId')==_0x41df4d)),!_0x206edd)throw new _0x3dbccc('permissions-set-permissions-invalid-channel-id',null);const _0x3a05f2=_0x206edd['plugins'],_0x93c0ae=_0x3a05f2['has']('CommentsRepository')?_0x3a05f2['get']('CommentsRepository'):void 0x0,_0x2ce68b=_0x3a05f2['has']('CommentsOnly')&&_0x3a05f2['get']('CommentsOnly'),_0x2bb811=_0x5109ef['includes']('document:write'),_0x415c17=_0x5109ef['includes']('comment:modify_all'),_0x3f132e=_0x5109ef['includes']('comment:admin'),_0xca31ac=_0x5109ef['includes']('comment:write'),_0x89770=_0xca31ac||_0x3f132e,_0x42b4ff=_0x89770||_0x415c17,_0x1d6301=_0x2bb811||_0x89770;(_0x2ce68b&&(_0x2ce68b['isEnabled']=!_0x2bb811&&_0x42b4ff),_0x206edd instanceof _0x3245da)&&(!(_0x2bb811||_0x42b4ff&&_0x93c0ae)?_0x206edd['enableReadOnlyMode']('no-permissions'):_0x206edd['disableReadOnlyMode']('no-permissions'));if(_0x93c0ae){_0x93c0ae['setPermissions']({'admin':_0x3f132e,'modifyAll':_0x415c17,'write':_0xca31ac,'resolve':_0x1d6301},_0x41df4d);const _0x577bf6=_0x206edd instanceof _0x3245da&&_0x206edd['commands']['get']('addCommentThread');_0x577bf6&&(_0x89770?_0x577bf6['clearForceDisabled']('noPermissions'):_0x577bf6['forceDisabled']('noPermissions'));}}}function r(_0x541eb5,_0x983bd1){const t=_0x541eb5['t'];switch(_0x983bd1){case'Anonymous':return t('Anonymous');case'Yes':return t('Yes');case'No':return t('No');case'Are\x20you\x20sure?':return t('Are\x20you\x20sure?');default:return'';}}class l extends _0x9d2b8e{['users'];['_licenseKeyCheckInterval'];['_lastColor'];['_myId'];['_locale'];static get['pluginName'](){return'Users';}static get['isOfficialPlugin'](){return!0x0;}static get['isPremiumPlugin'](){return!0x0;}static get['requires'](){return[o];}constructor(_0xdea82d){super(_0xdea82d),this['context']['config']['define']('users.anonymousUserId','anonymous-user'),this['context']['config']['define']('users.colorsCount',0x8),this['users']=new _0x331ca4(),this['_locale']=_0xdea82d['locale'],this['_licenseKeyCheckInterval']=null,this['_lastColor']=0x0,this['_myId']=null,this['decorate']('getOperationAuthor');}['init'](){const _0x489806=this['context'];this['licenseKey']=_0x489806['config']['get']('licenseKey');const _0x28de17=['licenseKeyTrial','licenseKeyInvalid','licenseKeyValid','licenseKeyTrialLimit:operations','licenseKeyTrialLimit:time','licenseKeyTrialLimit:revisions'];this['_licenseKeyCheckInterval']=setInterval(()=>{let _0x5b0438;for(const _0x1225ce in _0x489806){const _0x30f5ef=_0x489806[_0x1225ce];if(_0x28de17['includes'](_0x30f5ef)){delete _0x489806[_0x1225ce],_0x5b0438=_0x30f5ef;break;}}if('licenseKeyInvalid'===_0x5b0438)throw clearInterval(this['_licenseKeyCheckInterval']),new _0x3dbccc('invalid-license-key',null);if('licenseKeyTrial'===_0x5b0438&&console['info']('You\x20are\x20using\x20the\x20trial\x20version\x20of\x20CKEditor\x205\x20collaboration\x20plugin\x20with\x20limited\x20usage.\x20Make\x20sure\x20you\x20will\x20not\x20use\x20it\x20in\x20the\x20production\x20environment.'),'licenseKeyTrialLimit:operations'===_0x5b0438)throw clearInterval(this['_licenseKeyCheckInterval']),new _0x3dbccc('trial-license-key-reached-limit-changes',null);if('licenseKeyTrialLimit:time'===_0x5b0438)throw clearInterval(this['_licenseKeyCheckInterval']),new _0x3dbccc('trial-license-key-reached-limit-time',null);if('licenseKeyTrialLimit:revisions'===_0x5b0438)throw clearInterval(this['_licenseKeyCheckInterval']),new _0x3dbccc('trial-license-key-reached-limit-revisions',null);'licenseKeyValid'===_0x5b0438&&clearInterval(this['_licenseKeyCheckInterval']);},0x3e8),this['_addAnonymousUser']();}get['me'](){return null==this['_myId']?null:this['getUser'](this['_myId']);}['addUser']({id:_0x5d08a2,name:_0x3d1c0f,..._0x3fcd14}){if(!_0x5d08a2||'string'!=typeof _0x5d08a2)throw new _0x3dbccc('users-add-invalid-id');if(this['users']['has'](_0x5d08a2))throw new _0x3dbccc('users-add-duplicated-id',null,{'id':_0x5d08a2});const _0x576d20={..._0x3fcd14,'id':_0x5d08a2,'name':u(this['_locale'],_0x3d1c0f),'color':this['_getNextColor']()};_0x576d20['name']=u(this['_locale'],_0x576d20['name']);const _0x18d066=new P(_0x576d20);return this['users']['add'](_0x18d066),_0x18d066;}['getUser'](_0x569f88){return this['users']['get'](_0x569f88);}['useAnonymousUser'](){const _0xfc190c=this['context']['config']['get']('users.anonymousUserId');this['_myId']||this['defineMe'](_0xfc190c);}['defineMe'](_0x178b81){if(this['_myId'])throw new _0x3dbccc('users-me-already-defined',null);const _0x592110=this['getUser'](_0x178b81);if(!_0x592110)throw new _0x3dbccc('users-me-missing-user',null);this['_myId']=_0x178b81,_0x592110['_isMe']=!0x0;}['getOperationAuthor'](){return this['me'];}['destroy'](){super['destroy'](),clearInterval(this['_licenseKeyCheckInterval']);}['_getNextColor'](){const _0x128543=this['context']['config']['get']('users.colorsCount');return this['_lastColor']>=_0x128543&&(this['_lastColor']=0x0),new a(this['_lastColor']++);}['_addAnonymousUser'](){const _0x4262a6=this['context']['config']['get']('users.anonymousUserId');this['addUser']({'id':_0x4262a6,'name':r(this['_locale'],'Anonymous')})['_isAnonymous']=!0x0;}}class P{['id'];['color'];['name'];['avatar'];['_isMe'];['_isAnonymous'];constructor(_0x4469be){this['id']=_0x4469be['id'],this['color']=_0x4469be['color'],this['name']=_0x4469be['name'],this['avatar']=_0x4469be['avatar'],this['_isAnonymous']=!0x1,this['_isMe']=!0x1;}get['isAnonymous'](){return this['_isAnonymous'];}get['isMe'](){return this['_isMe'];}get['initials'](){const _0x1acf4e=this['name']['split']('\x20');return 0x1===_0x1acf4e['length']?this['_getInitial'](_0x1acf4e[0x0]):this['_getInitial'](_0x1acf4e[0x0])+this['_getInitial'](_0x1acf4e[_0x1acf4e['length']-0x1]);}['_getInitial'](_0x48f0ab){return _0x48f0ab['charAt'](0x0)['toUpperCase']();}}function u(_0x1ff489,_0x34427d=''){return''==(_0x34427d=_0x34427d['trim']())?r(_0x1ff489,'Anonymous'):_0x34427d;}class a{['_id'];constructor(_0x348a19){this['_id']=_0x348a19;}['getBackgroundColorClass'](){return'ck-user__bg-color--'+this['_id'];}['getSelectionClass'](){return'ck-user__selection--'+this['_id'];}['getMarkerClass'](){return'ck-user__marker--'+this['_id'];}}class J extends _0x62ad54{['name'];['notificationView'];constructor(_0x4a0e33,_0x3729e6,_0x4682c2){super(_0x4a0e33),this['name']=_0x3729e6['name'],this['notificationView']=null;const _0x7fb646=['ck','ck-user'],_0x4e6ed8=['ck','ck-user__img'];if(_0x3729e6['isAnonymous']&&_0x4e6ed8['push']('ck-user__anonymous'),!_0x3729e6['isAnonymous']&&_0x3729e6['isMe']&&_0x7fb646['push']('ck-user_me'),_0x3729e6['avatar']&&_0x4e6ed8['push']('ck-user__avatar'),_0x4682c2){const _0x74078a=new _0x1e65a5();_0x74078a['extendTemplate']({'attributes':{'class':['ck-user__icon']}}),_0x74078a['content']='<!--\x0a\x0a\x20What\x20you\x27re\x20currently\x20looking\x20at\x20is\x20the\x20source\x20code\x20of\x20a\x20legally\x20protected,\x20proprietary\x20software.\x0a\x20CKEditor\x205\x20Collaboration\x20is\x20licensed\x20under\x20a\x20commercial\x20license\x20and\x20protected\x20by\x20copyright\x20law.\x20Where\x20not\x20otherwise\x20indicated,\x0a\x20all\x20CKEditor\x205\x20Collaboration\x20content\x20is\x20authored\x20by\x20CKSource\x20engineers\x20and\x20consists\x20of\x20CKSource-owned\x20intellectual\x20property.\x0a\x0a\x20Copyright\x20(c)\x202003-2024,\x20CKSource\x20Holding\x20sp.\x20z\x20o.o.\x20All\x20rights\x20reserved.\x0a\x0a!-->\x0a\x0a<svg\x20viewBox=\x220\x200\x2020\x2020\x22\x20xmlns=\x22http://www.w3.org/2000/svg\x22><path\x20d=\x22M10\x200C4.48\x200\x200\x204.48\x200\x2010s4.48\x2010\x2010\x2010\x2010-4.48\x2010-10S15.52\x200\x2010\x200zm1\x2015H9v-2h2v2zm0-4H9V5h2v6z\x22/></svg>\x0a',this['notificationView']={'tag':'div','attributes':{'class':['ck','ck-user__notification'],'data-cke-tooltip-position':'n','data-cke-tooltip-text':_0x4682c2},'children':[_0x74078a]};}const _0x512a09=[{'tag':'div','attributes':{'class':_0x4e6ed8,'style':{'background-image':_0x3729e6['avatar']?'url(\x27'+_0x3729e6['avatar']+'\x27)':''}}},{'tag':'div','attributes':{'class':_0x3729e6['avatar']?'ck\x20ck-user__name\x20ck-user__name--hidden':'ck\x20ck-user__name','aria-label':_0x3729e6['name']},'children':[{'text':_0x3729e6['initials']}]}];this['notificationView']&&_0x512a09['push'](this['notificationView']),this['setTemplate']({'tag':'div','attributes':{'class':_0x7fb646,'data-user-id':_0x3729e6['id']},'children':_0x512a09});}}class G extends _0x62ad54{['id'];constructor(_0x19e2df,_0x4abf82){super(_0x19e2df),this['id']='ck-aria-description-'+_0x1a2728(),this['setTemplate']({'tag':'span','attributes':{'class':['ck','ck-aria-description'],'id':this['id']},'children':[{'text':_0x4abf82}]});}}class U extends _0x1fd8ac{['render'](){super['render'](),V(this);}}class Y extends _0x5679d6{['render'](){super['render'](),V(this);}}function V(_0x331659){_0x331659['listenTo'](_0x331659['element'],'mousedown',(_0x4b4686,_0x29c99a)=>{_0x29c99a['stopPropagation'](),_0x29c99a['preventDefault']();}),_0x331659['listenTo'](_0x331659['element'],'mouseup',()=>{_0x331659['element']['focus']();});}function E(_0x45c288={}){if(void 0x0!==_0x45c288['dateTimeFormat']&&'function'!=typeof _0x45c288['dateTimeFormat'])throw new _0x3dbccc('invalid-date-time-format');return _0x489945=>{const _0x13ea8d='string'==typeof _0x489945?_0x37f864(_0x489945):_0x489945,_0x198ced=new Date(),_0x4a1b8b=_0xb462ee(_0x198ced,_0x13ea8d);return _0x45c288['dateTimeFormat']?_0x45c288['dateTimeFormat'](_0x13ea8d):_0x4fac2b(_0x13ea8d,0x0===_0x4a1b8b?'\x27Today\x27\x20hh:mma':0x1===_0x4a1b8b?'\x27Yesterday\x27\x20hh:mma':_0x4a1b8b<0x7?'\x27Last\x27\x20EEEE\x20hh:mma':'MM-dd-yyyy\x20hh:mma');};}function g(_0x2326cd,_0x18ca34){const _0x135330=_0x2326cd['mapper']['markerNameToElements'](_0x18ca34['name']);if(!_0x135330)return null;const _0x440724=_0x33ee2d(_0x135330['values']());return _0x2326cd['view']['domConverter']['mapViewToDom'](_0x440724)||null;}function R(_0x12f512,_0x57d480){if(0x0===_0x57d480['length'])return null;const _0xd452a9=[],_0xbcd92c=_0x12f512['view']['domConverter'];for(const _0x9246bd of _0x57d480){const _0x166caf=_0x12f512['mapper']['markerNameToElements'](_0x9246bd['name']);if(!_0x166caf)continue;const _0x4ef5dc=Array['from'](_0x166caf)['map'](_0x4fdd82=>_0xbcd92c['mapViewToDom'](_0x4fdd82))['filter'](_0x4a933b=>!!_0x4a933b);_0xd452a9['push'](..._0x4ef5dc);}if(0x0===_0xd452a9['length'])return null;const _0x7c11d6=[];for(const _0x20b54e of _0xd452a9){const _0x27ffc6=_0x20b54e['getClientRects']()['item'](0x0);_0x27ffc6&&_0x7c11d6['push']({'x':_0x27ffc6['x'],'y':_0x27ffc6['y'],'domElement':_0x20b54e});}return 0x0===_0x7c11d6['length']?null:(_0x7c11d6['sort']((_0x402166,_0x46e2ca)=>_0x402166['y']-_0x46e2ca['y']||_0x402166['x']-_0x46e2ca['x']),_0x7c11d6['map'](_0x1b03b6=>_0x1b03b6['domElement']));}function Z(_0x5b84db,{limit:_0x4bbeb5,suffix:_0x300d02='...'}){const _0x4b7142=[];let _0x50af15=0x0;const _0x562fad=_0x5b84db['replace'](/</g,'\x0a<')['replace'](/>/g,'>\x0a')['replace'](/^\n/g,'')['replace'](/\n$/g,'')['split']('\x0a');for(let _0x291997=0x0;_0x291997<_0x562fad['length'];_0x291997++){let _0x48e9c8=_0x562fad[_0x291997];const _0x41cdc3=$(_0x48e9c8);if(_0x48e9c8['startsWith']('<')){if(_0x50af15>=_0x4bbeb5){const _0x3c98c6=_0x48e9c8['match'](/[a-zA-Z]+/);if(!_0x3c98c6){_0x562fad[_0x291997]='';continue;}const _0xe3873b=_0x3c98c6[0x0];_0x48e9c8['startsWith']('</')?(_0x4b7142['length']&&(_0x48e9c8=''),_0x4b7142['pop']()):(_0x4b7142['push'](_0xe3873b),_0x48e9c8='');}}else{if(_0x50af15>=_0x4bbeb5)_0x48e9c8='';else{if(_0x50af15+_0x41cdc3['length']>=_0x4bbeb5){let _0x537b53=_0x4bbeb5-_0x50af15;if('\x20'===_0x41cdc3[_0x537b53-0x1])_0x537b53--;else{const _0x41c62d=_0x41cdc3['slice'](_0x537b53)['indexOf']('\x20');-0x1!==_0x41c62d?_0x537b53+=_0x41c62d:_0x537b53=_0x48e9c8['length'];}_0x48e9c8=_0x41cdc3['slice'](0x0,_0x537b53)['join']('')+_0x300d02,_0x50af15=_0x4bbeb5;}else _0x50af15+=_0x41cdc3['length'];}}_0x562fad[_0x291997]=_0x48e9c8;}return _0x562fad['join']('\x0a')['replace'](/\n/g,'');}function $(_0x553312){const _0x4ecf6e=[];for(let _0xf00341=0x0;_0xf00341<_0x553312['length'];_0xf00341++){const _0x1f4483=_0x553312['substring'](_0xf00341)['match'](/^&[a-z0-9#]+;/);if(_0x1f4483){const _0x12b69a=_0x1f4483[0x0];_0x4ecf6e['push'](_0x12b69a),_0xf00341+=_0x12b69a['length']-0x1;}else _0x4ecf6e['push'](_0x553312[_0xf00341]);}return _0x4ecf6e;}class h extends _0x62ad54{['submitView'];['cancelView'];['focusTracker'];['keystrokes'];['focusCycler'];['focusables'];constructor(_0x15e592){super(_0x15e592);const _0x577f1f=this['bindTemplate'];this['set']('message',r(_0x15e592,'Are\x20you\x20sure?')),this['submitView']=this['_createButtonView'](_0x15e592,r(_0x15e592,'Yes'),_0x2e2cb6['check'],'submit'),this['cancelView']=this['_createButtonView'](_0x15e592,r(_0x15e592,'No'),_0x2e2cb6['cancel'],'cancel'),this['focusables']=this['createCollection']([this['submitView'],this['cancelView']]),this['focusTracker']=new _0x55bcc(),this['keystrokes']=new _0x4137af(),this['focusCycler']=new _0x32ddae({'focusables':this['focusables'],'focusTracker':this['focusTracker'],'keystrokeHandler':this['keystrokes'],'actions':{'focusPrevious':'shift+tab','focusNext':'tab'}}),this['setTemplate']({'tag':'div','attributes':{'class':['ck','ck-thread__remove-confirm'],'tabindex':-0x1,'role':'alertdialog'},'children':[{'tag':'div','attributes':{'class':'ck-thread__remove-confirm-inner','role':'presentation'},'children':[{'tag':'p','children':[{'text':_0x577f1f['to']('message')}]},{'tag':'div','attributes':{'class':'ck-thread__remove-confirm-actions'},'children':[this['submitView'],this['cancelView']]}]}]});}['render'](){super['render'](),this['_setupKeyboardNavigation']();}['focus'](){this['cancelView']['element']['focus']({'preventScroll':!0x0});}['_createButtonView'](_0x95e845,_0x561f50,_0x24af7b,_0x407b87){const _0x3d0b94=new _0x1fd8ac(_0x95e845);return _0x3d0b94['label']=_0x561f50,_0x3d0b94['icon']=_0x24af7b,_0x3d0b94['extendTemplate']({'attributes':{'class':'ck-thread__remove-confirm-'+_0x407b87}}),_0x3d0b94['on']('execute',()=>this['fire'](_0x407b87)),_0x3d0b94;}['_setupKeyboardNavigation'](){this['focusables']['forEach'](_0x45b966=>{this['keystrokes']['listenTo'](_0x45b966['element']),this['focusTracker']['add'](_0x45b966['element']);}),this['keystrokes']['set']('esc',(_0x53d632,_0x3d1919)=>{this['fire']('cancel'),_0x3d1919();});}}function m(_0x3982f0){return class extends _0x3982f0{['showConfirm'](_0xdfd165,_0x2e32ca){return this['confirmView']=new h(this['locale']),this['confirmView']['render'](),this['confirmView']['message']=_0xdfd165,this['confirmView']['once']('cancel',()=>{this['_removeConfirm']();}),this['confirmView']['once']('submit',()=>{this['_removeConfirm']();}),_0x2e32ca['appendChild'](this['confirmView']['element']),this['registerChild'](this['confirmView']),this['confirmView']['focus'](),this['set']('isConfirm',!0x0),new Promise(_0x304f0c=>this['confirmView']['on']('submit',_0x304f0c));}['cancelConfirm'](){this['isConfirm']&&this['confirmView']['fire']('cancel');}['_removeConfirm'](){this['element']&&this['confirmView']&&this['confirmView']['element']&&(this['element']['focus'](),this['confirmView']['element']['remove'](),this['deregisterChild'](this['confirmView']),this['isConfirm']=!0x1,this['fire']('removeConfirm'),this['confirmView']['destroy'](),this['confirmView']=void 0x0);}};}function M(_0x8bc53){let _0xa3ea3d=0x0,_0x1c3291=0x0;for(const _0x180c67 of q(_0x8bc53))_0xa3ea3d=(_0xa3ea3d<<0x5)-_0xa3ea3d+_0x180c67,_0xa3ea3d|=0x0,[_0xa3ea3d,_0x1c3291]=[_0x1c3291,_0xa3ea3d];return z(_0xa3ea3d)+z(_0x1c3291);}function*O(_0x594d97){null==_0x594d97||null==_0x594d97?yield 0x12b9b0a1:0x0===_0x594d97||!0x1===_0x594d97?yield 0x0:0x1===_0x594d97||0x1==_0x594d97?yield 0x1:Array['isArray'](_0x594d97)?yield*function*(_0x591c82){for(const _0x33f8c8 of _0x591c82)yield*O(_0x33f8c8);}(_0x594d97):'object'==typeof _0x594d97?yield*q(_0x594d97):'string'==typeof _0x594d97?yield*v(_0x594d97):'number'==typeof _0x594d97&&(yield _0x594d97);}function*q(_0x5f24f1){if(yield w('{'),_0x5f24f1){const _0x241699=Object['keys'](_0x5f24f1)['sort']();for(const _0x30e515 of _0x241699){yield*v(_0x30e515),yield w(':');const _0x1762e2=_0x5f24f1[_0x30e515];yield*O(_0x1762e2);}}yield w('}');}function*v(_0x38dbd4){yield w('\x22');for(const _0x50f902 of _0x38dbd4)yield w(_0x50f902);yield w('\x22');}function w(_0x3381e7){return _0x3381e7['charCodeAt'](0x0);}function z(_0x36c544){return(_0x36c544*=Math['sign'](_0x36c544))['toString'](0x24);}const W=['initialData','context','toolbar','rootsAttributes'],D=['WebSocketGateway','RevisionTracker','Autosave','WordCount','DocumentOutline','WProofreader'];function S(_0x325681,_0x47f856,_0x44b350,_0x1d48c0=[]){const _0x26ce8a='string'==typeof _0x325681?_0x44b350['get'](_0x325681)['constructor']:_0x325681['prototype']['constructor'];if(_0x47f856['has'](_0x26ce8a))return _0x47f856['get'](_0x26ce8a);_0x47f856['set'](_0x26ce8a,!0x0);const _0x406eea=[...D,..._0x1d48c0]['map'](_0xc0efe6=>{if(_0x44b350['has'](_0xc0efe6))return _0x44b350['get'](_0xc0efe6)['constructor'];})['filter'](_0x348d48=>_0x348d48);if(_0x26ce8a&&_0x406eea['includes'](_0x26ce8a))return _0x47f856['set'](_0x26ce8a,!0x1),!0x1;if(!_0x26ce8a['requires'])return _0x47f856['set'](_0x26ce8a,!0x0),!0x0;const _0x2b340a=_0x26ce8a['requires']['every'](_0xbcbe5e=>S(_0xbcbe5e,_0x47f856,_0x44b350,_0x1d48c0));return _0x47f856['set'](_0x26ce8a,_0x2b340a),_0x2b340a;}function C(_0x275f99,_0xf52edf){const _0x5b3b63={};for(const _0x3bcf49 of _0x275f99['config']['names']())W['includes'](_0x3bcf49)||(_0x5b3b63[_0x3bcf49]=_0x275f99['config']['get'](_0x3bcf49));const _0x435bd1=_0x5b3b63['plugins']||[],_0x46361e=_0x275f99['constructor']['builtinPlugins']||[],_0x4c1ee0=_0x435bd1['length']?_0x435bd1:_0x46361e,_0x94d16a=_0x5b3b63['extraPlugins']||[];delete _0x5b3b63['extraPlugins'];const _0x37a0ed=_0x5b3b63['removePlugins']||[];delete _0x5b3b63['removePlugins'];const _0x50951c=_0x275f99['_context']['config']['get']('plugins')||[],_0xecc05e=_0x4c1ee0['concat'](_0x94d16a)['concat'](_0x50951c)['map'](_0x30799c=>'string'==typeof _0x30799c?_0x46361e['find'](_0x555116=>_0x555116['pluginName']==_0x30799c):_0x30799c)['filter'](_0x4893df=>!_0x37a0ed['includes'](_0x4893df)&&!_0x37a0ed['includes'](_0x4893df['pluginName'])),_0x1d2993=Array['from'](new Set(_0xecc05e)),_0x30b93c=new Map();return _0x5b3b63['plugins']=_0x1d2993['filter'](_0x2c5647=>S(_0x2c5647,_0x30b93c,_0x275f99['plugins'],_0xf52edf)),_0x5b3b63;}function B(_0x13f2f4,_0x1a0340){const _0x1e5da7=[];_0x13f2f4['document']['selection']['on']('change:range',()=>{const _0x363b34=function(_0x49b197,_0x595308){const _0x27b5f6=[];for(const _0x1bb984 of _0x49b197['markers']){const _0x1629a1=_0x1bb984['getRange']();(_0x1629a1['containsPosition'](_0x595308)||_0x1629a1['start']['isEqual'](_0x595308)||_0x1629a1['end']['isEqual'](_0x595308))&&_0x27b5f6['push'](_0x1bb984);}return _0x27b5f6;}(_0x13f2f4,_0x13f2f4['document']['selection']['focus']),_0x17b169=[],_0x3cfde2=[],_0x33be9a=[];for(const _0x2030b4 of _0x1e5da7)_0x363b34['includes'](_0x2030b4)||_0x17b169['push'](_0x2030b4);for(const _0x360d6d of _0x363b34)_0x1e5da7['includes'](_0x360d6d)||_0x3cfde2['push'](_0x360d6d),_0x33be9a['push'](_0x360d6d);(_0x17b169['length']||_0x3cfde2['length'])&&_0x1a0340({'left':_0x17b169,'entered':_0x3cfde2}),_0x1e5da7['length']=0x0,_0x1e5da7['push'](..._0x33be9a);});}const Q='Ctrl+Shift+E';function T(_0x49003f,_0xd314f0){const _0x32d82e=_0x49003f['element'];_0x49003f['keystrokes']['listenTo'](_0x32d82e);for(const _0x465623 of _0xd314f0)K(_0x49003f,_0x465623);_0xd314f0['on']('change',(_0x351306,_0x241385)=>{for(const _0x58c486 of _0x241385['removed'])_(_0x49003f,_0x58c486);for(const _0x1712c7 of Array['from'](_0x241385['added'])['reverse']())K(_0x49003f,_0x1712c7);}),_0x49003f['keystrokes']['set']('enter',(_0x1de011,_0x176441)=>{_0x32d82e===_0x1de011['target']&&(_0x49003f['focusCycler']['focusFirst'](),_0x176441());},{'filter':_0x3dd3d8=>_0x3dd3d8['target']===_0x32d82e}),_0x49003f['keystrokes']['set']('esc',(_0x36a996,_0x5a2e01)=>{_0x32d82e!==_0x36a996['target']?_0x49003f['focus']():_0x49003f['fire']('escape'),_0x5a2e01();}),_0x49003f['keystrokes']['set']('arrowdown',(_0x4a2fd5,_0x1f678f)=>{_0x32d82e===_0x4a2fd5['target']&&(_0x49003f['fire']('arrowdown'),_0x1f678f());}),_0x49003f['keystrokes']['set']('arrowup',(_0x49de25,_0x41d929)=>{_0x32d82e===_0x49de25['target']&&(_0x49003f['fire']('arrowup'),_0x41d929());});}function K(_0x222f8e,_0x23eed3){_0x23eed3['isRendered']&&(_0x222f8e['focusTracker']['add'](_0x23eed3['element']),_0x222f8e['keystrokes']['listenTo'](_0x23eed3['element']),_0x1b151f(_0x23eed3)&&function(_0x39377a,_0xccf931){const _0x5a6ca1=_0x39377a['actions'],_0x2be7cd=_0xccf931['actions'];for(const _0x380d7f of Object['keys'](_0x5a6ca1))if(_0x380d7f in _0x2be7cd&&_0x5a6ca1[_0x380d7f]!==_0x2be7cd[_0x380d7f])return!0x1;return!0x0;}(_0x222f8e['focusCycler'],_0x23eed3['focusCycler'])&&_0x222f8e['focusCycler']['chain'](_0x23eed3['focusCycler']));}function _(_0x1ed538,_0x29a088){_0x1ed538['focusTracker']['remove'](_0x29a088['element']),_0x1ed538['keystrokes']['stopListening'](_0x29a088['element']),_0x1b151f(_0x29a088)&&_0x1ed538['focusCycler']['unchain'](_0x29a088['focusCycler']);}export{G as AriaDescriptionView,m as ConfirmMixin,Q as FOCUS_ANNOTATION_KEYSTROKE,U as LateFocusButtonView,Y as LateFocusDropdownButtonView,o as Permissions,J as UserView,l as Users,R as getAllMarkersDomElementsSorted,E as getDateTimeFormatter,g as getMarkerDomElement,M as hashObject,C as sanitizeEditorConfig,T as setupThreadKeyboardNavigation,B as surroundingMarkersDetector,Z as trimHtml};