/*
 *             Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 *
 *
 *
 *
 *          +---------------------------------------------------------------------------------+
 *          |                                                                                 |
 *          |                                 Hello stranger!                                 |
 *          |                                                                                 |
 *          |                                                                                 |
 *          |   What you're currently looking at is the source code of a legally protected,   |
 *          |    proprietary software. Any attempts to deobfuscate / disassemble this code    |
 *          |               are forbidden and will result in legal consequences.              |
 *          |                                                                                 |
 *          |                                                                                 |
 *          +---------------------------------------------------------------------------------+
 *
 *
 *
 *
 */
import{Command as ts,Plugin as _0x5b49f3,PendingActions as _0x129b02,icons as _0x36c982}from'@ckeditor/ckeditor5-core/dist/index.js';import{CKEditorError as _0x49aacd,ObservableMixin as _0x3931d2,uid as _0x3ed9b7,insertToPriorityArray as _0xa8e1ea,priorities as _0x442074,logWarning as _0xddcbe8,getEnvKeystrokeText as _0x7186f2,FocusTracker as _0xfd3157,KeystrokeHandler as _0x47ddfa,Collection as Wt}from'@ckeditor/ckeditor5-utils/dist/index.js';import{normalizeColorOptions as _0x1b4678,View as _0x2b0893,ViewCollection as _0x4cfc30,FocusCycler as _0x2c5cd6,ViewModel as _0x1a8b68,createDropdown as Qt,SplitButtonView as _0x3c4e28,addListToDropdown as Kt,MenuBarMenuView as Yt,MenuBarMenuListView as Zt,ListSeparatorView as Xt,MenuBarMenuListItemView as te,MenuBarMenuListItemButtonView as _0xb0eac}from'@ckeditor/ckeditor5-ui/dist/index.js';import{Users as _0x4110b0,hashObject as _0x5d6edf,surroundingMarkersDetector as _0x1a9a8c,FOCUS_ANNOTATION_KEYSTROKE as _0x52f85c,AriaDescriptionView as _0x3917d6,setupThreadKeyboardNavigation as _0x138eb8,trimHtml as _0x116e46,UserView as _0xeceeaf,LateFocusButtonView as _0xd61558,getDateTimeFormatter as _0x3c7d17,getAllMarkersDomElementsSorted as _0x26a1e3,sanitizeEditorConfig as _0x260810}from'ckeditor5-collaboration/dist/index.js';import{Element as _0x462ad2,LiveRange as _0x1b93ff,LivePosition as _0x2fa80d}from'@ckeditor/ckeditor5-engine/dist/index.js';import{setHighlightHandling as _0x5eaa0b,toWidget as _0x218768}from'@ckeditor/ckeditor5-widget/dist/index.js';import{cloneDeep as _0x38de76,set as _0x24a8e6,isEqual as _0xc9e869,unset as _0x1269e5,omit as Rt}from'lodash-es';import{Delete as _0x52543c,Input as tr}from'@ckeditor/ckeditor5-typing/dist/index.js';import{Enter as _0x2e889b,ShiftEnter as _0x388555}from'@ckeditor/ckeditor5-enter/dist/index.js';class B extends ts{['_enabledCommands'];constructor(_0x280ef9,_0x5ce4a7){super(_0x280ef9),this['_enabledCommands']=_0x5ce4a7,this['value']=!0x1,this['refresh'](),this['_isEnabledBasedOnSelection']=!0x1;}['refresh'](){this['isEnabled']=!0x0;}['execute'](){this['value']=!this['value'],this['value']?this['_disableUnsupportedCommands']():this['_enableCommands']();}['_disableUnsupportedCommands'](){for(const _0x3c081c of this['editor']['commands']['commands']())_0x3c081c['affectsData']&&!this['_enabledCommands']['has'](_0x3c081c)&&_0x3c081c['forceDisabled']('TrackChangesCommand');}['_enableCommands'](){for(const _0x504e40 of this['editor']['commands']['commands']())_0x504e40['affectsData']&&!this['_enabledCommands']['has'](_0x504e40)&&_0x504e40['clearForceDisabled']('TrackChangesCommand');}}class x extends ts{['_suggestions'];constructor(_0x1ff195,_0x425da2){super(_0x1ff195),this['_suggestions']=_0x425da2,this['refresh'](),this['_isEnabledBasedOnSelection']=!0x1;}['refresh'](){this['isEnabled']=!0x0;}['execute'](_0x186f49){const _0x5775a2=this['_suggestions']['get'](_0x186f49);if(!_0x5775a2)throw new _0x49aacd('track-changes-accept-suggestion-not-found',this);const _0x5929a4=_0x5775a2['getRanges']();this['editor']['model']['canEditAt'](_0x5929a4)&&this['editor']['plugins']['get']('TrackChangesEditing')['acceptSuggestion'](_0x5775a2);}}class O extends ts{['_suggestions'];constructor(_0xb8eeea,_0x4418a4){super(_0xb8eeea),this['_suggestions']=_0x4418a4,this['refresh'](),this['_isEnabledBasedOnSelection']=!0x1;}['refresh'](){this['isEnabled']=!0x0;}['execute'](_0x2adb42){const _0xe4a5c=this['_suggestions']['get'](_0x2adb42);if(!_0xe4a5c)throw new _0x49aacd('track-changes-discard-suggestion-not-found',this);const _0x213439=_0xe4a5c['getRanges']();this['editor']['model']['canEditAt'](_0x213439)&&this['editor']['plugins']['get']('TrackChangesEditing')['discardSuggestion'](_0xe4a5c);}}function ls(_0x23f994,_0x14e033){let _0x139bdd='';return _0x139bdd+=_0x23f994['split']('*')['map']((_0xbb2ad8,_0x1166fb)=>_0x1166fb%0x2!=0x0?'<span\x20class=\x22ck-suggestion-type\x22>'+nn(_0xbb2ad8)+'</span>':nn(_0xbb2ad8))['join'](''),_0x14e033&&(_0x139bdd+='<span\x20class=\x22ck-suggestion-color\x22\x20style=\x22background-color:\x20'+_0x14e033['value']+'\x22\x20title=\x22'+_0x14e033['title']+'\x22></span>'),_0x139bdd;}function nn(_0x4c9fcd){const _0x2fffa5=document['createElement']('span');return _0x2fffa5['innerText']=_0x4c9fcd,_0x2fffa5['innerHTML'];}function ss(_0x179012){return _0x179012['sort']((_0x1eb45c,_0x47231d)=>'deletion'==_0x1eb45c['type']&&'deletion'!=_0x47231d['type']?-0x1:'deletion'!=_0x1eb45c['type']&&'deletion'==_0x47231d['type']?0x1:0x0);}function to(_0x1d285a,_0x341239){let _0x2205fc,_0x249622=0x0;const _0x16e875=[],_0x5bc0bb=_0x341239['schema'];for(;_0x249622<_0x1d285a['length'];){const _0x2ec99f=_0x1d285a[_0x249622],_0x430b60=_0x1d285a[_0x249622+0x1];_0x2205fc||(_0x2205fc=_0x341239['createPositionBefore'](_0x2ec99f)),on(_0x341239,_0x2ec99f,_0x430b60)||(_0x16e875['push'](_0x341239['createRange'](_0x2205fc,_0x5bc0bb['isObject'](_0x2ec99f)?_0x341239['createPositionAfter'](_0x2ec99f):_0x341239['createPositionAt'](_0x2ec99f,'end'))),_0x2205fc=null),_0x249622++;}return _0x16e875;}function on(_0x1b0a01,_0x13146c,_0x44d945){if(!_0x44d945)return!0x1;const _0xb84b6d=_0x1b0a01['createPositionAfter'](_0x13146c),_0x5c2f4e=_0x1b0a01['createPositionBefore'](_0x44d945);return _0xb84b6d['isTouching'](_0x5c2f4e);}function rs(_0x30a50a,_0x12fb24,_0x7f905b){for(;_0x7f905b['length'];){const _0x3b0317=_0x7f905b['splice'](0x0,0x64);_0x30a50a['change'](()=>{for(const _0x3dcb7 of _0x3b0317)_0x3dcb7['isInContent']&&_0x12fb24['execute'](_0x3dcb7['id']);});}}class R extends ts{['_command'];['_suggestions'];constructor(_0x5b5b98,_0x20d2d2,_0x339b3c){super(_0x5b5b98),this['_command']=_0x20d2d2,this['_suggestions']=_0x339b3c,this['refresh'](),this['_isEnabledBasedOnSelection']=!0x1;}['refresh'](){const _0x5975f1=Array['from'](this['_suggestions']['values']())['some'](_0x1b7226=>_0x1b7226['isInContent']);this['isEnabled']=this['_command']['isEnabled']&&_0x5975f1;}['execute'](){const _0x58dbad=ss(Array['from'](this['_suggestions']['values']()));for(const _0x284808 of _0x58dbad){const _0x449beb=_0x284808['getRanges']();if(!this['editor']['model']['canEditAt'](_0x449beb))return;}rs(this['editor']['model'],this['_command'],_0x58dbad);}}class E extends ts{['_command'];['_suggestions'];['_selectedSuggestions'];constructor(_0x465e6e,_0x253976,_0x11c7d9){super(_0x465e6e),this['_command']=_0x253976,this['_suggestions']=_0x11c7d9,this['_selectedSuggestions']=new Set(),this['refresh'](),this['_isEnabledBasedOnSelection']=!0x1;}['refresh'](){const _0x52cd54=this['editor']['model']['document']['selection'],_0x219151=Array['from'](this['_suggestions']['values']());this['_selectedSuggestions']=function(_0xbfbbb8,_0x11ea27){const _0x7ac44=Array['from'](_0xbfbbb8['getRanges']()),_0x1576d3=new Set();for(const _0x2f81ee of _0x11ea27)if(_0x2f81ee['isInContent']){for(const _0xf0a9b2 of _0x7ac44)for(const _0x18414d of _0x2f81ee['getRanges']())(_0xf0a9b2['isIntersecting'](_0x18414d)||_0xbfbbb8['isCollapsed']&&!_0x2f81ee['isMultiRange']&&_0x2f81ee['next']&&_0x18414d['end']['isTouching'](_0xf0a9b2['start']))&&_0x1576d3['add'](_0x2f81ee);}return _0x1576d3;}(_0x52cd54,_0x219151),this['isEnabled']=this['_command']['isEnabled']&&!!this['_selectedSuggestions']['size'];}['execute'](){const _0x1293bf=ss(Array['from'](this['_selectedSuggestions']));for(const _0x504a32 of _0x1293bf){const _0x34506b=_0x504a32['getRanges']();if(!this['editor']['model']['canEditAt'](_0x34506b))return;}rs(this['editor']['model'],this['_command'],_0x1293bf);}}class u extends/* #__PURE__ -- @preserve */
_0x3931d2(){['id'];['type'];['subType'];['author'];['creator'];['isExternal'];['data'];['createdAt'];['_isDataLoaded']=!0x1;['_model'];['_onAccept'];['_onDiscard'];['_onAttributesChange'];['_markerNames'];constructor(_0x4dace4,_0x105f00){super(),this['id']=_0x105f00['id'],this['type']=_0x105f00['type'],this['subType']=_0x105f00['subType']||null,this['author']=_0x105f00['author'],this['creator']=_0x105f00['creator']||_0x105f00['author'],this['isExternal']=Boolean(_0x105f00['attributes']&&_0x105f00['attributes']['@external']),this['data']=null,this['_model']=_0x4dace4,this['_onAccept']=_0x105f00['onAccept'],this['_onDiscard']=_0x105f00['onDiscard'],this['_onAttributesChange']=_0x105f00['onAttributesChange'],this['_markerNames']=new Set(),this['createdAt']=null,this['set']('authoredAt',null),this['set']('attributes',_0x105f00['attributes']||{}),this['set']('previous',null),this['set']('next',null),this['set']('commentThread',null),this['set']('_saved',!0x1),this['decorate']('accept'),this['decorate']('discard');}get['head'](){let _0x256c54=this;for(;_0x256c54['previous'];)_0x256c54=_0x256c54['previous'];return _0x256c54;}get['hasComments'](){return!!this['commentThread']&&this['commentThread']['length']>0x0;}get['isMultiRange'](){if(0x0==this['_markerNames']['size'])return!0x1;return 0x6==Array['from'](this['_markerNames'])[0x0]['split'](':')['length'];}get['isInContent'](){return null!==this['getFirstMarker']();}['addMarkerName'](_0xab9b8c){this['_markerNames']['add'](_0xab9b8c);}['getMarkerNames'](){return Array['from'](this['_markerNames']);}['getMarkers'](){return this['getMarkerNames']()['map'](_0x3dfd4d=>this['_model']['markers']['get'](_0x3dfd4d))['filter'](_0x111d6d=>_0x111d6d);}['getFirstMarker'](){return this['getMarkers']()[0x0]||null;}['removeMarkers'](){this['_model']['change'](_0x5ef3b5=>{for(const _0x195bd4 of this['getMarkers']())_0x5ef3b5['removeMarker'](_0x195bd4);}),this['_markerNames']['clear']();}['removeMarker'](_0x4c0414){this['_model']['change'](_0x20dd78=>{_0x20dd78['removeMarker'](_0x4c0414);}),this['_markerNames']['delete'](_0x4c0414);}['addRange'](_0x2611fd){const _0x1ffa7c='suggestion:'+this['type']+':'+this['subType']+':'+this['id']+':'+this['creator']['id']+':'+u['getMultiRangeId']();this['addMarkerName'](_0x1ffa7c),this['_model']['change'](_0xf19b46=>{_0xf19b46['addMarker'](_0x1ffa7c,{'range':_0x2611fd,'usingOperation':!0x0,'affectsData':!0x0});});}['isIntersectingWithRange'](_0x5161fb){for(const _0x560ae5 of this['getRanges']())if(_0x560ae5['isIntersecting'](_0x5161fb))return!0x0;return!0x1;}['getRanges'](){return this['getMarkers']()['map'](_0x47b07c=>_0x47b07c['getRange']());}['getItems'](){return this['getRanges']()['reduce']((_0x30ab61,_0x1e4588)=>[..._0x30ab61,..._0x1e4588['getItems']()],[]);}['getFirstRange'](){return this['getFirstMarker']()?.['getRange']()||null;}['getContainedElement'](){const _0x28cf4c=this['getRanges']();if(0x1!=_0x28cf4c['length'])return null;const _0x38f162=_0x28cf4c[0x0],_0x3e0811=_0x38f162['start']['nodeAfter'],_0x4ca26e=_0x38f162['end']['nodeBefore'];return _0x3e0811 instanceof _0x462ad2?_0x3e0811!=_0x4ca26e?null:_0x3e0811:null;}['accept'](){this['_onAccept'](this['getRanges'](),this['data'],this['attributes']),this['removeMarkers']();}['discard'](){this['_onDiscard'](this['getRanges'](),this['data'],this['attributes']),this['removeMarkers']();}['getAllAdjacentSuggestions'](){const _0x29164e=[];let _0x3bcc68=this['head'];for(;_0x3bcc68;)_0x29164e['push'](_0x3bcc68),_0x3bcc68=_0x3bcc68['next'];return _0x29164e;}['setAttribute'](_0x2ab719,_0x284f58){const _0x29d79a=_0x38de76(this['attributes']);_0x24a8e6(_0x29d79a,_0x2ab719,_0x284f58),_0xc9e869(_0x29d79a,this['attributes'])||(this['attributes']=_0x29d79a,this['_onAttributesChange'](_0x29d79a));}['removeAttribute'](_0x55da14){const _0x3961a8=_0x38de76(this['attributes']);_0x1269e5(_0x3961a8,_0x55da14),_0xc9e869(_0x3961a8,this['attributes'])||(this['attributes']=_0x3961a8,this['_onAttributesChange'](this['attributes']));}['toJSON'](){return{'id':this['id'],'type':this['subType']?this['type']+':'+this['subType']:this['type'],'authorId':this['creator']['id'],'createdAt':this['createdAt'],'hasComments':this['hasComments'],'data':this['data'],'attributes':this['attributes']};}static['getMultiRangeId'](){return _0x3ed9b7()['substr'](0x1,0x5);}}function o(_0x5c737b,_0x43a48c,_0x581b27){const _0xdad89d=_0x5c737b['t'],t=_0x5c737b['t'];switch(_0x43a48c){case'Track\x20changes':return t('Track\x20changes');case'Accept\x20suggestion':return t('Accept\x20suggestion');case'Discard\x20suggestion':return t('Discard\x20suggestion');case'Accept\x20all\x20suggestions':return t('Accept\x20all\x20suggestions');case'Accept\x20all\x20selected\x20suggestions':return t('Accept\x20all\x20selected\x20suggestions');case'Discard\x20all\x20suggestions':return t('Discard\x20all\x20suggestions');case'Discard\x20all\x20selected\x20suggestions':return t('Discard\x20all\x20selected\x20suggestions');case'*Reset\x20font\x20size*':return t('*Reset\x20font\x20size*');case'*Reset\x20font\x20family*':return t('*Reset\x20font\x20family*');case'*Reset\x20font\x20color*':return t('*Reset\x20font\x20color*');case'*Reset\x20font\x20background\x20color*':return t('*Reset\x20font\x20background\x20color*');case'*Remove\x20image\x20text\x20alternative*':return t('*Remove\x20image\x20text\x20alternative*');case'*Reset\x20image\x20width*':return t('*Reset\x20image\x20width*');case'*Remove\x20link*':return t('*Remove\x20link*');case'*Check\x20item*':return t('*Check\x20item*');case'*Uncheck\x20item*':return t('*Uncheck\x20item*');case'*Remove\x20all\x20formatting*':return t('*Remove\x20all\x20formatting*');case'*Replace\x20table\x20cells*':return t('*Replace\x20table\x20cells*');case'*Merge\x20cells*':return t('*Merge\x20cells*');case'*Split\x20cell:*\x20vertically':return t('*Split\x20cell:*\x20vertically');case'*Split\x20cell:*\x20horizontally':return t('*Split\x20cell:*\x20horizontally');case'*Indent:*\x20%0':return t('*Indent:*\x20%0',_0x581b27);case'*Outdent:*\x20%0':return t('*Outdent:*\x20%0',_0x581b27);case'*Change\x20to:*\x20%0':return t('*Change\x20to:*\x20%0',_0x581b27);case'*Insert:*\x20%0':return t('*Insert:*\x20%0',_0x581b27);case'*Format:*\x20%0':return t('*Format:*\x20%0',_0x581b27);case'*Format:*\x20change\x20table\x20properties':return t('*Format:*\x20change\x20table\x20properties');case'*Format:*\x20change\x20table\x20cell\x20properties':return t('*Format:*\x20change\x20table\x20cell\x20properties');case'*Format:*\x20insert\x20into\x20%0':return t('*Format:*\x20insert\x20into\x20%0',_0x581b27);case'*Format:*\x20remove\x20from\x20%0':return t('*Format:*\x20remove\x20from\x20%0',_0x581b27);case'*Replace\x20image\x20URL*':return t('*Replace\x20image\x20URL*');case'*Format:*\x20resize\x20table':return t('*Format:*\x20resize\x20table');case'*Format:*\x20set\x20order\x20to\x20reversed':return t('*Format:*\x20set\x20order\x20to\x20reversed');case'*Format:*\x20set\x20order\x20to\x20regular':return t('*Format:*\x20set\x20order\x20to\x20regular');case'*Format:*\x20set\x20start\x20index\x20to\x20%0':return t('*Format:*\x20set\x20start\x20index\x20to\x20%0',_0x581b27);case'*Change\x20%0\x20content*':return t('*Change\x20%0\x20content*',_0x581b27);case'*Remove:*\x20%0':return t('*Remove:*\x20%0',_0x581b27);case'*Merge:*\x20%0':return t('*Merge:*\x20%0',_0x581b27);case'*Split:*\x20%0':return t('*Split:*\x20%0',_0x581b27);case'*Remove\x20format:*\x20%0':return t('*Remove\x20format:*\x20%0',_0x581b27);case'*Set\x20font\x20size:*\x20%0':return t('*Set\x20font\x20size:*\x20%0',_0x581b27);case'*Set\x20font\x20family:*\x20%0':return t('*Set\x20font\x20family:*\x20%0',_0x581b27);case'*Set\x20format\x20to:*\x20%0':return t('*Set\x20format\x20to:*\x20%0',_0x581b27);case'*Set\x20font\x20color:*\x20%0':return t('*Set\x20font\x20color:*\x20%0',_0x581b27);case'*Set\x20font\x20background\x20color:*\x20%0':return t('*Set\x20font\x20background\x20color:*\x20%0',_0x581b27);case'*Set\x20format:*\x20%0':return t('*Set\x20format:*\x20%0',_0x581b27);case'*Set\x20image\x20text\x20alternative:*\x20%0':return t('*Set\x20image\x20text\x20alternative:*\x20%0',_0x581b27);case'*Set\x20image\x20width:*\x20%0':return t('*Set\x20image\x20width:*\x20%0',_0x581b27);case'*Set\x20link:*\x20%0':return t('*Set\x20link:*\x20%0',_0x581b27);case'*Set\x20highlight:*\x20%0':return t('*Set\x20highlight:*\x20%0',_0x581b27);case'*Remove\x20highlight*':return t('*Remove\x20highlight*');case'FORMAT_HIGHLIGHT':return t({'string':'highlight','id':'FORMAT_HIGHLIGHT'});case'FORMAT_RESTRICTED_ENABLED':return t({'string':'*Enable\x20in\x20restricted\x20editing\x20mode*','id':'FORMAT_RESTRICTED_ENABLED'});case'FORMAT_RESTRICTED_DISABLED':return t({'string':'*Disable\x20in\x20restricted\x20editing\x20mode*','id':'FORMAT_RESTRICTED_DISABLED'});case'ELEMENT_TABLE':return t({'string':'table','plural':'%0\x20tables','id':'ELEMENT_TABLE'},_0x581b27);case'ELEMENT_PARAGRAPH':return t({'string':'paragraph','plural':'%0\x20paragraphs','id':'ELEMENT_PARAGRAPH'},_0x581b27);case'ELEMENT_PAGE_BREAK':return t({'string':'page\x20break','plural':'%0\x20page\x20breaks','id':'ELEMENT_PAGE_BREAK'},_0x581b27);case'ELEMENT_MEDIA':return t({'string':'media\x20item','plural':'%0\x20media\x20items','id':'ELEMENT_MEDIA'},_0x581b27);case'ELEMENT_IMAGE':return t({'string':'image','plural':'%0\x20images','id':'ELEMENT_IMAGE'},_0x581b27);case'ELEMENT_INLINE_IMAGE':return t({'string':'image','plural':'%0\x20images','id':'ELEMENT_INLINE_IMAGE'},_0x581b27);case'FORMAT_SIDE_IMAGE':return t({'string':'side\x20image','id':'FORMAT_SIDE_IMAGE'});case'ELEMENT_CAPTION':return t({'string':'caption','id':'ELEMENT_CAPTION'});case'ELEMENT_HORIZONTAL_LINE':return t({'string':'horizontal\x20line','plural':'%0\x20horizontal\x20lines','id':'ELEMENT_HORIZONTAL_LINE'},_0x581b27);case'ELEMENT_HTML_EMBED':return t({'string':'HTML\x20embed','plural':'%0\x20HTML\x20embeds','id':'ELEMENT_HTML_EMBED'},_0x581b27);case'ELEMENT_HEADING':return t({'string':'heading\x20(level\x20%1)','plural':'%0\x20headings\x20(level\x20%1)','id':'ELEMENT_HEADING'},_0x581b27);case'ELEMENT_HEADING_CUSTOM':return t({'string':'heading\x20(%1)','plural':'%0\x20headings\x20(%1)','id':'ELEMENT_HEADING_CUSTOM'},_0x581b27);case'ELEMENT_LIST_ITEM':return t({'string':'list\x20item','plural':'%0\x20list\x20items','id':'ELEMENT_LIST_ITEM'},_0x581b27);case'ELEMENT_DEFAULT_LIST_DEFAULT':return t({'string':'default\x20list\x20style','id':'ELEMENT_DEFAULT_LIST_DEFAULT'});case'ELEMENT_BULLETED_LIST':return t({'string':'bulleted\x20list','id':'ELEMENT_BULLETED_LIST'});case'ELEMENT_BULLETED_LIST_DEFAULT':return t({'string':'bulleted\x20list\x20(default)','id':'ELEMENT_BULLETED_LIST_DEFAULT'});case'ELEMENT_BULLETED_LIST_CIRCLE':return t({'string':'bulleted\x20list\x20(circle)','id':'ELEMENT_BULLETED_LIST_CIRCLE'});case'ELEMENT_BULLETED_LIST_DISC':return t({'string':'bulleted\x20list\x20(disc)','id':'ELEMENT_BULLETED_LIST_DISC'});case'ELEMENT_BULLETED_LIST_SQUARE':return t({'string':'bulleted\x20list\x20(square)','id':'ELEMENT_BULLETED_LIST_SQUARE'});case'ELEMENT_NUMBERED_LIST_DEFAULT':return t({'string':'numbered\x20list\x20(default)','id':'ELEMENT_NUMBERED_LIST_DEFAULT'});case'ELEMENT_NUMBERED_LIST':return t({'string':'numbered\x20list','id':'ELEMENT_NUMBERED_LIST'});case'ELEMENT_NUMBERED_LIST_DECIMAL':return t({'string':'numbered\x20list\x20(decimal)','id':'ELEMENT_NUMBERED_LIST_DECIMAL'});case'ELEMENT_NUMBERED_LIST_DECIMAL_LEADING_ZERO':return t({'string':'numbered\x20list\x20(decimal\x20with\x20leading\x20zero)','id':'ELEMENT_NUMBERED_LIST_DECIMAL_LEADING_ZERO'});case'ELEMENT_NUMBERED_LIST_LOWER_LATIN':return t({'string':'numbered\x20list\x20(lower-latin)','id':'ELEMENT_NUMBERED_LIST_LOWER_LATIN'});case'ELEMENT_NUMBERED_LIST_LOWER_ROMAN':return t({'string':'numbered\x20list\x20(lower-roman)','id':'ELEMENT_NUMBERED_LIST_LOWER_ROMAN'});case'ELEMENT_NUMBERED_LIST_UPPER_LATIN':return t({'string':'numbered\x20list\x20(upper-latin)','id':'ELEMENT_NUMBERED_LIST_UPPER_LATIN'});case'ELEMENT_NUMBERED_LIST_UPPER_ROMAN':return t({'string':'numbered\x20list\x20(upper-roman)','id':'ELEMENT_NUMBERED_LIST_UPPER_ROMAN'});case'ELEMENT_TODO_LIST':return t({'string':'to-do\x20list','id':'ELEMENT_TODO_LIST'});case'ELEMENT_MULTI_LEVEL_LIST':return t({'string':'multi-level\x20list','id':'ELEMENT_MULTI_LEVEL_LIST'});case'REPLACE_TEXT':return t({'string':'*Replace:*\x20%0\x20*with*\x20%1','id':'REPLACE_TEXT'},_0x581b27);case'ELEMENT_SPACE':return t({'string':'space','plural':'%0\x20spaces','id':'ELEMENT_SPACE'},_0x581b27);case'FORMAT_ALIGNMENT':return t({'string':'alignment','id':'FORMAT_ALIGNMENT'});case'FORMAT_ALIGN_TO_LEFT':return t({'string':'align\x20to\x20left','id':'FORMAT_ALIGN_TO_LEFT'});case'FORMAT_ALIGN_TO_RIGHT':return t({'string':'align\x20to\x20right','id':'FORMAT_ALIGN_TO_RIGHT'});case'FORMAT_ALIGN_TO_CENTER':return t({'string':'align\x20to\x20center','id':'FORMAT_ALIGN_TO_CENTER'});case'FORMAT_JUSTIFY_TEXT':return t({'string':'justify','id':'FORMAT_JUSTIFY_TEXT'});case'FORMAT_BOLD':return t({'string':'bold','id':'FORMAT_BOLD'});case'FORMAT_ITALIC':return t({'string':'italic','id':'FORMAT_ITALIC'});case'FORMAT_UNDERLINE':return t({'string':'underline','id':'FORMAT_UNDERLINE'});case'FORMAT_CODE':return t({'string':'code','id':'FORMAT_CODE'});case'FORMAT_STRIKETHROUGH':return t({'string':'strikethrough','id':'FORMAT_STRIKETHROUGH'});case'FORMAT_SUBSCRIPT':return t({'string':'subscript','id':'FORMAT_SUBSCRIPT'});case'FORMAT_SUPERSCRIPT':return t({'string':'superscript','id':'FORMAT_SUPERSCRIPT'});case'ELEMENT_BLOCK_QUOTE':return t({'string':'block\x20quote','id':'ELEMENT_BLOCK_QUOTE'});case'ELEMENT_CODE_BLOCK':return t({'string':'code\x20block','plural':'%0\x20code\x20blocks','id':'ELEMENT_CODE_BLOCK'},_0x581b27);case'FORMAT_HEADER_COLUMN':return t({'string':'header\x20column','id':'FORMAT_HEADER_COLUMN'});case'FORMAT_REGULAR_COLUMN':return t({'string':'regular\x20column','id':'FORMAT_REGULAR_COLUMN'});case'FORMAT_HEADER_ROW':return t({'string':'header\x20row','id':'FORMAT_HEADER_ROW'});case'FORMAT_REGULAR_ROW':return t({'string':'regular\x20row','id':'FORMAT_REGULAR_ROW'});case'FORMAT_INDENT':return t({'string':'indent','id':'FORMAT_INDENT'});case'FORMAT_LIST_REVERSED':return t({'string':'list\x20reversed','id':'FORMAT_LIST_REVERSED'});case'FORMAT_LIST_START':return t({'string':'list\x20start','id':'FORMAT_LIST_START'});case'FORMAT_FONT_SIZE':return t({'string':'font\x20size','id':'FORMAT_FONT_SIZE'});case'FORMAT_FONT_FAMILY':return t({'string':'font\x20family','id':'FORMAT_FONT_FAMILY'});case'FORMAT_FONT_COLOR':return t({'string':'font\x20color','id':'FORMAT_FONT_COLOR'});case'FORMAT_FONT_BACKGROUND':return t({'string':'font\x20background\x20color','id':'FORMAT_FONT_BACKGROUND'});case'FORMAT_IMAGE_SIZE':return t({'string':'image\x20size','id':'FORMAT_IMAGE_SIZE'});case'FORMAT_STYLE':return t({'string':'style','id':'FORMAT_STYLE'});case'PENDING_ACTION_SUGGESTION':return t({'string':'Unsaved\x20change\x20in\x20suggestion.','id':'PENDING_ACTION_SUGGESTION'});case'ELEMENT_TABLE_WITH_TEXT':return t({'string':'table\x20*with\x20text*\x20%0','id':'ELEMENT_TABLE_WITH_TEXT'},_0x581b27);case'ELEMENT_TABLE_ROW':return t({'string':'table\x20row','plural':'%0\x20table\x20rows','id':'ELEMENT_TABLE_ROW'},_0x581b27);case'ELEMENT_TABLE_ROW_WITH_TEXT':return t({'string':'table\x20row\x20*with\x20text*\x20%1','plural':'%0\x20table\x20rows\x20*with\x20text*\x20%1','id':'ELEMENT_TABLE_ROW_WITH_TEXT'},_0x581b27);case'ELEMENT_TABLE_COLUMN':return t({'string':'table\x20column','plural':'%0\x20table\x20columns','id':'ELEMENT_TABLE_COLUMN'},_0x581b27);case'ELEMENT_TABLE_COLUMN_WITH_TEXT':return t({'string':'table\x20column\x20*with\x20text*\x20%1','plural':'%0\x20table\x20columns\x20*with\x20text*\x20%1','id':'ELEMENT_TABLE_COLUMN_WITH_TEXT'},_0x581b27);case'ELEMENT_TABLE_OF_CONTENTS':return t({'string':'table\x20of\x20contents','plural':'%0\x20tables\x20of\x20contents','id':'ELEMENT_TABLE_OF_CONTENTS'},_0x581b27);case'ELEMENT_LINE_BREAK':return t({'id':'ELEMENT_LINE_BREAK','string':'line\x20break','plural':'%0\x20line\x20breaks'},_0x581b27);case'ELEMENT_TITLE':return t({'id':'ELEMENT_TITLE','string':'title'});case'ELEMENT_MERGE_FIELD':return t({'id':'ELEMENT_MERGE_FIELD','string':'merge\x20field','plural':'%0\x20merge\x20fields'},_0x581b27);case'EXTERNAL_SUGGESTION':return t({'id':'EXTERNAL_SUGGESTION','string':'This\x20suggestion\x20comes\x20from\x20an\x20external\x20source.'});case'EXTERNAL_IMPORT_WORD_SUGGESTION':return t({'string':'This\x20suggestion\x20comes\x20from\x20an\x20imported\x20Word\x20file.','id':'EXTERNAL_IMPORT_WORD_SUGGESTION'});case'EXTERNAL_AVATAR':return _0xdad89d({'string':'Displayed\x20author\x20name\x20comes\x20from\x20external\x20source\x20(added\x20by\x20%0)','id':'EXTERNAL_AVATAR'},_0x581b27);case'EXTERNAL_IMPORT_WORD_AVATAR':return _0xdad89d({'string':'Displayed\x20author\x20name\x20comes\x20from\x20a\x20Word\x20document\x20imported\x20by\x20%0','id':'EXTERNAL_IMPORT_WORD_AVATAR'},_0x581b27);case'ENTER_INSERTION_SUGGESTION_ANNOUNCEMENT':return t({'string':'Entering\x20insertion\x20suggestion.\x20Press\x20%0\x20to\x20go\x20to\x20the\x20discussion.','id':'ENTER_INSERTION_SUGGESTION_ANNOUNCEMENT'},_0x581b27);case'LEAVE_INSERTION_SUGGESTION_ANNOUNCEMENT':return t({'string':'Leaving\x20insertion\x20suggestion.','id':'LEAVE_INSERTION_SUGGESTION_ANNOUNCEMENT'});case'ENTER_DELETION_SUGGESTION_ANNOUNCEMENT':return t({'string':'Entering\x20deletion\x20suggestion.\x20Press\x20%0\x20to\x20go\x20to\x20the\x20discussion.','id':'ENTER_DELETION_SUGGESTION_ANNOUNCEMENT'},_0x581b27);case'LEAVE_DELETION_SUGGESTION_ANNOUNCEMENT':return t({'string':'Leaving\x20deletion\x20suggestion.','id':'LEAVE_DELETION_SUGGESTION_ANNOUNCEMENT'});case'ENTER_FORMATTING_SUGGESTION_ANNOUNCEMENT':return t({'string':'Entering\x20formatting\x20suggestion.\x20Press\x20%0\x20to\x20go\x20to\x20the\x20discussion.','id':'ENTER_FORMATTING_SUGGESTION_ANNOUNCEMENT'},_0x581b27);case'LEAVE_FORMATTING_SUGGESTION_ANNOUNCEMENT':return t({'string':'Leaving\x20formatting\x20suggestion.','id':'LEAVE_FORMATTING_SUGGESTION_ANNOUNCEMENT'});case'SUGGESTION_THREAD_ARIA_LABEL':return t({'string':'Suggestion\x20by\x20%1.\x20Created\x20on\x20%2.\x20%0\x20reply.\x20%3','plural':'Suggestion\x20by\x20%1.\x20Created\x20on\x20%2.\x20%0\x20replies.\x20%3','id':'SUGGESTION_THREAD_ARIA_LABEL'},_0x581b27);case'SUGGESTION_THREAD_DESCRIPTION':return t({'string':'Press\x20Enter\x20for\x20more\x20options.\x20Press\x20Escape\x20to\x20exit.','id':'SUGGESTION_THREAD_DESCRIPTION'});default:return _0x43a48c;}}class f{['_customCallbacks'];['_itemLabels'];['_itemLabelsCallbacks'];['_attributeLabels'];['_schema'];['_locale'];constructor(_0x4e10ba,_0x113fcf){this['_customCallbacks']=[],this['_itemLabels']=new Map(),this['_itemLabelsCallbacks']=[],this['_attributeLabels']=new Map(),this['_schema']=_0x4e10ba,this['_locale']=_0x113fcf;}['getDescriptions'](_0x3ae7dd){const _0x50e5a3=[],_0x43045e=new Set(),_0x4bc232=new Set();for(let _0x31d331=0x0;_0x31d331<_0x3ae7dd['length'];_0x31d331++){const _0x1bb149=_0x3ae7dd[_0x31d331];if(!_0x1bb149['isInContent'])continue;const _0x8d8dcc=this['_handleCustomCallbackDescription'](_0x1bb149);if(_0x8d8dcc){if(null!=_0x1bb149['subType']){if(_0x43045e['has'](_0x1bb149['subType']))continue;_0x43045e['add'](_0x1bb149['subType']);}_0x50e5a3['push'](_0x8d8dcc);}else{if('attribute'!=_0x1bb149['type'])'insertion'!=_0x1bb149['type']&&'deletion'!=_0x1bb149['type']||this['_handleInsertRemoveSuggestionDescription'](_0x50e5a3,_0x1bb149,_0x3ae7dd[_0x31d331+0x1]);else{const _0x3f765b=_0x1bb149['data']['key'];if(_0x4bc232['has'](_0x3f765b))continue;_0x4bc232['add'](_0x1bb149['data']['key']),_0x3f765b==m?this['_handleRenameSuggestionDescription'](_0x50e5a3,_0x1bb149):this['_handleAttributeSuggestionDescription'](_0x50e5a3,_0x1bb149);}}}return this['_resolveDescriptionItems'](_0x50e5a3);}['registerDescriptionCallback'](_0x182138){this['_customCallbacks']['push'](_0x182138);}['registerElementLabel'](_0x2c76c9,_0x15211c,_0x17406b=_0x442074['normal']){'function'==typeof _0x2c76c9?_0xa8e1ea(this['_itemLabelsCallbacks'],{'matchingCallback':_0x2c76c9,'label':_0x15211c,'priority':_0x17406b}):this['_itemLabels']['set'](_0x2c76c9,_0x15211c);}['registerAttributeLabel'](_0x39159d,_0x79a716){this['_attributeLabels']['set'](_0x39159d,_0x79a716);}['getItemLabel'](_0x817db1,_0x51fea3=0x1){let _0x1d611b;for(const _0x161114 of this['_itemLabelsCallbacks'])if(_0x161114['matchingCallback'](_0x817db1)){_0x1d611b=_0x161114['label'];break;}return _0x1d611b||(_0x1d611b=this['_itemLabels']['get'](_0x817db1['name'])),_0x1d611b?_0x1d611b(_0x51fea3):0x1!==_0x51fea3?_0x51fea3+'\x20'+_0x817db1['name']+'s':''+_0x817db1['name'];}['_addDescriptionItems'](_0x5f0fb2,_0x437f00){const _0x42f1cd=_0x437f00['getFirstRange']()['getWalker'](),_0x354c53='insertion'==_0x437f00['type']?'add':'remove';for(const _0x2f047e of _0x42f1cd){const _0x3c2cb8=_0x2f047e['item'],_0x2c0424=_0x5f0fb2[_0x5f0fb2['length']-0x1];if(_0x3c2cb8['is']('$textProxy'))_0x2c0424&&_0x2c0424['type']['indexOf']('Container')>-0x1&&_0x5f0fb2['pop'](),_0x2c0424&&'text'==_0x2c0424['type']?_0x2c0424[_0x354c53]+=_0x3c2cb8['data']:_0x5f0fb2['push']({'type':'text','add':'add'==_0x354c53?_0x3c2cb8['data']:'','remove':'remove'==_0x354c53?_0x3c2cb8['data']:''});else{if(this['_schema']['isObject'](_0x3c2cb8)){const _0x2d1374=_0x3c2cb8;if(_0x2c0424&&_0x2c0424['type']['indexOf']('Container')>-0x1&&_0x5f0fb2['pop'](),'elementEnd'==_0x2f047e['type'])continue;_0x2c0424&&_0x2c0424['type']==_0x354c53+'Object'&&_0x2c0424['element']['name']==_0x2d1374['name']?_0x2c0424['quantity']++:_0x5f0fb2['push']({'type':_0x354c53+'Object','element':_0x2d1374,'quantity':0x1}),_0x42f1cd['skip'](_0xa5d541=>!('elementEnd'==_0xa5d541['type']&&_0xa5d541['item']==_0x3c2cb8));}else{if(this['_schema']['checkChild'](_0x3c2cb8,'$text')||_0x3c2cb8['is']('element','softBreak')){const _0x427e06=_0x3c2cb8;if('add'==_0x354c53&&'elementStart'==_0x2f047e['type']||'remove'==_0x354c53&&'elementEnd'==_0x2f047e['type'])continue;if(_0x2c0424&&-0x1==_0x2c0424['type']['indexOf']('Container')){'text'==_0x2c0424['type']&&(_0x2c0424[_0x354c53]+='\x0a');continue;}let _0x225ca4;if(_0x225ca4='add'==_0x354c53?_0x427e06['nextSibling']&&!this['_schema']['isObject'](_0x427e06['nextSibling'])?_0x427e06['nextSibling']:null:_0x427e06['previousSibling']&&!this['_schema']['isObject'](_0x427e06['previousSibling'])?_0x427e06['previousSibling']:null,_0x427e06['isEmpty']||_0x225ca4&&_0x225ca4['isEmpty']){const _0x48ce8d=_0x225ca4&&_0x225ca4['isEmpty']?_0x225ca4:_0x427e06;_0x2c0424&&_0x2c0424['type']==_0x354c53+'EmptyContainer'&&_0x2c0424['element']['name']==_0x48ce8d['name']?_0x2c0424['quantity']++:_0x5f0fb2['push']({'type':_0x354c53+'EmptyContainer','element':_0x48ce8d,'quantity':0x1});}else _0x5f0fb2['push']({'type':_0x354c53+'Container','element':_0x427e06});}}}}}['_resolveDescriptionItems'](_0x4d7d8c){const _0x2531a9=this['_locale'],_0x41300c=[],_0x1a4dc9=[],_0x53aca8=[];for(const _0x4c90de of _0x4d7d8c)switch(_0x4c90de['type']){case'text':if(_0x4c90de['add']=_0x4c90de['add']['replace'](/(\S)\u000A+(\S)/g,'$1\x20$2')['replace'](/\u000A/g,''),_0x4c90de['remove']=_0x4c90de['remove']['replace'](/(\S)\u000A+(\S)/g,'$1\x20$2')['replace'](/\u000A/g,''),''!=_0x4c90de['add']&&''!=_0x4c90de['remove']){_0x41300c['push']({'type':'replace','content':o(_0x2531a9,'REPLACE_TEXT',['\x22'+_0x4c90de['remove']+'\x22','\x22'+_0x4c90de['add']+'\x22'])});continue;}if(null!=_0x4c90de['add']['match'](/^ +$/)){_0x41300c['push']({'type':'insertion','content':o(_0x2531a9,'*Insert:*\x20%0',o(_0x2531a9,'ELEMENT_SPACE',_0x4c90de['add']['length']))});continue;}if(null!=_0x4c90de['remove']['match'](/^ +$/)){_0x41300c['push']({'type':'deletion','content':o(_0x2531a9,'*Remove:*\x20%0',o(_0x2531a9,'ELEMENT_SPACE',_0x4c90de['remove']['length']))});continue;}if(''!=_0x4c90de['add']){_0x41300c['push']({'type':'insertion','content':o(_0x2531a9,'*Insert:*\x20%0','\x22'+_0x4c90de['add']+'\x22')});continue;}_0x41300c['push']({'type':'deletion','content':o(_0x2531a9,'*Remove:*\x20%0','\x22'+_0x4c90de['remove']+'\x22')});continue;case'addEmptyContainer':case'addObject':_0x41300c['push']({'type':'insertion','content':o(_0x2531a9,'*Insert:*\x20%0',this['getItemLabel'](_0x4c90de['element'],_0x4c90de['quantity']))});continue;case'removeEmptyContainer':case'removeObject':_0x41300c['push']({'type':'deletion','content':o(_0x2531a9,'*Remove:*\x20%0',this['getItemLabel'](_0x4c90de['element'],_0x4c90de['quantity']))});continue;case'addContainer':_0x41300c['push']({'type':'insertion','content':o(_0x2531a9,'*Split:*\x20%0',this['getItemLabel'](_0x4c90de['element'],_0x4c90de['quantity']))});continue;case'removeContainer':_0x41300c['push']({'type':'deletion','content':o(_0x2531a9,'*Merge:*\x20%0',this['getItemLabel'](_0x4c90de['element'],_0x4c90de['quantity']))});continue;case'addFormat':_0x1a4dc9['push'](_0x4c90de['key']);continue;case'removeFormat':_0x53aca8['push'](_0x4c90de['key']);continue;default:_0x41300c['push'](_0x4c90de);}if(_0x1a4dc9['length']){const _0x2ef73d=_0x1a4dc9['map'](_0x1c3322=>this['_attributeLabels']['has'](_0x1c3322)?this['_attributeLabels']['get'](_0x1c3322):_0x1c3322)['join'](',\x20');_0x41300c['push']({'type':'format','content':o(this['_locale'],'*Set\x20format:*\x20%0',_0x2ef73d)});}if(_0x53aca8['length']){const _0x1916d6=_0x53aca8['map'](_0x4441a0=>this['_attributeLabels']['has'](_0x4441a0)?this['_attributeLabels']['get'](_0x4441a0):_0x4441a0)['join'](',\x20');_0x41300c['push']({'type':'format','content':o(this['_locale'],'*Remove\x20format:*\x20%0',_0x1916d6)});}return _0x41300c;}['_handleCustomCallbackDescription'](_0x4a48d2){for(const _0x56ffcc of this['_customCallbacks']){const _0x969402=_0x56ffcc(_0x4a48d2);if(_0x969402&&'type'in _0x969402)return _0x969402;}}['_handleAttributeSuggestionDescription'](_0xafbfa9,_0xae37c8){const _0x1fa264=_0xae37c8['data'],_0x48a59e=void 0x0===_0x1fa264['newValue']?'removeFormat':'addFormat';_0xafbfa9['push']({'type':_0x48a59e,'key':_0x1fa264['key']});}['_handleRenameSuggestionDescription'](_0x55ba36,_0x357f28){_0x55ba36['push']({'type':'format','content':o(this['_locale'],'*Change\x20to:*\x20%0',this['getItemLabel'](_0x357f28['getFirstRange']()['start']['nodeAfter'],0x1))});}['_handleInsertRemoveSuggestionDescription'](_0x22ce3f,_0x21c9e5,_0x4a36b6){if(this['_addDescriptionItems'](_0x22ce3f,_0x21c9e5),_0x4a36b6&&_0x4a36b6['getFirstRange']()&&!_0x21c9e5['getFirstRange']()['end']['isEqual'](_0x4a36b6['getFirstRange']()['start'])){const _0x42f292=_0x22ce3f[_0x22ce3f['length']-0x1],_0x287cb0='insertion'==_0x21c9e5['type']?'add':'remove';_0x42f292&&'text'==_0x42f292['type']&&(_0x42f292[_0x287cb0]+='\x0a');}}}class V extends _0x5b49f3{['afterInit'](){const _0x1339d6=this['editor'],_0x2ede7e=_0x1339d6['plugins']['get']('TrackChangesEditing');_0x1339d6['commands']['get']('showAIAssistant')&&_0x2ede7e['enableCommand']('showAIAssistant');}}class U extends _0x5b49f3{['afterInit'](){const _0x3c3f81=this['editor'],_0x463094=_0x3c3f81['locale'];if(!_0x3c3f81['plugins']['has']('AlignmentEditing'))return;const _0x12080e=_0x3c3f81['plugins']['get']('TrackChangesEditing');_0x12080e['enableDefaultAttributesIntegration']('alignment'),_0x12080e['registerBlockAttribute']('alignment'),_0x12080e['descriptionFactory']['registerAttributeLabel']('alignment',o(_0x463094,'FORMAT_ALIGNMENT')),this['_registerLegacyDescription']();}['_registerLegacyDescription'](){const _0xa626f7=this['editor'],_0x2999f6=_0xa626f7['locale'];_0xa626f7['plugins']['get']('TrackChangesEditing')['descriptionFactory']['registerDescriptionCallback'](_0x4ff7b3=>{if('formatBlock'!=_0x4ff7b3['type'])return;const {data:_0x58a6e2}=_0x4ff7b3;if(_0x58a6e2&&'alignment'==_0x58a6e2['commandName']){const _0x393c38=_0x58a6e2['commandParams'][0x0]['value'];return{'type':'format','content':o(_0x2999f6,'*Format:*\x20%0',function(_0x5bc858){switch(_0x5bc858){case'left':return o(_0x2999f6,'FORMAT_ALIGN_TO_LEFT');case'right':return o(_0x2999f6,'FORMAT_ALIGN_TO_RIGHT');case'center':return o(_0x2999f6,'FORMAT_ALIGN_TO_CENTER');case'justify':return o(_0x2999f6,'FORMAT_JUSTIFY_TEXT');}}(_0x393c38))};}});}}const ti=['BoldEditing','ItalicEditing','UnderlineEditing','CodeEditing','StrikethroughEditing','SubscriptEditing','SuperscriptEditing'];class G extends _0x5b49f3{['afterInit'](){const _0x12fcfd=this['editor'],_0x5e7f18=_0x12fcfd['plugins']['get']('TrackChangesEditing'),_0x157b43=_0x12fcfd['locale'];for(const _0x4b599d of ti){if(!_0x12fcfd['plugins']['has'](_0x4b599d))continue;const _0x494163=_0x4b599d['slice'](0x0,-0x7)['toLowerCase'](),_0x474082='FORMAT_'+_0x494163['toUpperCase']();_0x5e7f18['enableDefaultAttributesIntegration'](_0x494163),_0x5e7f18['registerInlineAttribute'](_0x494163),_0x5e7f18['descriptionFactory']['registerAttributeLabel'](_0x494163,o(_0x157b43,_0x474082));}this['_registerLegacyDescription']();}['_registerLegacyDescription'](){const _0x12be3c=this['editor'],_0x28f47b=_0x12be3c['locale'],_0x3489d7=_0x12be3c['plugins']['get']('TrackChangesEditing');function _0x4030f4(_0x1074b7,_0x51a027){_0x3489d7['descriptionFactory']['registerDescriptionCallback'](_0x2113ca=>{if('formatInline'!=_0x2113ca['type'])return;const {data:_0x299655}=_0x2113ca;return _0x299655&&_0x299655['commandName']===_0x1074b7?_0x299655['commandParams'][0x0]['forceValue']?{'type':'format','content':o(_0x28f47b,'*Format:*\x20%0',_0x51a027)}:{'type':'format','content':o(_0x28f47b,'*Remove\x20format:*\x20%0',_0x51a027)}:void 0x0;});}_0x4030f4('bold',o(_0x28f47b,'FORMAT_BOLD')),_0x4030f4('italic',o(_0x28f47b,'FORMAT_ITALIC')),_0x4030f4('underline',o(_0x28f47b,'FORMAT_UNDERLINE')),_0x4030f4('code',o(_0x28f47b,'FORMAT_CODE')),_0x4030f4('strikethrough',o(_0x28f47b,'FORMAT_STRIKETHROUGH')),_0x4030f4('subscript',o(_0x28f47b,'FORMAT_SUBSCRIPT')),_0x4030f4('superscript',o(_0x28f47b,'FORMAT_SUPERSCRIPT'));}}class F extends _0x5b49f3{['afterInit'](){const _0x3a310b=this['editor'],_0x24fd1e=_0x3a310b['locale'];if(!_0x3a310b['plugins']['has']('BlockQuoteEditing'))return;const _0x58ee35=_0x3a310b['plugins']['get']('TrackChangesEditing'),_0x3aaa53=this['editor']['commands']['get']('blockQuote');_0x58ee35['enableCommand']('blockQuote',(_0x519822,_0x1c580d={})=>{const _0x2a777b=this['editor']['model']['document']['selection'],_0x96af3c=_0x1c580d&&void 0x0!==_0x1c580d['forceValue']?_0x1c580d['forceValue']:!_0x3aaa53['value'];let _0x129a66=[];if(_0x96af3c){const _0x7be43b=Array['from'](_0x2a777b['getSelectedBlocks']())['filter'](_0x47d087=>oo(_0x47d087)||function(_0x2c84ab,_0x34ee99){const _0x53ac4f=_0x34ee99['checkChild'](_0x2c84ab['parent'],'blockQuote'),_0x234296=_0x34ee99['checkChild'](['$root','blockQuote'],_0x2c84ab);return _0x53ac4f&&_0x234296;}(_0x47d087,this['editor']['model']['schema']));_0x129a66=to(_0x7be43b,_0x3a310b['model']);}else{const _0x5b1f61=Array['from'](_0x2a777b['getSelectedBlocks']())['filter'](_0x47e905=>oo(_0x47e905));_0x129a66=to(_0x5b1f61,_0x3a310b['model']);}_0x3a310b['model']['change'](()=>{for(const _0x4998c2 of _0x129a66)_0x58ee35['markBlockFormat'](_0x4998c2,{'commandName':'blockQuote','commandParams':[{'forceValue':_0x96af3c}]});});}),_0x58ee35['descriptionFactory']['registerDescriptionCallback'](_0x13100e=>{const {data:_0x51671e}=_0x13100e;if(_0x51671e&&'blockQuote'==_0x51671e['commandName']){const _0x4dbda7=o(_0x24fd1e,'ELEMENT_BLOCK_QUOTE');return _0x51671e['commandParams'][0x0]['forceValue']?{'type':'format','content':o(_0x24fd1e,'*Set\x20format:*\x20%0',_0x4dbda7)}:{'type':'format','content':o(_0x24fd1e,'*Remove\x20format:*\x20%0',_0x4dbda7)};}});}}function oo(_0x1eb6a8){return'blockQuote'==_0x1eb6a8['parent']['name'];}class L extends _0x5b49f3{['afterInit'](){const _0x305f43=this['editor'];_0x305f43['plugins']['has']('CaseChange')&&(_0x305f43['plugins']['get']('TrackChangesEditing')['enableCommand']('changeCaseUpper'),_0x305f43['plugins']['get']('TrackChangesEditing')['enableCommand']('changeCaseLower'),_0x305f43['plugins']['get']('TrackChangesEditing')['enableCommand']('changeCaseTitle'));}}class H extends _0x5b49f3{['afterInit'](){const _0x3a2caf=this['editor'];_0x3a2caf['commands']['get']('ckbox')&&_0x3a2caf['plugins']['get']('TrackChangesEditing')['enableCommand']('ckbox');}}class J extends _0x5b49f3{['afterInit'](){const _0x5c37c6=this['editor'];if(!_0x5c37c6['plugins']['has']('CodeBlock'))return;const _0xc287ff=_0x5c37c6['plugins']['get']('TrackChangesEditing'),_0x42237d=_0x5c37c6['locale'],_0x5dd7c1=_0x5c37c6['config']['get']('codeBlock')['languages'],_0x47380f=_0x5c37c6['commands']['get']('codeBlock');_0xc287ff['enableCommand']('indentCodeBlock'),_0xc287ff['enableCommand']('outdentCodeBlock'),_0xc287ff['enableCommand']('codeBlock',(_0x5f1bd2,_0x12675d={})=>{const _0x131100=_0x5c37c6['model'],_0x1b967f=_0x5c37c6['model']['document']['selection'],_0x1bbb5f=_0x12675d&&void 0x0!==_0x12675d['forceValue']?_0x12675d['forceValue']:!_0x47380f['value'];let _0x1eb781;_0x12675d['language']||(_0x12675d['language']=_0x5dd7c1[0x0]['language']),_0x1eb781=_0x1bbb5f?Array['from'](_0x1b967f['getSelectedBlocks']())['filter'](_0x3a6f07=>eo(_0x3a6f07)||function(_0x58eb9f,_0x52d7e9){if(_0x58eb9f['is']('rootElement')||_0x52d7e9['isLimit'](_0x58eb9f))return!0x1;return _0x52d7e9['checkChild'](_0x58eb9f['parent'],'codeBlock');}(_0x3a6f07,_0x131100['schema'])):Array['from'](_0x1b967f['getSelectedBlocks']())['filter'](_0x32fa09=>eo(_0x32fa09));const _0x3ef586=to(_0x1eb781,_0x131100);_0x131100['change'](()=>{for(const _0xeed8f9 of _0x3ef586)_0xc287ff['markBlockFormat'](_0xeed8f9,{'commandName':'codeBlock','commandParams':[{..._0x12675d,'forceValue':_0x1bbb5f}],'formatGroupId':'blockName'});});}),(_0xc287ff['descriptionFactory']['registerElementLabel']('codeBlock',_0xdb5b3e=>o(_0x42237d,'ELEMENT_CODE_BLOCK',_0xdb5b3e)),_0xc287ff['descriptionFactory']['registerDescriptionCallback'](_0x2d7033=>{if('formatBlock'!=_0x2d7033['type'])return;const _0x139200=_0x42237d['t'],{data:_0x365750}=_0x2d7033;if(!_0x365750||'codeBlock'!=_0x365750['commandName'])return;const _0x412129=_0x365750['commandParams'][0x0]['language'],_0x541b5d=_0x139200(_0x5dd7c1['find'](_0x2e07fa=>_0x2e07fa['language']===_0x412129)['label'])['toLowerCase']();return _0x365750['commandParams'][0x0]['forceValue']?{'type':'format','content':o(_0x42237d,'*Set\x20format:*\x20%0',o(_0x42237d,'ELEMENT_CODE_BLOCK',0x1)+'\x20('+_0x541b5d+')')}:{'type':'format','content':o(_0x42237d,'*Remove\x20format:*\x20%0',o(_0x42237d,'ELEMENT_CODE_BLOCK',0x1))};}));}}function eo(_0x79fda0){return'codeBlock'==_0x79fda0['name'];}class q extends _0x5b49f3{['afterInit'](){const _0x277746=this['editor'];if(!_0x277746['plugins']['has']('CommentsEditing'))return;_0x277746['plugins']['get']('TrackChangesEditing')['enableCommand']('addCommentThread');}}function io(_0x2389b4,_0x4f9003,_0x4f0520){const _0x386d5e=[];for(const _0x13ad09 of _0x4f9003['getItems']())_0x13ad09['hasAttribute'](_0x2389b4)&&_0x386d5e['push'](_0x4f0520['createRangeOn'](_0x13ad09));return _0x386d5e;}function _e(_0x5cbfa9,_0xf1f085,{showActiveMarker:_0x452279=!0x0}={}){const _0x1a9685=_0x5cbfa9['plugins']['get']('TrackChangesEditing');return(_0x53da30,_0x1ce9db,_0x4a53af)=>{if(!_0x4a53af['consumable']['test'](_0x1ce9db['markerRange'],_0x53da30['name']))return;const _0x3aaf78=_0x1ce9db['markerRange']['getWalker'](),_0x18a19c=_0x1ce9db['markerRange']['start'],_0x32020b=_0x5cbfa9['model']['schema'];let _0x5f04ff=null,_0x590ea3=null,_0x1f5e75=!0x1,_0x488881=!0x1;for(const _0x4d5a2b of _0x3aaf78){const _0x38b4ed=_0x4d5a2b['item'];_0x1f5e75=_0x1f5e75||_0x32020b['isContent'](_0x38b4ed);const _0x472c78=_0x4a53af['mapper']['toViewElement'](_0x38b4ed);if(_0x472c78&&_0x472c78['getCustomProperty']('addHighlight'))return;'elementEnd'==_0x4d5a2b['type']&&(_0x32020b['isBlock'](_0x38b4ed)&&!_0x32020b['isLimit'](_0x38b4ed)&&(_0x38b4ed['nextSibling']||_0x18a19c['isAtEnd']?_0x5f04ff&&_0x5f04ff['parent']==_0x38b4ed||(_0x5f04ff=_0x38b4ed,_0x277418(_0x4d5a2b['previousPosition']),_0x488881=!0x0):_0x590ea3=_0x590ea3||_0x4d5a2b['previousPosition']));}function _0x277418(_0x563f13){const {authorId:_0x361b3c}=_0x1a9685['_splitMarkerName'](_0x1ce9db['markerName']),_0x4ed850=_0x4a53af['writer']['createUIElement']('span',{'class':'ck-suggestion-marker-'+_0xf1f085,'data-author-id':_0x361b3c}),_0x2c1d7f=_0x4a53af['mapper']['toViewPosition'](_0x563f13);_0x452279&&_0x1a9685['activeMarkers']['includes'](_0x1ce9db['markerName'])&&_0x4a53af['writer']['addClass']('ck-suggestion-marker--active',_0x4ed850),_0x4a53af['writer']['insert'](_0x2c1d7f,_0x4ed850),_0x4a53af['mapper']['bindElementToMarker'](_0x4ed850,_0x1ce9db['markerName']);}_0x1f5e75||_0x488881||!_0x590ea3||_0x277418(_0x590ea3);};}class z extends _0x5b49f3{static get['requires'](){return[_0x52543c];}['init'](){const _0x565948=this['editor'],_0x833a00=_0x565948['plugins']['get']('TrackChangesEditing');_0x833a00['enableCommand']('delete');const _0x485850=_0x565948['commands']['get']('deleteForward');_0x833a00['enableCommand']('deleteForward',(_0x47ac7c,_0x3d6d80={})=>{const _0x411d9b=_0x565948['model']['createSelection'](_0x565948['model']['document']['selection']);_0x411d9b['isCollapsed']&&_0x565948['model']['modifySelection'](_0x411d9b,{'direction':'forward','unit':_0x3d6d80['unit']});const _0xc22089=_0x411d9b['getFirstRange'](),_0x3fe82c=_0x1b93ff['fromRange'](_0xc22089);let _0x4b3422;_0x47ac7c(_0x3d6d80),_0x4b3422='$graveyard'==_0x3fe82c['root']['rootName']?_0x565948['model']['createRange'](_0xc22089['start']):_0x565948['model']['createRange'](_0x3fe82c['start'],_0x3fe82c['end']),_0x3fe82c['detach'](),_0x565948['model']['enqueueChange'](_0x485850['buffer']['batch'],_0x327582=>{_0x485850['buffer']['lock'](),_0x327582['setSelection'](_0x327582['createRange'](_0x4b3422['end'])),_0x485850['buffer']['unlock']();});}),_0x565948['editing']['downcastDispatcher']['on']('addMarker:suggestion:deletion',_e(_0x565948,'merge'),{'priority':'high'}),_0x565948['data']['downcastDispatcher']['on']('addMarker:suggestion:deletion',(_0x47033d,_0x33e2e9,_0x4ea92d)=>{_0x4ea92d['options']['showSuggestionHighlights']&&_e(_0x565948,'merge',{'showActiveMarker':!0x1})['bind'](this)(_0x47033d,_0x33e2e9,_0x4ea92d);},{'priority':'high'}),_0x565948['editing']['downcastDispatcher']['on']('removeMarker:suggestion:deletion',(_0x335174,_0x429999,_0x2d99ae)=>{const _0x2626eb=_0x2d99ae['mapper']['markerNameToElements'](_0x429999['markerName']);if(_0x2626eb){for(const _0x56682e of _0x2626eb)_0x56682e['is']('uiElement')&&(_0x2d99ae['mapper']['unbindElementFromMarkerName'](_0x56682e,_0x429999['markerName']),_0x2d99ae['writer']['remove'](_0x56682e));}},{'priority':'high'});}}class K extends _0x5b49f3{['afterInit'](){const _0x834040=this['editor'];if(!_0x834040['plugins']['has']('ListEditing'))return;const _0x51d601=_0x834040['locale'],_0x5f57db=_0x834040['plugins']['get']('TrackChangesEditing'),_0x23ae3c=_0x834040['plugins']['has']('TodoListEditing'),_0x41f20f=!!_0x834040['config']['get']('list.multiBlock');function _0x536743(_0x215c93){return{'type':'format','content':''+o(_0x51d601,'*Set\x20format:*\x20%0',_0x215c93)};}function _0x309113(_0x1729b1){return{'type':'format','content':''+o(_0x51d601,'*Remove\x20format:*\x20%0',_0x1729b1)};}_0x5f57db['enableDefaultAttributesIntegration']('numberedList'),_0x5f57db['enableDefaultAttributesIntegration']('bulletedList'),_0x5f57db['enableDefaultAttributesIntegration']('customNumberedList'),_0x5f57db['enableDefaultAttributesIntegration']('customBulletedList'),_0x5f57db['enableDefaultAttributesIntegration']('indentList'),_0x5f57db['enableDefaultAttributesIntegration']('outdentList'),_0x5f57db['enableDefaultAttributesIntegration']('splitListItemAfter'),_0x5f57db['enableDefaultAttributesIntegration']('splitListItemBefore'),_0x5f57db['registerBlockAttribute']('listItemId'),_0x5f57db['registerBlockAttribute']('listType'),_0x5f57db['registerBlockAttribute']('listIndent'),_0x41f20f&&(_0x5f57db['enableDefaultAttributesIntegration']('mergeListItemBackward'),_0x5f57db['enableDefaultAttributesIntegration']('mergeListItemForward')),_0x23ae3c&&(_0x5f57db['enableDefaultAttributesIntegration']('todoList'),_0x5f57db['enableDefaultAttributesIntegration']('checkTodoList'),_0x5f57db['registerBlockAttribute']('todoListChecked'),_0x5f57db['descriptionFactory']['registerDescriptionCallback'](_0x483da0=>{const {data:_0x51ccbc}=_0x483da0;if(_0x51ccbc&&'todoListChecked'==_0x51ccbc['key'])return{'type':'format','content':_0x51ccbc['newValue']?o(_0x51d601,'*Check\x20item*'):o(_0x51d601,'*Uncheck\x20item*')};}),this['editor']['model']['document']['registerPostFixer'](_0x251c4f=>{if(_0x251c4f['batch']['isUndo'])return!0x1;let _0x3b9a3d=!0x1;const _0x7933cd=_0x5f57db['getSuggestions']({'skipNotAttached':!0x0})['filter'](_0x31513d=>'todoListChecked'===_0x5f57db['_getAttributeKey'](_0x31513d));for(const _0x84361 of _0x7933cd){'todo'!=_0x84361['getFirstRange']()['start']['nodeAfter']['getAttribute']('listType')&&(_0x5f57db['_findSuggestions'](_0x84361['getFirstRange'](),'attribute')['find'](_0x175be9=>'listType'===_0x5f57db['_getAttributeKey'](_0x175be9['suggestion']))||(_0x251c4f['removeMarker'](_0x84361['getFirstMarker']()),_0x3b9a3d=!0x0));}return _0x3b9a3d;})),_0x5f57db['descriptionFactory']['registerAttributeLabel']('listIndent',o(_0x51d601,'FORMAT_INDENT'));const _0x721720={'type':'format','content':''};_0x5f57db['descriptionFactory']['registerDescriptionCallback'](_0x547a85=>{const {data:_0x2f3c4b}=_0x547a85;if(!_0x2f3c4b||'listType'!=_0x2f3c4b['key'])return;let _0x37211b=_0x547a85['head'];for(;_0x37211b;){if(_0x37211b['data']&&(('listStyle'==_0x37211b['data']['key']||'listMarkerStyle'==_0x37211b['data']['key'])&&(_0x37211b['data']['newValue']&&'default'!=_0x37211b['data']['newValue']||'default'!=_0x37211b['data']['oldValue']&&!_0x2f3c4b['newValue'])||!_0x41f20f&&_0x37211b['data']['key']==m))return _0x721720;_0x37211b=_0x37211b['next'];}if(null==_0x2f3c4b['newValue'])switch(_0x2f3c4b['oldValue']){case'bulleted':return _0x309113(o(_0x51d601,'ELEMENT_BULLETED_LIST'));case'numbered':return _0x309113(o(_0x51d601,'ELEMENT_NUMBERED_LIST'));case'todo':return _0x309113(o(_0x51d601,'ELEMENT_TODO_LIST'));}switch(_0x2f3c4b['newValue']){case'bulleted':return _0x536743(o(_0x51d601,'ELEMENT_BULLETED_LIST'));case'numbered':return _0x536743(o(_0x51d601,'ELEMENT_NUMBERED_LIST'));case'todo':return _0x536743(o(_0x51d601,'ELEMENT_TODO_LIST'));}}),_0x5f57db['descriptionFactory']['registerDescriptionCallback'](_0x38720c=>{const {data:_0x354532}=_0x38720c;if(_0x354532&&'listIndent'==_0x354532['key'])return null==_0x354532['newValue']||null==_0x354532['oldValue']&&0x0==_0x354532['newValue']?_0x721720:void 0x0;}),_0x5f57db['descriptionFactory']['registerDescriptionCallback'](_0x533ee9=>{if('attribute'!=_0x533ee9['type'])return;const {data:_0x428773}=_0x533ee9;if(!_0x428773||'listItemId'!=_0x428773['key'])return;const _0x4c715b=Ee(_0x533ee9);return'newValue'==_0x4c715b?{'type':'format','content':o(_0x51d601,'*Merge:*\x20list\x20item')}:'oldValue'==_0x4c715b?{'type':'format','content':o(_0x51d601,'*Split:*\x20list\x20item')}:_0x721720;}),_0x834040['model']['document']['registerPostFixer'](_0x284320=>this['listItemIdFixer'](_0x284320)),_0x834040['model']['document']['registerPostFixer'](_0xd44a0a=>this['noTrackChangesFixer'](_0xd44a0a)),_0x834040['model']['document']['on']('change:data',(_0x5d9c7a,_0x1576af)=>{if(_0x1576af['isUndo']||!_0x1576af['isLocal'])return!0x1;this['assureChains']();},{'priority':'high'}),this['_supportLegacySuggestions']();}['listItemIdFixer'](_0x10fc77){if(_0x10fc77['batch']['isUndo']||!_0x10fc77['batch']['isLocal'])return!0x1;let _0x460f0b=!0x1;const _0x320649=this['editor']['plugins']['get']('TrackChangesEditing')['getSuggestions']({'skipNotAttached':!0x0})['filter'](_0x3b14d1=>_0x3b14d1['data']&&'listItemId'==_0x3b14d1['data']['key'])['filter'](_0x37d00f=>_0x37d00f['data']['newValue']&&_0x37d00f['data']['oldValue']);for(const _0x97b38d of _0x320649)Ee(_0x97b38d)||(_0x10fc77['removeMarker'](_0x97b38d['getFirstMarker']()),_0x460f0b=!0x0);return _0x460f0b;}['noTrackChangesFixer'](_0x3c16c2){if(_0x3c16c2['batch']['isUndo']||!_0x3c16c2['batch']['isLocal'])return!0x1;const _0x415594=this['editor']['plugins']['get']('TrackChangesEditing');if(_0x415594['trackChangesCommand']['value'])return!0x1;let _0x234a83=!0x1;const _0x1f0516=['listType','listItemId','listIndent','listStyle','listStart','listReversed','todoListCheck','listMarker','listMarkerStyle'],_0x68aef2=this['editor']['model']['document']['differ']['getChanges']()['filter'](_0x1e8deb=>'attribute'==_0x1e8deb['type'])['filter'](_0x100f5d=>_0x1f0516['includes'](_0x100f5d['attributeKey']));if(0x0==_0x68aef2['length'])return _0x234a83;for(const _0x37962b of _0x68aef2){const _0x2e0ebc=_0x415594['_findSuggestions'](_0x37962b['range'],'attribute')['filter'](_0x144352=>!_0x144352['meta']['isNextTo'])['map'](_0x45c643=>_0x45c643['suggestion'])['filter'](_0x56774e=>{const _0x5be059=_0x415594['_getAttributeKey'](_0x56774e);return _0x1f0516['includes'](_0x5be059);});if(_0x2e0ebc['length']){for(const _0x5d2bba of _0x2e0ebc)_0x3c16c2['removeMarker'](_0x5d2bba['getFirstMarker']());_0x234a83=!0x0;}}return _0x234a83;}['assureChains'](){const _0x2d8555=this['editor']['plugins']['get']('TrackChangesEditing'),_0x264ccc=['listType','listItemId','listIndent','listStyle','listStart','listReversed','todoListCheck','listMarker','listMarkerStyle'];let _0xb25491;const _0x45140d=new Set(this['editor']['model']['document']['differ']['getChangedMarkers']()['filter'](_0xd161d5=>{if(_0xd161d5['data']['oldRange']||!_0xd161d5['data']['newRange'])return null;if(!_0xd161d5['name']['startsWith']('suggestion:attribute:'))return null;const {id:_0x120c4c}=_0x2d8555['_splitMarkerName'](_0xd161d5['name']);if(!_0x2d8555['hasSuggestion'](_0x120c4c))return null;const _0x3a9f09=_0x2d8555['getSuggestion'](_0x120c4c);return _0x264ccc['includes'](_0x3a9f09['data']['key']);})['map'](_0x393fc9=>{const {id:_0xae95cf}=_0x2d8555['_splitMarkerName'](_0x393fc9['name']),_0x19e032=_0x2d8555['getSuggestion'](_0xae95cf);return _0xb25491=_0x19e032['attributes']['groupId'],_0x19e032['getFirstRange']()['start']['nodeAfter'];}));if(0x0==_0x45140d['size'])return;const _0x354643=_0x2d8555['getSuggestions']({'skipNotAttached':!0x0})['filter'](_0x4f05cc=>'attribute'==_0x4f05cc['type']&&_0x4f05cc['data']&&_0x264ccc['includes'](_0x4f05cc['data']['key'])&&_0x4f05cc['attributes']['groupId']!=_0xb25491)['map'](_0x3a07d9=>({'listItem':_0x3a07d9['getFirstRange']()['start']['nodeAfter'],'groupId':_0x3a07d9['attributes']['groupId']})),_0x5d87db=new Set();for(const {groupId:_0x2a2801,listItem:_0x3c359c}of _0x354643)_0x45140d['has'](_0x3c359c)&&_0x5d87db['add'](_0x2a2801);for(const _0xda6d4f of _0x2d8555['getSuggestions']())_0x5d87db['has'](_0xda6d4f['attributes']['groupId'])&&_0xda6d4f['setAttribute']('groupId',_0xb25491);}['_supportLegacySuggestions'](){const _0x174a0d=this['editor'],_0x1b9134=_0x174a0d['locale'],_0x109b6f=_0x174a0d['plugins']['get']('TrackChangesEditing');this['_registerLegacyDescription'](),_0x109b6f['_suggestionFactory']['registerCustomCallback']('formatBlock','documentList','accept',function(_0x1005a5,_0x1672ed){const _0x5e1ee3=[];for(let _0x19813b of _0x1005a5)_0x19813b['start']['nodeAfter']===_0x19813b['end']['parent']&&(_0x19813b=_0x174a0d['model']['createRange'](_0x174a0d['model']['createPositionAt'](_0x19813b['start']['nodeAfter'],0x0))),_0x5e1ee3['push'](_0x19813b);_0x174a0d['model']['change'](_0x54c3a8=>{const _0x1e9b93=_0x174a0d['model']['document']['selection'],_0x2dbfde=Array['from'](_0x1e9b93['getRanges']())['map'](_0x3d8ae8=>_0x1b93ff['fromRange'](_0x3d8ae8));_0x54c3a8['setSelection'](_0x5e1ee3),_0x174a0d['commands']['get'](_0x1672ed['commandName'])['refresh'](),_0x1672ed['commandParams']['push']({'forceDefaultExecution':!0x0}),_0x174a0d['execute'](_0x1672ed['commandName'],..._0x1672ed['commandParams']),_0x54c3a8['setSelection'](_0x2dbfde);for(const _0x152136 of _0x2dbfde)_0x152136['detach']();});}),_0x109b6f['descriptionFactory']['registerElementLabel'](function(_0x42da58){const _0x5c6693=!_0x174a0d['model']['schema']['isObject'](_0x42da58),_0x270f9a=_0x42da58['previousSibling'],_0x2af59a=_0x42da58['nextSibling'],_0x10dcaf=_0x42da58['getAttribute']('listItemId'),_0x43ca61=!_0x270f9a||_0x270f9a['getAttribute']('listItemId')!==_0x10dcaf,_0xf48126=!_0x2af59a||_0x2af59a['getAttribute']('listItemId')!==_0x10dcaf;return _0x5c6693&&Boolean(_0x10dcaf)&&_0x43ca61&&_0xf48126;},_0x481ba9=>o(_0x1b9134,'ELEMENT_LIST_ITEM',_0x481ba9));}['_registerLegacyDescription'](){const _0x147943=this['editor'],_0xb2fa90=_0x147943['locale'];function _0x40dc40(_0x37c68e){const _0x4dbc5a=_0x147943['commands']['get']('bulletedList')['value'],_0x51bec7=_0x147943['commands']['get']('numberedList')['value'];return'numberedList'===_0x37c68e?_0x4dbc5a:_0x51bec7;}_0x147943['plugins']['get']('TrackChangesEditing')['descriptionFactory']['registerDescriptionCallback'](function(_0x1e4086){if('formatBlock'!=_0x1e4086['type'])return;const {data:_0x238aa4}=_0x1e4086;if(!_0x238aa4)return;let _0x210660,_0x55522d,_0x4bb24d,_0x536757;switch(_0x238aa4['commandName']){case'bulletedList':_0x4bb24d=_0x238aa4['commandParams'][0x0]['forceValue'],_0x536757=_0x40dc40(_0x238aa4['commandName']),_0x210660=_0x4bb24d?'*Format:*\x20insert\x20into\x20%0':'*Format:*\x20remove\x20from\x20%0',!_0x536757&&_0x147943['config']['get']('list.multiBlock')||(_0x210660='*Change\x20to:*\x20%0'),_0x55522d={'type':'format','content':o(_0xb2fa90,_0x210660,o(_0xb2fa90,'ELEMENT_BULLETED_LIST'))};break;case'numberedList':_0x4bb24d=_0x238aa4['commandParams'][0x0]['forceValue'],_0x536757=_0x40dc40(_0x238aa4['commandName']),_0x210660=_0x4bb24d?'*Format:*\x20insert\x20into\x20%0':'*Format:*\x20remove\x20from\x20%0',!_0x536757&&_0x147943['config']['get']('list.multiBlock')||(_0x210660='*Change\x20to:*\x20%0'),_0x55522d={'type':'format','content':o(_0xb2fa90,_0x210660,o(_0xb2fa90,'ELEMENT_NUMBERED_LIST'))};break;case'indentList':_0x210660='*Indent:*\x20%0',_0x55522d={'type':'format','content':o(_0xb2fa90,_0x210660,o(_0xb2fa90,'ELEMENT_LIST_ITEM'))};break;case'outdentList':_0x210660=function(_0xdd8fa){const _0x38cfab=_0xdd8fa['getFirstRange']();let _0x5e5055=_0x38cfab['start']['nodeAfter'];for(;_0x5e5055&&_0x38cfab['containsItem'](_0x5e5055);){if(_0x5e5055['getAttribute']('listIndent')>0x0)return!0x1;_0x5e5055=_0x5e5055['nextSibling'];}return!0x0;}(_0x1e4086)?o(_0xb2fa90,'*Format:*\x20remove\x20from\x20%0',o(_0xb2fa90,function(_0x11bc2f){return'ELEMENT_'+_0x11bc2f['getFirstRange']()['start']['nodeAfter']['getAttribute']('listType')['toUpperCase']()+'_LIST';}(_0x1e4086))):o(_0xb2fa90,'*Outdent:*\x20%0',o(_0xb2fa90,'ELEMENT_LIST_ITEM')),_0x55522d={'type':'format','content':_0x210660};break;case'mergeListItemBackward':case'mergeListItemForward':!0x1===_0x238aa4['multipleBlocks']&&(_0x210660='*Merge:*\x20%0',_0x55522d={'type':'deletion','content':o(_0xb2fa90,_0x210660,o(_0xb2fa90,'ELEMENT_LIST_ITEM'))});}return _0x55522d;});}}function Ee(_0x26720c){let _0x28f80a=_0x26720c['getFirstRange']()['start']['nodeAfter']['previousSibling'];for(;_0x28f80a;){const _0xf12a7d=_0x28f80a['getAttribute']('listItemId');if(!_0xf12a7d)return!0x1;if(_0xf12a7d==_0x26720c['data']['newValue'])return'newValue';if(_0xf12a7d==_0x26720c['data']['oldValue'])return'oldValue';_0x28f80a=_0x28f80a['previousSibling'];}return!0x1;}class pe extends _0x5b49f3{['afterInit'](){if(!this['editor']['plugins']['has']('ListPropertiesEditing'))return;const _0x58aa1a=this['editor']['config']['get']('list.properties'),_0x15f32b=this['editor']['plugins']['get']('TrackChangesEditing');_0x58aa1a['styles']&&(_0x15f32b['enableDefaultAttributesIntegration']('listStyle'),_0x15f32b['registerBlockAttribute']('listStyle')),_0x58aa1a['reversed']&&(_0x15f32b['enableDefaultAttributesIntegration']('listReversed'),_0x15f32b['registerBlockAttribute']('listReversed')),_0x58aa1a['startIndex']&&(_0x15f32b['enableDefaultAttributesIntegration']('listStart'),_0x15f32b['registerBlockAttribute']('listStart'));const _0x5c0ade={'type':'format','content':''};_0x15f32b['descriptionFactory']['registerDescriptionCallback'](this['handleDescriptions']['bind'](this));const _0x35d2ed=this['editor']['locale'];_0x15f32b['descriptionFactory']['registerAttributeLabel']('listReversed',o(_0x35d2ed,'FORMAT_LIST_REVERSED')),_0x15f32b['descriptionFactory']['registerDescriptionCallback'](_0x50579a=>{const {data:_0x3734e6}=_0x50579a;if(_0x3734e6&&'listReversed'==_0x3734e6['key'])return null==_0x3734e6['newValue']||0x0==_0x3734e6['newValue']&&null==_0x3734e6['oldValue']?_0x5c0ade:void 0x0;}),_0x15f32b['descriptionFactory']['registerAttributeLabel']('listStart',o(_0x35d2ed,'FORMAT_LIST_START')),_0x15f32b['descriptionFactory']['registerDescriptionCallback'](_0x4b2793=>{const {data:_0x413aa3}=_0x4b2793;if(_0x413aa3&&'listStart'==_0x413aa3['key'])return null==_0x413aa3['newValue']||0x1==_0x413aa3['newValue']&&null==_0x413aa3['oldValue']?_0x5c0ade:void 0x0;}),this['editor']['model']['document']['registerPostFixer'](_0x24e825=>{if(_0x24e825['batch']['isUndo'])return!0x1;let _0x17e4a1=!0x1;const _0x1ac40f=_0x15f32b['getSuggestions']({'skipNotAttached':!0x0})['filter'](_0x434c23=>{const _0x4d0ed4=_0x15f32b['_getAttributeKey'](_0x434c23);return'listStart'==_0x4d0ed4||'listReversed'==_0x4d0ed4;});for(const _0x7946a0 of _0x1ac40f){const _0x510de2=_0x7946a0['getFirstRange']()['start']['nodeAfter']['getAttribute']('listType');if('numbered'==_0x510de2||'customNumbered'==_0x510de2)continue;_0x15f32b['_findSuggestions'](_0x7946a0['getFirstRange'](),'attribute')['find'](_0x45b78f=>'listType'==_0x15f32b['_getAttributeKey'](_0x45b78f['suggestion']))||(_0x24e825['removeMarker'](_0x7946a0['getFirstMarker']()),_0x17e4a1=!0x0);}return _0x17e4a1;}),this['_registerLegacyDescription']();}['handleDescriptions'](_0x7d97fb){const _0x43b201=this['editor']['locale'],{data:_0x151108}=_0x7d97fb,_0x939ac6={'type':'format','content':''};if(!_0x151108||'listStyle'!=_0x151108['key'])return;if(!_0x151108['oldValue'])return'default'==_0x151108['newValue']?_0x939ac6:{'type':'format','content':''+o(_0x43b201,'*Set\x20format:*\x20%0',o(_0x43b201,this['_getTranslationKeyForListStyle'](_0x151108['newValue'])))};if(!_0x151108['newValue']){if('default'==_0x151108['oldValue'])return _0x939ac6;let _0x23238e=_0x7d97fb['head'];for(;_0x23238e;){if(_0x23238e['data']&&'listType'==_0x23238e['data']['key']&&_0x23238e['data']['newValue'])return _0x939ac6;_0x23238e=_0x23238e['next'];}return{'type':'format','content':''+o(_0x43b201,'*Remove\x20format:*\x20%0',o(_0x43b201,this['_getTranslationKeyForListStyle'](_0x151108['oldValue'])))};}if('default'!=_0x151108['newValue'])return{'type':'format','content':''+o(_0x43b201,'*Set\x20format:*\x20%0',o(_0x43b201,this['_getTranslationKeyForListStyle'](_0x151108['newValue'])))};let _0x2489e6=_0x7d97fb['head'];for(;_0x2489e6;){if(_0x2489e6['data']&&'listType'==_0x2489e6['data']['key']&&_0x2489e6['data']['newValue']&&_0x2489e6['data']['oldValue'])return _0x939ac6;_0x2489e6=_0x2489e6['next'];}return{'type':'format','content':o(_0x43b201,'*Set\x20format:*\x20%0',o(_0x43b201,'ELEMENT_'+_0x7d97fb['getFirstRange']()['start']['nodeAfter']['getAttribute']('listType')['toUpperCase']()+'_LIST_DEFAULT'))};}['_registerLegacyDescription'](){const _0x49955f=this['editor'],_0x49b03c=_0x49955f['locale'];_0x49955f['plugins']['get']('TrackChangesEditing')['descriptionFactory']['registerDescriptionCallback'](_0x27ef9e=>{if('formatBlock'!=_0x27ef9e['type'])return;const {data:_0x5189fd}=_0x27ef9e;if(!_0x5189fd)return;let _0x14bfe7,_0x2680c7;switch(_0x5189fd['commandName']){case'listStyle':_0x14bfe7='*Change\x20to:*\x20%0',_0x2680c7={'type':'format','content':o(_0x49b03c,_0x14bfe7,o(_0x49b03c,this['_getTranslationKeyForListStyle'](_0x5189fd['commandParams'][0x0]['type'])))};break;case'listReversed':_0x14bfe7=_0x5189fd['commandParams'][0x0]['reversed']?'*Format:*\x20set\x20order\x20to\x20reversed':'*Format:*\x20set\x20order\x20to\x20regular',_0x2680c7={'type':'format','content':o(_0x49b03c,_0x14bfe7)};break;case'listStart':_0x14bfe7='*Format:*\x20set\x20start\x20index\x20to\x20%0',_0x2680c7={'type':'format','content':o(_0x49b03c,_0x14bfe7,_0x5189fd['commandParams'][0x0]['startIndex'])};}return _0x2680c7;});}['_getTranslationKeyForListStyle'](_0x227b4e){return'ELEMENT_'+function(_0x3b6d37){if(ye['includes'](_0x3b6d37))return'bulleted';if(Se['includes'](_0x3b6d37))return'numbered';return null;}(_0x227b4e)['toUpperCase']()+'_LIST_'+_0x227b4e['toUpperCase']()['replace'](/-/g,'_');}}const ye=['disc','circle','square'],Se=['decimal','decimal-leading-zero','lower-roman','upper-roman','lower-latin','upper-latin'];class Q extends _0x5b49f3{static get['requires'](){return[_0x2e889b];}['init'](){const _0x6a3bc7=this['editor'],_0x115b83=_0x6a3bc7['plugins']['get']('TrackChangesEditing'),_0x1bbfcf=_0x6a3bc7['commands']['get']('enter');_0x115b83['enableCommand']('enter',()=>{_0x6a3bc7['model']['change'](_0xc08461=>{const _0x483816=_0x6a3bc7['model']['document']['selection'],_0x1b2233=_0x483816['getFirstPosition'](),_0x24241c=_0x1b93ff['fromRange'](_0x483816['getFirstRange']());if(_0x1bbfcf['enterBlock'](_0xc08461)){const _0x12d804=_0x6a3bc7['model']['createPositionAt'](_0x1b2233['parent']['nextSibling'],0x0),_0x40ce93=_0xc08461['createRange'](_0x1b2233,_0x12d804);_0x115b83['markInsertion'](_0x40ce93);}else _0xc08461['setSelection'](_0xc08461['createRange'](_0x24241c['end']));_0x24241c['detach'](),_0x1bbfcf['fire']('afterExecute',{'writer':_0xc08461});});}),_0x6a3bc7['editing']['downcastDispatcher']['on']('addMarker:suggestion:insertion',_e(_0x6a3bc7,'split'),{'priority':'high'}),_0x6a3bc7['editing']['downcastDispatcher']['on']('removeMarker:suggestion:insertion',(_0x1abe8e,_0x2e21f2,_0x379a35)=>{const _0x300ad2=_0x379a35['mapper']['markerNameToElements'](_0x2e21f2['markerName']);if(_0x300ad2){for(const _0x1aee4b of _0x300ad2)_0x1aee4b['hasClass']('ck-suggestion-marker-split')&&(_0x379a35['mapper']['unbindElementFromMarkerName'](_0x1aee4b,_0x2e21f2['markerName']),_0x379a35['writer']['remove'](_0x1aee4b));}},{'priority':'high'}),_0x6a3bc7['data']['downcastDispatcher']['on']('addMarker:suggestion:insertion',(_0x508dbc,_0x345ff8,_0x383ab4)=>{_0x383ab4['options']['showSuggestionHighlights']&&_e(_0x6a3bc7,'split',{'showActiveMarker':!0x1})['bind'](this)(_0x508dbc,_0x345ff8,_0x383ab4);},{'priority':'high'});}}class X extends _0x5b49f3{['afterInit'](){if(!this['editor']['plugins']['has']('FindAndReplaceEditing'))return;const _0x21d2c8=this['editor']['plugins']['get']('TrackChangesEditing');_0x21d2c8['enableCommand']('find',this['handleFindCommand']['bind'](this)),_0x21d2c8['enableCommand']('findNext'),_0x21d2c8['enableCommand']('findPrevious'),_0x21d2c8['enableCommand']('replace'),_0x21d2c8['enableCommand']('replaceAll');}['handleFindCommand'](_0x37e0b7,_0x539205,_0x1f9202={}){const _0x566e31=this['editor']['plugins']['get']('FindAndReplaceUtils');return _0x37e0b7(_0x18a38b=>{let _0x17f17d=('string'==typeof _0x539205?_0x566e31['findByTextCallback'](_0x539205,_0x1f9202):_0x539205)(_0x18a38b);Array['isArray'](_0x17f17d)&&(_0x17f17d={'results':_0x17f17d,'searchText':'string'==typeof _0x539205?_0x539205:''});const _0x2c93ca=_0x17f17d['results']['filter'](_0xf14322=>!0x1===this['_isInDeletionRange'](_0xf14322,_0x18a38b['item']));return{..._0x17f17d,'results':_0x2c93ca};},_0x1f9202);}['_isInDeletionRange'](_0x606733,_0x390faa){const _0x106d18=this['editor']['model']['createRange'](this['editor']['model']['createPositionAt'](_0x390faa,_0x606733['start']),this['editor']['model']['createPositionAt'](_0x390faa,_0x606733['end']));for(const _0x28a2e1 of this['editor']['model']['markers']['getMarkersGroup']('suggestion:deletion'))if(null!==_0x106d18['getIntersection'](_0x28a2e1['getRange']()))return!0x0;return!0x1;}}const ro=[{'pluginName':'FontSizeEditing','commandName':'fontSize'},{'pluginName':'FontFamilyEditing','commandName':'fontFamily'},{'pluginName':'FontColorEditing','commandName':'fontColor'},{'pluginName':'FontBackgroundColorEditing','commandName':'fontBackgroundColor'}];class Y extends _0x5b49f3{['afterInit'](){const _0x10775e=this['editor']['locale'],_0x4591ce=this['editor']['plugins']['get']('TrackChangesEditing');for(const {pluginName:_0x4c997c,commandName:_0x6ca379}of ro)this['editor']['plugins']['has'](_0x4c997c)&&(_0x4591ce['enableDefaultAttributesIntegration'](_0x6ca379),_0x4591ce['registerInlineAttribute'](_0x6ca379));_0x4591ce['descriptionFactory']['registerAttributeLabel']('fontSize',o(_0x10775e,'FORMAT_FONT_SIZE')),_0x4591ce['descriptionFactory']['registerAttributeLabel']('fontFamily',o(_0x10775e,'FORMAT_FONT_FAMILY')),_0x4591ce['descriptionFactory']['registerAttributeLabel']('fontColor',o(_0x10775e,'FORMAT_FONT_COLOR')),_0x4591ce['descriptionFactory']['registerAttributeLabel']('fontBackgroundColor',o(_0x10775e,'FORMAT_FONT_BACKGROUND')),this['_registerLegacyDescription']();}['_registerLegacyDescription'](){const _0x3e698b=this['editor'],_0x2964b7=_0x3e698b['locale'];_0x3e698b['plugins']['get']('TrackChangesEditing')['descriptionFactory']['registerDescriptionCallback'](_0x160d03=>{const _0x2a32f8=_0x2964b7['t'];if('formatInline'!=_0x160d03['type'])return;const {data:_0x5824a9}=_0x160d03;if(null!=_0x5824a9){if('fontSize'==_0x5824a9['commandName']){const _0xbf504e=_0x5824a9['commandParams'][0x0]['value'];if(_0xbf504e){const _0x3e42d7=_0x2a32f8(this['editor']['plugins']['get']('FontSize')['normalizeSizeOptions'](this['editor']['config']['get']('fontSize.options'))['find'](_0x3684f9=>_0x3684f9['model']==_0xbf504e)['title'])['toLowerCase']();return{'type':'format','content':o(_0x2964b7,'*Set\x20font\x20size:*\x20%0',_0x3e42d7)};}return{'type':'format','content':o(_0x2964b7,'*Reset\x20font\x20size*')};}if('fontFamily'==_0x5824a9['commandName']){const _0x447f46=_0x5824a9['commandParams'][0x0]['value'];return _0x447f46?{'type':'format','content':o(_0x2964b7,'*Set\x20font\x20family:*\x20%0',_0x447f46)}:{'type':'format','content':o(_0x2964b7,'*Reset\x20font\x20family*')};}if('fontColor'==_0x5824a9['commandName']){const _0x2ff685=_0x5824a9['commandParams'][0x0]['value'];if(_0x2ff685){const _0x20320b=_0x1b4678(this['editor']['config']['get']('fontColor.colors'))['find'](_0x2f148e=>_0x2f148e['model']==_0x2ff685);let _0x3d8145=_0x2ff685,_0x1a5024='';return _0x20320b&&(_0x3d8145=_0x20320b['label'],_0x1a5024=_0x2a32f8(_0x3d8145)['toLowerCase']()),{'type':'format','content':o(_0x2964b7,'*Set\x20font\x20color:*\x20%0',_0x1a5024)['trim'](),'color':{'value':_0x2ff685,'title':_0x1a5024||_0x3d8145}};}return{'type':'format','content':o(_0x2964b7,'*Reset\x20font\x20color*')};}if('fontBackgroundColor'==_0x5824a9['commandName']){const _0x4e0bea=_0x5824a9['commandParams'][0x0]['value'];if(_0x4e0bea){const _0x52419e=_0x1b4678(this['editor']['config']['get']('fontBackgroundColor.colors'))['find'](_0x73a084=>_0x73a084['model']==_0x4e0bea);let _0x2d08ee=_0x4e0bea,_0xe94965='';return _0x52419e&&(_0x2d08ee=_0x52419e['label'],_0xe94965=_0x2a32f8(_0x2d08ee)['toLowerCase']()),{'type':'format','content':o(_0x2964b7,'*Set\x20font\x20background\x20color:*\x20%0',_0xe94965)['trim'](),'color':{'value':_0x4e0bea,'title':_0xe94965||_0x2d08ee}};}return{'type':'format','content':o(_0x2964b7,'*Reset\x20font\x20background\x20color*')};}}});}}class Z extends _0x5b49f3{['afterInit'](){const _0x521b44=this['editor'],_0x5f0b49=_0x521b44['plugins']['get']('TrackChangesEditing'),_0x237acb=_0x521b44['commands']['get']('copyFormat'),_0x24e006=_0x521b44['commands']['get']('pasteFormat');_0x237acb&&_0x24e006&&(_0x5f0b49['enableDefaultAttributesIntegration']('pasteFormat'),_0x5f0b49['enableCommand']('copyFormat'),this['_registerLegacyDescription']());}['_registerLegacyDescription'](){const _0x1e004e=this['editor'],_0x50d1fa=_0x1e004e['locale'];_0x1e004e['plugins']['get']('TrackChangesEditing')['descriptionFactory']['registerDescriptionCallback'](_0x40737a=>{if('formatBlock'!=_0x40737a['type']&&'formatInline'!=_0x40737a['type'])return;const {data:_0x5d26c0}=_0x40737a;if(_0x5d26c0&&'pasteFormat'===_0x5d26c0['commandName']){const _0x477cee=[],_0x55ea3f=_0x5d26c0['commandParams'][0x0];for(const [_0x3b813f,_0x1c5152]of Object['entries'](_0x55ea3f))_0x477cee['push'](so(_0x1e004e,_0x3b813f,_0x1c5152));return _0x477cee['length']?{'type':'format','content':o(_0x50d1fa,'*Set\x20format\x20to:*\x20%0',_0x477cee['join'](',\x20'))}:{'type':'format','content':o(_0x50d1fa,'*Remove\x20all\x20formatting*')};}});}}function so(_0x38c57e,_0x1a747c,_0x568346){const _0x3a41e6=_0x38c57e['locale']['t'],_0x55c072=_0x1a747c['split'](/(?=[A-Z])/)['join']('\x20'),_0x4f492b=_0x3a41e6(_0x55c072['charAt'](0x0)['toUpperCase']()+_0x55c072['slice'](0x1))['toLowerCase']();if('boolean'==typeof _0x568346)return _0x4f492b;if('fontColor'===_0x1a747c||'fontBackgroundColor'===_0x1a747c){const _0x24a13c=_0x1b4678(_0x38c57e['config']['get']('fontColor.colors'))['find'](_0x3506c4=>_0x3506c4['model']==_0x568346);return _0x4f492b+'\x20('+(_0x24a13c?_0x3a41e6(_0x24a13c['label'])['toLowerCase']():_0x568346)+')';}if('fontSize'===_0x1a747c&&isNaN(parseFloat(_0x568346))){const _0x4e167e=_0x38c57e['plugins']['get']('FontSize')['normalizeSizeOptions'](_0x38c57e['config']['get']('fontSize.options'))['find'](_0x18b052=>_0x18b052['model']==_0x568346);return _0x4f492b+'\x20('+(_0x4e167e?_0x3a41e6(_0x4e167e['title'])['toLowerCase']():_0x568346)+')';}return _0x4f492b+'\x20('+_0x568346+')';}class tt extends _0x5b49f3{['_headingOptions'];['afterInit'](){const _0x53e62c=this['editor'];if(!_0x53e62c['plugins']['has']('HeadingEditing'))return;this['_headingOptions']=_0x53e62c['config']['get']('heading.options');const _0x50694b=_0x53e62c['locale'],_0x567cfd=_0x53e62c['plugins']['get']('TrackChangesEditing');_0x567cfd['enableDefaultAttributesIntegration']('heading');for(const _0x2e7d93 of this['_headingOptions'])'paragraph'!=_0x2e7d93['model']&&_0x567cfd['descriptionFactory']['registerElementLabel'](_0x2e7d93['model'],_0x22707a=>{const _0x3aa99b=this['_getHeadingLevel'](_0x2e7d93['model']);return null!==_0x3aa99b?_0x3859f9(_0x22707a,_0x3aa99b):_0x355ad2(_0x22707a,_0x2e7d93['title']);});function _0x3859f9(_0xd380ab,_0x43cb84){return o(_0x50694b,'ELEMENT_HEADING',[_0xd380ab,_0x43cb84]);}function _0x355ad2(_0x244000,_0x45371e){return o(_0x50694b,'ELEMENT_HEADING_CUSTOM',[_0x244000,_0x45371e]);}this['_registerLegacyDescription']();}['_registerLegacyDescription'](){const _0x432dba=this['editor'],_0x1578fd=_0x432dba['locale'];function _0xe02567(_0x129b27,_0x1b39ef){return o(_0x1578fd,'ELEMENT_HEADING_CUSTOM',[_0x129b27,_0x1b39ef]);}_0x432dba['plugins']['get']('TrackChangesEditing')['descriptionFactory']['registerDescriptionCallback'](_0x4e89b1=>{if('formatBlock'!=_0x4e89b1['type'])return;const {data:_0x20d28e}=_0x4e89b1;if(_0x20d28e&&'heading'==_0x20d28e['commandName']){const _0x1a2365=_0x20d28e['commandParams'][0x0]['value'],_0x4f9c8a=this['_getHeadingLevel'](_0x1a2365);if(null!==_0x4f9c8a)return{'type':'format','content':o(_0x1578fd,'*Change\x20to:*\x20%0',(_0x1f2812=0x1,_0x4456ae=_0x4f9c8a,o(_0x1578fd,'ELEMENT_HEADING',[_0x1f2812,_0x4456ae])))};const _0x12d28e=this['_headingOptions']['find'](_0x59e98f=>_0x59e98f['model']===_0x1a2365)['title'];return{'type':'format','content':o(_0x1578fd,'*Change\x20to:*\x20%0',_0xe02567(0x1,_0x12d28e))};}var _0x1f2812,_0x4456ae;});}['_getHeadingLevel'](_0x4a874d){const _0x33d226=_0x4a874d['match'](/^heading(\d+)/);if(_0x33d226)return _0x33d226[0x1];const _0xbfd60b=this['_headingOptions']?.['find'](_0x29fd99=>_0x29fd99['model']==_0x4a874d);if(_0xbfd60b&&_0xbfd60b['view']){const _0x2ab003=_0xbfd60b['view'],_0xe94fa=(_0x2ab003['name']??_0x2ab003)['match'](/^h(\d+)/);if(_0xe94fa)return _0xe94fa[0x1];}return null;}}class et extends _0x5b49f3{['afterInit'](){const _0x281262=this['editor'];if(!_0x281262['plugins']['has']('HighlightEditing'))return;const _0x5d2915=_0x281262['plugins']['get']('TrackChangesEditing'),_0x5d7a7d=_0x281262['locale'];_0x5d2915['enableDefaultAttributesIntegration']('highlight'),_0x5d2915['registerInlineAttribute']('highlight'),_0x5d2915['descriptionFactory']['registerAttributeLabel']('highlight',o(_0x5d7a7d,'FORMAT_HIGHLIGHT')),this['_registerLegacyDescription']();}['_registerLegacyDescription'](){const _0x35d477=this['editor'],_0x388b18=_0x35d477['locale'];_0x35d477['plugins']['get']('TrackChangesEditing')['descriptionFactory']['registerDescriptionCallback'](_0x3c9734=>{if('formatInline'!=_0x3c9734['type'])return;const {data:_0x4586c3}=_0x3c9734;if(_0x4586c3&&'highlight'==_0x4586c3['commandName']){const _0x1a0634=_0x388b18['t'],_0x564fb1=_0x4586c3['commandParams'][0x0]['value'];if(_0x564fb1){const _0x39b2b3=_0x35d477['config']['get']('highlight.options')['find'](_0x364ef9=>_0x364ef9['model']==_0x564fb1),_0x3dabb5=_0x1a0634(_0x39b2b3['title'])['toLowerCase']();return{'type':'format','content':o(_0x388b18,'*Set\x20highlight:*\x20%0',_0x3dabb5),'color':{'value':_0x39b2b3['color'],'title':_0x39b2b3['title']}};}return{'type':'format','content':o(_0x388b18,'*Remove\x20highlight*',o(_0x388b18,'FORMAT_HIGHLIGHT'))};}});}}class it extends _0x5b49f3{['afterInit'](){const _0x572cce=this['editor'];if(!_0x572cce['plugins']['has']('HorizontalLineEditing'))return;_0x572cce['plugins']['get']('TrackChangesEditing')['enableCommand']('horizontalLine');const _0x34530a=_0x572cce['plugins']['get']('TrackChangesEditing'),_0x1f79d7=_0x572cce['locale'];_0x34530a['descriptionFactory']['registerElementLabel']('horizontalLine',_0x177fc8=>o(_0x1f79d7,'ELEMENT_HORIZONTAL_LINE',_0x177fc8)),_0x572cce['conversion']['for']('dataDowncast')['elementToStructure']({'model':'horizontalLine','view':(_0x5ec9b1,{writer:_0x289ac8,options:_0x31039c})=>{if(!_0x31039c['showSuggestionHighlights'])return null;const _0x466d44=_0x289ac8['createContainerElement']('div'),_0xdff0f5=_0x289ac8['createEmptyElement']('hr');return _0x289ac8['addClass']('ck-horizontal-line',_0x466d44),_0x289ac8['insert'](_0x289ac8['createPositionAt'](_0x466d44,0x0),_0xdff0f5),_0x466d44;},'converterPriority':'high'});}}class st extends _0x5b49f3{['afterInit'](){const _0xd61890=this['editor'];if(!_0xd61890['plugins']['has']('HtmlEmbed'))return;const _0x549cef=_0xd61890['plugins']['get']('TrackChangesEditing'),_0x516b6d=_0xd61890['locale'];_0x549cef['descriptionFactory']['registerElementLabel']('rawHtml',_0x5852d1=>o(_0x516b6d,'ELEMENT_HTML_EMBED',_0x5852d1)),_0x549cef['enableDefaultAttributesIntegration']('htmlEmbed'),_0x549cef['registerBlockAttribute']('value'),_0x549cef['descriptionFactory']['registerDescriptionCallback'](_0x49191f=>{if('attribute'!=_0x49191f['type'])return;const {data:_0x1e4a1c}=_0x49191f;if(_0x1e4a1c&&'value'==_0x1e4a1c['key']&&_0x49191f['getFirstRange']()['start']['nodeAfter']['is']('element','rawHtml')){const _0x5c9bb8=o(_0x516b6d,'ELEMENT_HTML_EMBED');return{'type':'format','content':o(_0x516b6d,'*Change\x20%0\x20content*',_0x5c9bb8)};}}),this['_registerLegacyDescription']();}['_registerLegacyDescription'](){const _0x511ce0=this['editor'],_0x1cc226=_0x511ce0['locale'];_0x511ce0['plugins']['get']('TrackChangesEditing')['descriptionFactory']['registerDescriptionCallback'](_0x49a8e1=>{if('formatBlock'!=_0x49a8e1['type'])return;const {data:_0x28d21f}=_0x49a8e1;if(_0x28d21f&&'htmlEmbed'==_0x28d21f['commandName']){const _0x29a930=o(_0x1cc226,'ELEMENT_HTML_EMBED');return{'type':'format','content':o(_0x1cc226,'*Change\x20%0\x20content*',_0x29a930)};}});}}class nt extends _0x5b49f3{['afterInit'](){const _0x353a40=this['editor'];if(!_0x353a40['plugins']['has']('ImageEditing'))return;const _0x28110b=_0x353a40['plugins']['get']('TrackChangesEditing'),_0x5f1ff1=_0x353a40['plugins']['get']('ImageUtils'),_0xa15ffc=_0x353a40['locale'];_0x28110b['enableCommand']('insertImage'),_0x28110b['descriptionFactory']['registerElementLabel']('imageBlock',_0x432d85=>o(_0xa15ffc,'ELEMENT_IMAGE',_0x432d85)),_0x28110b['descriptionFactory']['registerElementLabel']('imageInline',_0x5ce406=>o(_0xa15ffc,'ELEMENT_INLINE_IMAGE',_0x5ce406)),_0x28110b['descriptionFactory']['registerElementLabel']('caption',()=>o(_0xa15ffc,'ELEMENT_CAPTION')),_0x353a40['plugins']['has']('ImageUploadEditing')&&_0x28110b['enableCommand']('uploadImage'),_0x353a40['plugins']['has']('ImageBlockEditing')&&_0x353a40['plugins']['has']('ImageInlineEditing')&&(_0x28110b['enableCommand']('imageTypeInline',(_0x337f41,_0x3e215e)=>{const _0x2f04c6=_0x5f1ff1['getClosestSelectedImageElement'](_0x353a40['model']['document']['selection']);_0x353a40['model']['change'](()=>{_0x28110b['markBlockFormat'](_0x2f04c6,{'commandName':'imageTypeInline','commandParams':[_0x3e215e]},[],'convertBlockImageToInline');});}),_0x28110b['enableCommand']('imageTypeBlock',(_0x33b36f,_0x24920d)=>{_0x353a40['model']['change'](_0x233280=>{let _0x317ce0=_0x5f1ff1['getClosestSelectedImageElement'](_0x353a40['model']['document']['selection']),_0xe6d2ae=_0x233280['createRangeOn'](_0x317ce0);const _0x5072f6=_0x2fa80d['fromPosition'](_0xe6d2ae['start'],'toPrevious'),_0x4cd556=_0x2fa80d['fromPosition'](_0xe6d2ae['end'],'toNext');_0x28110b['forceDefaultExecution'](()=>_0x33b36f(_0x24920d)),_0x317ce0=_0x5f1ff1['getClosestSelectedImageElement'](_0x353a40['model']['document']['selection']),_0xe6d2ae=_0x233280['createRangeOn'](_0x317ce0);const _0xe0d134=_0x233280['createRange'](_0x5072f6,_0x4cd556);_0x5072f6['detach'](),_0x4cd556['detach'](),_0x28110b['markBlockFormat'](_0x317ce0,{'commandName':'imageTypeInline','commandParams':[_0x24920d]},[],'convertInlineImageToBlock'),_0xe0d134['start']['isBefore'](_0xe6d2ae['start'])&&_0x28110b['markInsertion'](_0x233280['createRange'](_0xe0d134['start'],_0xe6d2ae['start']),'convertInlineImageToBlock'),_0xe6d2ae['end']['isBefore'](_0xe0d134['end'])&&_0x28110b['markInsertion'](_0x233280['createRange'](_0xe6d2ae['end'],_0xe0d134['end']),'convertInlineImageToBlock');});}),_0x28110b['_suggestionFactory']['registerCustomCallback']('formatBlock','convertInlineImageToBlock','join',()=>!0x1),_0x28110b['_suggestionFactory']['registerCustomCallback']('formatBlock','convertInlineImageToBlock','accept',()=>!0x1),_0x28110b['_suggestionFactory']['registerCustomCallback']('formatBlock','convertInlineImageToBlock','discard',_0x28110b['_suggestionFactory']['getSuggestionCallback']('formatBlock','','accept')),_0x28110b['_suggestionFactory']['registerCustomCallback']('insertion','convertInlineImageToBlock','join',()=>!0x1),_0x28110b['_suggestionFactory']['registerCustomCallback']('insertion','convertInlineImageToBlock','discard',([_0x31f455])=>{const _0x163a16=_0x28110b['_suggestionFactory']['getSuggestionCallback']('insertion','','discard');let _0x11cc04=_0x31f455['start'],_0x1411a=_0x31f455['end'];const _0x110046=_0x353a40['model']['schema']['getNearestSelectionRange'](_0x11cc04,'backward'),_0x307e49=_0x353a40['model']['schema']['getNearestSelectionRange'](_0x1411a,'forward');_0x110046['isCollapsed']&&(_0x11cc04=_0x110046['start']),_0x307e49['isCollapsed']&&(_0x1411a=_0x307e49['end']),_0x163a16([_0x353a40['model']['createRange'](_0x11cc04,_0x1411a)]);}),_0x28110b['_suggestionFactory']['registerCustomCallback']('formatBlock','convertInlineImageToBlock','chain',_0x2f916f),_0x28110b['_suggestionFactory']['registerCustomCallback']('insertion','convertInlineImageToBlock','chain',_0x2f916f)),_0x353a40['plugins']['has']('ImageCaptionEditing')&&(_0x28110b['enableCommand']('toggleImageCaption',(_0x5f155a,_0x5c73c3)=>{const _0x57803c=_0x353a40['plugins']['get']('ImageCaptionUtils');let _0x4650bd=_0x5f1ff1['getClosestSelectedImageElement'](_0x353a40['model']['document']['selection']),_0x8fed71=_0x57803c['getCaptionFromImageModelElement'](_0x4650bd);_0x353a40['model']['change'](()=>{if(_0x8fed71)return void _0x28110b['markDeletion'](_0x353a40['model']['createRangeOn'](_0x8fed71));const _0x34e3a2=_0x5f1ff1['isBlockImage'](_0x4650bd);_0x5f155a(_0x5c73c3),_0x4650bd=_0x5f1ff1['getClosestSelectedImageElement'](_0x353a40['model']['document']['selection']),_0x8fed71=_0x57803c['getCaptionFromImageModelElement'](_0x4650bd),_0x28110b['markInsertion'](_0x353a40['model']['createRangeOn'](_0x8fed71),_0x34e3a2?null:'imageCaption');});}),_0x28110b['_suggestionFactory']['registerCustomCallback']('insertion','imageCaption','chain',_0x2f916f));const _0x1e1abd=[{'type':'formatBlock','subType':'imageStylePreApply'},{'type':'insertion','subType':'imageCaption'},{'type':'formatBlock','subType':'convertInlineImageToBlock'},{'type':'insertion','subType':'convertInlineImageToBlock'}];function _0x389609(_0x362bfe,_0xaab28c){const _0xa7f7fa=_0x1e1abd['findIndex'](({type:_0x408bed,subType:_0xe8653a})=>_0x362bfe['type']==_0x408bed&&_0x362bfe['subType']==_0xe8653a),_0x240341=_0x1e1abd['findIndex'](({type:_0x41b43b,subType:_0x17328d})=>_0xaab28c['type']==_0x41b43b&&_0xaab28c['subType']==_0x17328d);if(_0xa7f7fa<0x0||_0x240341<0x0)return!0x1;const _0x179231=_0x362bfe['getFirstRange'](),_0xba4ae0=_0xaab28c['getFirstRange']();if((0x0==_0xa7f7fa||0x1==_0xa7f7fa)&&0x2==_0x240341&&_0x179231['isIntersecting'](_0xba4ae0))return!0x0;if(0x2==_0xa7f7fa&&0x3==_0x240341){const _0x4fc471=_0x28110b['_findSuggestions'](_0x179231,'insertion')['filter'](({suggestion:_0xec98db,meta:_0x2a463e})=>_0x2a463e['isOwn']&&'convertInlineImageToBlock'==_0xec98db['subType']);if(_0x4fc471['length']>0x1&&_0xba4ae0['end']['isEqual'](_0x179231['start']))return!0x0;if(0x1==_0x4fc471['length']&&(_0x179231['start']['isEqual'](_0xba4ae0['end'])||_0x179231['end']['isEqual'](_0xba4ae0['start'])))return!0x0;}if(0x3==_0xa7f7fa&&0x3==_0x240341&&_0x179231['start']['isBefore'](_0xba4ae0['start'])){const _0x30ce55=_0x179231['end']['nodeAfter'],_0x38675b=_0xba4ae0['start']['nodeBefore'];return _0x5f1ff1['isBlockImage'](_0x30ce55)&&_0x30ce55===_0x38675b;}return!0x1;}function _0x2f916f(_0x563603,_0x5edf86){return _0x389609(_0x563603,_0x5edf86)?[_0x563603,_0x5edf86]:_0x389609(_0x5edf86,_0x563603)?[_0x5edf86,_0x563603]:null;}_0x353a40['plugins']['has']('ImageResize')&&(_0x28110b['enableDefaultAttributesIntegration']('resizeImage'),_0x28110b['registerBlockAttribute']('resizedWidth'),_0x28110b['descriptionFactory']['registerAttributeLabel']('resizedWidth',o(_0xa15ffc,'FORMAT_IMAGE_SIZE'))),_0x353a40['plugins']['has']('ImageTextAlternativeEditing')&&(_0x28110b['enableDefaultAttributesIntegration']('imageTextAlternative'),_0x28110b['registerBlockAttribute']('alt')),_0x28110b['descriptionFactory']['registerDescriptionCallback'](_0x655967=>{if(!!_0x1e1abd['find'](({type:_0x1124af,subType:_0x552b47})=>_0x655967['type']==_0x1124af&&_0x655967['subType']==_0x552b47))return _0x655967['previous']?{}:void 0x0;}),_0x28110b['descriptionFactory']['registerDescriptionCallback'](_0x54693c=>{if('insertion'==_0x54693c['type']||'deletion'==_0x54693c['type']){const _0x87a044=_0x54693c['getContainedElement']();if(_0x87a044&&_0x87a044['is']('element','caption'))return{'type':'insertion'==_0x54693c['type']?'addObject':'removeObject','element':_0x87a044,'quantity':0x1};}}),_0x28110b['descriptionFactory']['registerDescriptionCallback'](_0x1c4ef2=>'formatBlock'==_0x1c4ef2['type']&&'convertInlineImageToBlock'==_0x1c4ef2['subType']?{'type':'format','content':'Inline\x20image\x20to\x20block\x20image'}:'formatBlock'==_0x1c4ef2['type']&&'convertBlockImageToInline'==_0x1c4ef2['subType']?{'type':'format','content':'Block\x20image\x20to\x20inline\x20image'}:void 0x0),_0x28110b['descriptionFactory']['registerDescriptionCallback'](_0x338510=>{if('attribute'!=_0x338510['type'])return;const {data:_0x5d87aa}=_0x338510;if(!_0x5d87aa||'alt'!=_0x5d87aa['key'])return;const _0x172339=_0x5d87aa['newValue'];return _0x172339?{'type':'format','content':o(_0xa15ffc,'*Set\x20image\x20text\x20alternative:*\x20%0','\x22'+_0x172339+'\x22')}:{'type':'format','content':o(_0xa15ffc,'*Remove\x20image\x20text\x20alternative*')};}),this['_registerLegacyDescription']();}['_registerLegacyDescription'](){const _0x3acb00=this['editor'],_0x4e88c1=_0x3acb00['locale'];_0x3acb00['plugins']['get']('TrackChangesEditing')['descriptionFactory']['registerDescriptionCallback'](_0x404d43=>{if('formatBlock'!=_0x404d43['type']&&'formatInline'!=_0x404d43['type'])return;const {data:_0x4c6927}=_0x404d43;if(_0x4c6927){if('imageTextAlternative'==_0x4c6927['commandName']){const _0x2deb42=_0x4c6927['commandParams'][0x0]['newValue'];return _0x2deb42?{'type':'format','content':o(_0x4e88c1,'*Set\x20image\x20text\x20alternative:*\x20%0','\x22'+_0x2deb42+'\x22')}:{'type':'format','content':o(_0x4e88c1,'*Remove\x20image\x20text\x20alternative*')};}if('resizeImage'==_0x4c6927['commandName']){const _0x58bef1=_0x4c6927['commandParams'][0x0]['width'];return _0x58bef1?{'type':'format','content':o(_0x4e88c1,'*Set\x20image\x20width:*\x20%0',_0x58bef1)}:{'type':'format','content':o(_0x4e88c1,'*Reset\x20image\x20width*')};}}});}}class ot extends _0x5b49f3{['afterInit'](){if(!this['editor']['plugins']['has']('ImageEditing'))return;const _0x520649=this['editor']['locale'],_0x524370=this['editor']['plugins']['get']('TrackChangesEditing');_0x524370['enableDefaultAttributesIntegration']('replaceImageSource'),_0x524370['registerBlockAttribute']('src'),_0x524370['descriptionFactory']['registerDescriptionCallback'](_0x3bd938=>{if('attribute'!=_0x3bd938['type'])return;const {data:_0xd90077}=_0x3bd938;return _0xd90077&&'src'==_0xd90077['key']?_0xd90077['newValue']&&_0xd90077['oldValue']?{'type':'format','content':o(_0x520649,'*Replace\x20image\x20URL*')}:{'type':'format','content':''}:void 0x0;}),this['_handleLegacySuggestions']();}['_handleLegacySuggestions'](){const _0x1a25fc=this['editor']['plugins']['get']('TrackChangesEditing');_0x1a25fc['_suggestionFactory']['registerCustomCallback']('formatBlock','replaceImageSource','accept',_0x1a25fc['_suggestionFactory']['getSuggestionCallback']('formatBlock',null,'discard')),_0x1a25fc['_suggestionFactory']['registerCustomCallback']('formatBlock','replaceImageSource','discard',_0x1a25fc['_suggestionFactory']['getSuggestionCallback']('formatBlock',null,'accept')),this['_registerLegacyDescription']();}['_registerLegacyDescription'](){const _0x48a6ec=this['editor'],_0x25b9c4=_0x48a6ec['locale'];_0x48a6ec['plugins']['get']('TrackChangesEditing')['descriptionFactory']['registerDescriptionCallback'](_0x1e09af=>{if('formatBlock'!=_0x1e09af['type']&&'formatInline'!=_0x1e09af['type'])return;const {data:_0x54421b}=_0x1e09af;if(!_0x54421b||'replaceImageSource'!=_0x54421b['commandName'])return;return{'type':'format','content':o(_0x25b9c4,'*Format:*\x20replace\x20image\x20URL')};});}}class rt extends _0x5b49f3{['afterInit'](){const _0x8caac8=this['editor'];if(!_0x8caac8['plugins']['has']('ImageStyleEditing'))return;const _0x226822=_0x8caac8['plugins']['get']('TrackChangesEditing'),_0xd31244=_0x8caac8['plugins']['get']('ImageUtils'),_0x51d4ed={};_0x226822['enableCommand']('imageStyle',(_0x1b1002,_0x3fd22f)=>{const _0xfa5b87=_0x8caac8['plugins']['get']('Users')['me'],_0x34fdf9=_0x8caac8['commands']['get']('imageStyle');let _0x1e624b=_0xd31244['getClosestSelectedImageElement'](_0x8caac8['model']['document']['selection']),_0x46a869=_0x8caac8['model']['createRangeOn'](_0x1e624b),_0x481699=_0x34fdf9['value'];if(_0x481699==_0x3fd22f['value'])return;const _0x369847={'commandName':'imageStyle','commandParams':[_0x3fd22f],'formatGroupId':_0x3ed9b7()};_0x8caac8['model']['change'](()=>{if(_0x226822['getSuggestions']()['filter'](_0x41da7b=>_0x41da7b['isInContent']&&_0xfa5b87==_0x41da7b['author']&&('formatBlock'==_0x41da7b['type']||'formatInline'==_0x41da7b['type'])&&('imageStylePreApply'==_0x41da7b['subType']||'imageStylePostApply'==_0x41da7b['subType'])&&_0x41da7b['getFirstRange']()['isEqual'](_0x46a869))['forEach'](_0x422868=>_0x226822['discardSuggestion'](_0x422868['head'])),_0x1e624b=_0xd31244['getClosestSelectedImageElement'](_0x8caac8['model']['document']['selection']),_0x46a869=_0x8caac8['model']['createRangeOn'](_0x1e624b),_0x34fdf9['refresh'](),_0x8caac8['commands']['get']('imageTypeInline')['refresh'](),_0x8caac8['commands']['get']('imageTypeBlock')['refresh'](),_0x481699=_0x34fdf9['value'],_0x481699!=_0x3fd22f['value'])return _0xd31244['isInlineImage'](_0x1e624b)&&_0x34fdf9['shouldConvertImageType'](_0x3fd22f['value'],_0x1e624b)?(_0x1b1002({..._0x3fd22f,'setImageSizes':!0x1}),_0x1e624b=_0xd31244['getClosestSelectedImageElement'](_0x8caac8['model']['document']['selection']),void _0x226822['markBlockFormat'](_0x1e624b,{..._0x369847,'commandReversedParams':[{'value':_0x481699||null,'setImageSizes':!0x1}]},[],'imageStylePreApply')):void(_0xd31244['isBlockImage'](_0x1e624b)?_0x226822['markBlockFormat'](_0x1e624b,_0x369847,[],'imageStylePostApply'):_0x226822['markInlineFormat'](_0x46a869,_0x369847,'imageStylePostApply'));});});for(const _0x50866c of _0x8caac8['plugins']['get']('ImageStyleEditing')['normalizedStyles'])_0x51d4ed[_0x50866c['name']]=_0x50866c['title']['toLowerCase']();_0x226822['_suggestionFactory']['registerCustomCallback']('formatBlock','imageStylePreApply','join',()=>!0x1),_0x226822['_suggestionFactory']['registerCustomCallback']('formatBlock','imageStylePostApply','join',()=>!0x1),_0x226822['_suggestionFactory']['registerCustomCallback']('formatInline','imageStylePostApply','join',()=>!0x1),_0x226822['_suggestionFactory']['registerCustomCallback']('formatBlock','imageStylePreApply','accept',([_0x1d0ed9])=>{_0xd31244['setImageNaturalSizeAttributes'](_0x1d0ed9['getContainedElement']());}),_0x226822['_suggestionFactory']['registerCustomCallback']('formatBlock','imageStylePreApply','discard',(_0xd913d6,_0x430779)=>{_0x226822['_suggestionFactory']['getSuggestionCallback']('formatBlock','','accept')(_0xd913d6,{'commandName':_0x430779['commandName'],'commandParams':_0x430779['commandReversedParams']});}),_0x226822['_suggestionFactory']['registerCustomCallback']('formatBlock','imageStylePreApply','chain',function(_0x1bd069,_0x4067f7){if(_0x12319c(_0x1bd069,_0x4067f7))return[_0x1bd069,_0x4067f7];if(_0x12319c(_0x4067f7,_0x1bd069))return[_0x4067f7,_0x1bd069];return null;});const _0x20a6a4=[{'type':'formatBlock','subType':'imageStylePreApply'},{'type':'insertion','subType':'imageCaption'},{'type':'formatBlock','subType':'convertInlineImageToBlock'},{'type':'insertion','subType':'convertInlineImageToBlock'}];function _0x12319c(_0x45bd6f,_0x5227aa){const _0xb68e2b=_0x20a6a4['findIndex'](({type:_0x264898,subType:_0x509303})=>_0x45bd6f['type']==_0x264898&&_0x45bd6f['subType']==_0x509303),_0x4855e5=_0x20a6a4['findIndex'](({type:_0x2d69ed,subType:_0x2d1e38})=>_0x5227aa['type']==_0x2d69ed&&_0x5227aa['subType']==_0x2d1e38);if(_0xb68e2b<0x0||_0x4855e5<0x0)return!0x1;const _0x4d0fb1=_0x45bd6f['getFirstRange'](),_0x5227d4=_0x5227aa['getFirstRange']();if((0x0==_0xb68e2b||0x1==_0xb68e2b)&&0x2==_0x4855e5&&_0x4d0fb1['isIntersecting'](_0x5227d4))return!0x0;if(0x2==_0xb68e2b&&0x3==_0x4855e5){const _0x175400=_0x226822['_findSuggestions'](_0x4d0fb1,'insertion')['filter'](({suggestion:_0xd736d5,meta:_0xb67a85})=>_0xb67a85['isOwn']&&'convertInlineImageToBlock'==_0xd736d5['subType']);if(_0x175400['length']>0x1&&_0x5227d4['end']['isEqual'](_0x4d0fb1['start']))return!0x0;if(0x1==_0x175400['length']&&(_0x4d0fb1['start']['isEqual'](_0x5227d4['end'])||_0x4d0fb1['end']['isEqual'](_0x5227d4['start'])))return!0x0;}if(0x3==_0xb68e2b&&0x3==_0x4855e5&&_0x4d0fb1['start']['isBefore'](_0x5227d4['start'])){const _0x16cc48=_0x4d0fb1['end']['nodeAfter'],_0x5bbef0=_0x5227d4['start']['nodeBefore'];return _0xd31244['isBlockImage'](_0x16cc48)&&_0x16cc48===_0x5bbef0;}return!0x1;}_0x8caac8['model']['document']['registerPostFixer'](()=>{let _0x12f947=!0x1;const _0x5d93e6=Array['from'](_0x8caac8['model']['document']['differ']['getChangedMarkers']());for(const {name:_0x5d9261,data:_0x5bcd90}of _0x5d93e6){const {group:_0x5945b2,type:_0x9c7393,subType:_0x402485,id:_0x38603b}=_0x226822['_splitMarkerName'](_0x5d9261);if('suggestion'==_0x5945b2&&_0x226822['hasSuggestion'](_0x38603b)){if('formatBlock'==_0x9c7393&&('imageStylePreApply'==_0x402485||'imageStylePostApply'==_0x402485)){const _0x3db51e=_0x226822['getSuggestion'](_0x38603b);if(_0x5bcd90['newRange']){const _0x69d503=_0x3db51e['getFirstRange']()['getContainedElement']();if(_0xd31244['isBlockImage'](_0x69d503))continue;_0x226822['discardSuggestion'](_0x3db51e),_0x12f947=!0x0;}}if('insertion'==_0x9c7393&&'imageCaption'==_0x402485&&!_0x5bcd90['newRange']){const _0x4432=_0x226822['getSuggestion'](_0x38603b);_0x4432['next']&&_0x4432['next']['isInContent']&&(_0x226822['discardSuggestion'](_0x4432['next']),_0x12f947=!0x0);}}}return _0x12f947;}),this['_registerLegacyDescription'](_0x51d4ed);}['_registerLegacyDescription'](_0x3d51aa){const _0x4c5019=this['editor'],_0x836a01=_0x4c5019['locale'];_0x4c5019['plugins']['get']('TrackChangesEditing')['descriptionFactory']['registerDescriptionCallback'](_0x1d8043=>{if('formatBlock'!=_0x1d8043['type']&&'formatInline'!=_0x1d8043['type'])return;const {data:_0x435665}=_0x1d8043;if(!_0x435665||'imageStyle'!=_0x435665['commandName'])return;const _0x3d95c1=_0x435665['commandParams'][0x0]['value'];return _0x48f168('side'===_0x3d95c1?o(_0x836a01,'FORMAT_SIDE_IMAGE'):_0x3d51aa[_0x3d95c1]||_0x3d95c1);function _0x48f168(_0x257e32){return{'type':'format','content':o(_0x836a01,'*Format:*\x20%0',_0x257e32)};}});}}class at extends _0x5b49f3{['_trackChangesValueDuringImport'];['_trackChangesExecuted'];constructor(_0x18667e){super(_0x18667e),this['_trackChangesValueDuringImport']=!0x1,this['_trackChangesExecuted']=!0x1;}['afterInit'](){const _0x3878d5=this['editor'],_0x19cef2=_0x3878d5['commands']['get']('importWord'),_0x11440e=_0x3878d5['commands']['get']('trackChanges');_0x19cef2&&(_0x19cef2['on']('execute',(_0x14a348,[,_0x5c0bcb])=>{this['_trackChangesValueDuringImport']=_0x11440e['value'],_0x5c0bcb['collaboration_features']['track_changes']=!this['_trackChangesValueDuringImport'];},{'priority':'high'}),this['listenTo'](_0x19cef2,'dataInsert',this['_handleImportedData']['bind'](this)),this['listenTo'](_0x19cef2,'dataInsert',()=>{this['_trackChangesExecuted']&&(_0x11440e['execute'](),this['_trackChangesExecuted']=!0x1);},{'priority':'lowest'}),_0x3878d5['plugins']['get']('TrackChangesEditing')['enableCommand']('importWord'));}['_handleImportedData'](_0x57dcdb,_0x3d66d0){const {suggestions:_0x4c9ee4}=_0x3d66d0,_0x2bc468=this['editor']['commands']['get']('trackChanges'),_0x293c79=_0x2bc468['value'];this['_trackChangesValueDuringImport']!==_0x293c79&&(_0x2bc468['execute'](),this['_trackChangesExecuted']=!0x0),_0x4c9ee4&&_0x4c9ee4['forEach'](({id:_0x19c979,type:_0x37691e,author:_0x2f4a39,created_at:_0x66bba8})=>{const _0x369df5={'id':_0x19c979,'type':_0x37691e,'authorId':this['editor']['plugins']['get']('Users')['me']['id'],'createdAt':new Date(),'data':null,'hasComments':!0x1,'attributes':{'@external':{'authorName':_0x2f4a39,'createdAt':_0x66bba8?new Date(_0x66bba8):new Date(),'source':'importWord'}}};this['editor']['plugins']['get']('TrackChangesEditing')['_setSuggestionData'](_0x369df5);});}}class ct extends _0x5b49f3{['afterInit'](){const _0x517c74=this['editor'],_0x556f87=_0x517c74['plugins']['get']('TrackChangesEditing');if(_0x517c74['plugins']['has']('IndentEditing')&&(_0x556f87['enableCommand']('indent'),_0x556f87['enableCommand']('outdent')),_0x517c74['plugins']['has']('IndentBlock')){for(const _0x183eda of['indentBlock','outdentBlock'])_0x556f87['enableDefaultAttributesIntegration'](_0x183eda);}const _0x2cf54a=_0x517c74['locale'];_0x556f87['registerBlockAttribute']('blockIndent'),_0x556f87['descriptionFactory']['registerAttributeLabel']('blockIndent',o(_0x2cf54a,'FORMAT_INDENT')),this['_registerLegacyDescription']();}['_registerLegacyDescription'](){const _0x5b1256=this['editor'],_0x5ef881=_0x5b1256['locale'],_0x157c4e=_0x5b1256['plugins']['get']('TrackChangesEditing');_0x157c4e['descriptionFactory']['registerDescriptionCallback'](_0x502726=>{if('formatBlock'!=_0x502726['type'])return;const {data:_0x12aab2}=_0x502726;if(!_0x12aab2)return;if('indentBlock'!=_0x12aab2['commandName']&&'outdentBlock'!=_0x12aab2['commandName'])return;const _0x486b2e=_0x502726['getItems']()[0x0],_0x42e1fe=_0x157c4e['descriptionFactory']['getItemLabel'](_0x486b2e);return'indentBlock'==_0x12aab2['commandName']?{'type':'format','content':o(_0x5ef881,'*Indent:*\x20%0',_0x42e1fe)}:'outdentBlock'==_0x12aab2['commandName']?{'type':'format','content':o(_0x5ef881,'*Outdent:*\x20%0',_0x42e1fe)}:void 0x0;});}}class ut extends _0x5b49f3{static get['requires'](){return[tr];}['init'](){this['editor']['plugins']['get']('TrackChangesEditing')['enableCommand']('input');}}class ht extends _0x5b49f3{['afterInit'](){const _0x7d5427=this['editor'];if(!_0x7d5427['plugins']['has']('LinkEditing'))return;const _0x1fe197=_0x7d5427['plugins']['get']('TrackChangesEditing'),_0x46b9e2=_0x7d5427['commands']['get']('link');_0x1fe197['enableDefaultAttributesIntegration']('link'),_0x1fe197['enableDefaultAttributesIntegration']('unlink'),_0x1fe197['registerInlineAttribute']('linkHref');for(const _0x4deb94 of _0x46b9e2['manualDecorators'])_0x1fe197['registerInlineAttribute'](_0x4deb94['id']),_0x1fe197['descriptionFactory']['registerAttributeLabel'](_0x4deb94['id'],'link\x20('+_0x4deb94['label']['toLowerCase']()+')');_0x1fe197['descriptionFactory']['registerDescriptionCallback'](_0x41901a=>{if('attribute'!=_0x41901a['type'])return;const {data:_0x9c6e36}=_0x41901a;if(!_0x9c6e36||'linkHref'!=_0x9c6e36['key'])return;const _0x9c2cf3=_0x9c6e36['newValue'],_0x565dec=_0x7d5427['locale'];return{'type':'format','content':null==_0x9c2cf3?o(_0x565dec,'*Remove\x20link*'):o(_0x565dec,'*Set\x20link:*\x20%0','\x22'+_0x9c2cf3+'\x22')};}),this['_registerLegacyDescription']();}['_registerLegacyDescription'](){const _0x9d25f5=this['editor'],_0x7b1cbe=_0x9d25f5['locale'];_0x9d25f5['plugins']['get']('TrackChangesEditing')['descriptionFactory']['registerDescriptionCallback'](_0xf180ae=>{if('formatInline'!=_0xf180ae['type'])return;const {data:_0x37985d}=_0xf180ae;if(_0x37985d){if('link'==_0x37985d['commandName']){const _0x3d59b3=_0x37985d['commandParams'][0x0];return{'type':'format','content':o(_0x7b1cbe,'*Set\x20link:*\x20%0','\x22'+_0x3d59b3+'\x22')};}return'unlink'==_0x37985d['commandName']?{'type':'format','content':o(_0x7b1cbe,'*Remove\x20link*')}:void 0x0;}});}}class ft extends _0x5b49f3{['afterInit'](){const _0x407c78=this['editor'],_0x4f8a7d=_0x407c78['locale'];if(!_0x407c78['plugins']['has']('LegacyListEditing'))return;const _0x51b112=_0x407c78['plugins']['get']('TrackChangesEditing'),_0x5432a4=_0x407c78['plugins']['has']('LegacyTodoListEditing');function _0xe024d5(_0x218aa8){return()=>{const _0x5a4ab4=_0x407c78['model']['document']['selection'],_0x52a471=_0x407c78['commands']['get'](_0x218aa8);if(_0x52a471['value'])return void _0x407c78['execute']('paragraph',{});const _0x1fec77=_0x218aa8['slice'](0x0,-0x4),_0x20c3c1=function(_0x19bd61,_0x427c7b,_0x3bfa6a){let _0x3cfd0a=Array['from'](_0x19bd61)['filter'](_0x1cdc71=>function(_0x2b2692,_0x2da9ff){return _0x2da9ff['checkChild'](_0x2b2692['parent'],'listItem')&&!_0x2da9ff['isObject'](_0x2b2692);}(_0x1cdc71,_0x3bfa6a));_0x3cfd0a=_0x3cfd0a['filter'](_0x1b210f=>!_0x1b210f['is']('element','listItem')||_0x1b210f['getAttribute']('listType')!=_0x427c7b);const _0x4373cb=new Set();for(const _0x5f5461 of _0x3cfd0a)_0x5f5461['is']('element','listItem')?_0x4373cb['add'](fe(_0x5f5461)):_0x4373cb['add'](_0x5f5461);return Array['from'](_0x4373cb);}(_0x5a4ab4['getSelectedBlocks'](),_0x1fec77,_0x407c78['model']['schema']);_0x407c78['model']['change'](()=>{for(const _0x14037b of _0x20c3c1)_0x51b112['markBlockFormat'](_0x14037b,{'commandName':_0x218aa8,'commandParams':[{'forceValue':!_0x52a471['value']}],'formatGroupId':'blockName'},ue(_0x14037b));});};}function _0x182cae(_0x58a092){return()=>{const _0x4e7d37=function(_0x4a4837){let _0x5f25a8=Array['from'](_0x4a4837);const _0x150237=_0x5f25a8['findIndex'](_0x1eeefe=>'listItem'!=_0x1eeefe['name']);return _0x150237>-0x1&&(_0x5f25a8=_0x5f25a8['slice'](0x0,_0x150237)),_0x5f25a8;}(_0x407c78['model']['document']['selection']['getSelectedBlocks']()),_0x34b43a=_0x407c78['model']['createRange'](_0x407c78['model']['createPositionAt'](_0x4e7d37[0x0],'before'),_0x407c78['model']['createPositionAt'](_0x4e7d37[_0x4e7d37['length']-0x1],'end'));_0x407c78['model']['change'](()=>{_0x51b112['markBlockFormat'](_0x34b43a,{'commandName':_0x58a092,'commandParams':[],'formatGroupId':'listIndent'},function(_0x18e9a2){const _0x293c54=new Set();for(const _0x4294f0 of _0x18e9a2){let _0x8d5969=_0x4294f0['nextSibling'];for(;_0x8d5969&&_0x8d5969['getAttribute']('listIndent')>_0x4294f0['getAttribute']('listIndent');)_0x293c54['add'](_0x8d5969),_0x8d5969=_0x8d5969['nextSibling'];}return Array['from'](_0x293c54);}(_0x4e7d37));});};}_0x51b112['enableCommand']('numberedList',_0xe024d5('numberedList')),_0x51b112['enableCommand']('bulletedList',_0xe024d5('bulletedList')),_0x5432a4&&_0x51b112['enableCommand']('todoList',_0xe024d5('todoList')),_0x51b112['enableCommand']('indentList',_0x182cae('indentList')),_0x51b112['enableCommand']('outdentList',_0x182cae('outdentList')),_0x5432a4&&_0x51b112['enableCommand']('checkTodoList',()=>{const _0x4c7f99=_0x407c78['commands']['get']('checkTodoList'),_0x10c37e=Array['from'](_0x4c7f99['_selectedElements']);_0x10c37e['filter'](_0x3ade80=>_0x3ade80['getAttribute']('todoListChecked')!=_0x4c7f99['value']),_0x407c78['model']['change'](()=>{for(const _0x3e4fbe of _0x10c37e)_0x51b112['markBlockFormat'](_0x3e4fbe,{'commandName':'checkTodoList','commandParams':[{'forceValue':!_0x4c7f99['value']}]});});}),_0x51b112['descriptionFactory']['registerElementLabel']('listItem',_0x4d4a3d=>o(_0x4f8a7d,'ELEMENT_LIST_ITEM',_0x4d4a3d)),_0x51b112['descriptionFactory']['registerDescriptionCallback'](_0x1f455=>{if('formatBlock'!=_0x1f455['type']&&'formatInline'!=_0x1f455['type'])return;const {data:_0x279c75}=_0x1f455;if(_0x279c75){if('numberedList'==_0x279c75['commandName']||'bulletedList'==_0x279c75['commandName']||'todoList'==_0x279c75['commandName'])switch(_0x279c75['commandName']['replace']('List','')){case'bulleted':return _0x5eccbb(o(_0x4f8a7d,'ELEMENT_BULLETED_LIST'));case'numbered':return _0x5eccbb(o(_0x4f8a7d,'ELEMENT_NUMBERED_LIST'));case'todo':return _0x5eccbb(o(_0x4f8a7d,'ELEMENT_TODO_LIST'));}if('indentList'==_0x279c75['commandName'])return{'type':'format','content':o(_0x4f8a7d,'*Indent:*\x20%0',o(_0x4f8a7d,'ELEMENT_LIST_ITEM'))};if('outdentList'==_0x279c75['commandName'])return{'type':'format','content':o(_0x4f8a7d,'*Outdent:*\x20%0',o(_0x4f8a7d,'ELEMENT_LIST_ITEM'))};if('checkTodoList'==_0x279c75['commandName'])return _0x279c75['commandParams'][0x0]['forceValue']?{'type':'format','content':o(_0x4f8a7d,'*Check\x20item*')}:{'type':'format','content':o(_0x4f8a7d,'*Uncheck\x20item*')};}function _0x5eccbb(_0x12add7){return{'type':'format','content':o(_0x4f8a7d,'*Change\x20to:*\x20%0',_0x12add7)};}});}}function fe(_0x2c719d){const _0x366d0c=_0x2c719d['getAttribute']('listIndent');if(0x0==_0x366d0c)return _0x2c719d;let _0x5ebf13=_0x2c719d;for(;_0x2c719d['previousSibling']&&_0x2c719d['previousSibling']['is']('element','listItem');){const _0x39b103=_0x2c719d['previousSibling']['getAttribute']('listIndent');if(_0x39b103==_0x366d0c)_0x5ebf13=_0x2c719d['previousSibling'];else{if(_0x39b103<_0x366d0c)break;}_0x2c719d=_0x2c719d['previousSibling'];}return _0x5ebf13;}function ue(_0x57848c){const _0x18a435=[];if(_0x57848c['is']('element','listItem')&&_0x57848c['getAttribute']('listIndent')>0x0){let _0x263c33=_0x57848c['nextSibling'];for(;_0x263c33&&'listItem'==_0x263c33['name']&&_0x263c33['getAttribute']('listIndent')==_0x57848c['getAttribute']('listIndent');)_0x18a435['push'](_0x263c33),_0x263c33=_0x263c33['nextSibling'];}return _0x18a435;}class W extends _0x5b49f3{['afterInit'](){if(!this['editor']['plugins']['has']('LegacyListPropertiesEditing'))return;const _0xd410d3=this['editor']['config']['get']('list.properties'),_0xec1c8e=this['editor']['plugins']['get']('TrackChangesEditing');_0xd410d3['styles']&&_0xec1c8e['enableCommand']('listStyle',this['handleListStyleCommand']['bind'](this)),_0xd410d3['reversed']&&_0xec1c8e['enableCommand']('listReversed',this['handleListReversedCommand']['bind'](this)),_0xd410d3['startIndex']&&_0xec1c8e['enableCommand']('listStart',this['handleListStartCommand']['bind'](this)),_0xec1c8e['descriptionFactory']['registerDescriptionCallback'](this['handleDescriptions']['bind'](this));}['handleListStyleCommand'](_0x233dd2,_0x321855={}){const _0x4c9678=this['editor']['plugins']['get']('TrackChangesEditing'),_0x3165dd=this['_getSuggestionBlocksForListStyle']();this['editor']['model']['change'](()=>{_0x4c9678['markMultiRangeBlockFormat'](_0x3165dd,{'commandName':'listStyle','commandParams':[{'type':_0x321855['type']}],'formatGroupId':'listStyle'});});}['handleListReversedCommand'](_0x50db23,_0x242d85={}){const _0x43a818=this['editor']['plugins']['get']('TrackChangesEditing'),_0x532336=this['_getSuggestionBlocks'](_0x9f25a9=>_0x9f25a9['is']('element','listItem')&&'numbered'===_0x9f25a9['getAttribute']('listType'));if(_0x532336['length']<0x1)return;const _0x777791=_0x532336['map'](_0x35ffeb=>this['editor']['model']['createRange'](this['editor']['model']['createPositionAt'](_0x35ffeb,'before'),this['editor']['model']['createPositionAt'](_0x35ffeb,0x0)));this['editor']['model']['change'](()=>{_0x43a818['markMultiRangeBlockFormat'](_0x777791,{'commandName':'listReversed','commandParams':[{'reversed':_0x242d85['reversed']}],'formatGroupId':'listReversed'});});}['handleListStartCommand'](_0x5d71b8,_0x5e7026={}){const _0x52fed7=this['editor']['plugins']['get']('TrackChangesEditing'),_0x28379d=this['_getSuggestionBlocks'](_0x205891=>_0x205891['is']('element','listItem')&&'numbered'===_0x205891['getAttribute']('listType'));if(_0x28379d['length']<0x1)return;const _0x22ed46=_0x28379d['map'](_0x26cacc=>this['editor']['model']['createRange'](this['editor']['model']['createPositionAt'](_0x26cacc,'before'),this['editor']['model']['createPositionAt'](_0x26cacc,0x0)));this['editor']['model']['change'](()=>{_0x52fed7['markMultiRangeBlockFormat'](_0x22ed46,{'commandName':'listStart','commandParams':[{'startIndex':_0x5e7026['startIndex']}],'formatGroupId':'listStart'});});}['handleDescriptions'](_0x2dac26){if('formatBlock'!=_0x2dac26['type']&&'formatInline'!=_0x2dac26['type'])return;const _0x2d437d=this['editor']['locale'],{data:_0x1badc3}=_0x2dac26;if(!_0x1badc3)return;let _0xa59e9f,_0x4f43b6;switch(_0x1badc3['commandName']){case'listStyle':_0xa59e9f='*Change\x20to:*\x20%0',_0x4f43b6={'type':'format','content':o(_0x2d437d,_0xa59e9f,o(_0x2d437d,this['_getTranslationKeyForListStyle'](_0x1badc3['commandParams'][0x0]['type'])))};break;case'listReversed':_0xa59e9f=_0x1badc3['commandParams'][0x0]['reversed']?'*Format:*\x20set\x20order\x20to\x20reversed':'*Format:*\x20set\x20order\x20to\x20regular',_0x4f43b6={'type':'format','content':o(_0x2d437d,_0xa59e9f)};break;case'listStart':_0xa59e9f='*Format:*\x20set\x20start\x20index\x20to\x20%0',_0x4f43b6={'type':'format','content':o(_0x2d437d,_0xa59e9f,_0x1badc3['commandParams'][0x0]['startIndex'])};}return _0x4f43b6;}['_getSuggestionBlocksForListStyle'](){const _0xf0022e=this['editor']['plugins']['get']('LegacyListUtils');let _0x1f2f24=Array['from'](this['editor']['model']['document']['selection']['getSelectedBlocks']());return _0x1f2f24[0x0]?.['is']('element','listItem')&&_0x1f2f24['unshift'](..._0xf0022e['getSiblingNodes'](this['editor']['model']['document']['selection']['getFirstPosition'](),'backward')),_0x1f2f24[_0x1f2f24['length']-0x1]?.['is']('element','listItem')&&_0x1f2f24['push'](..._0xf0022e['getSiblingNodes'](this['editor']['model']['document']['selection']['getLastPosition'](),'forward')),_0x1f2f24=[...new Set(_0x1f2f24)],this['editor']['model']['document']['selection']['getFirstPosition']()?.['parent']?.['is']('element','listItem')&&(_0x1f2f24=_0x1f2f24['filter'](_0x47d0ad=>_0x47d0ad['is']('element','listItem'))),_0x1f2f24;}['_getSuggestionBlocks'](_0x28d3f1){const _0x1b821f=this['editor']['plugins']['get']('LegacyListUtils');let _0x58fb27=Array['from'](this['editor']['model']['document']['selection']['getSelectedBlocks']())['filter'](_0x28d3f1)['map'](_0x2e4f10=>{const _0x1f3ffa=this['editor']['model']['createPositionAt'](_0x2e4f10,0x0);return[..._0x1b821f['getSiblingNodes'](_0x1f3ffa,'backward'),..._0x1b821f['getSiblingNodes'](_0x1f3ffa,'forward')];})['flat']();return _0x58fb27=[...new Set(_0x58fb27)],_0x58fb27;}['_getTranslationKeyForListStyle'](_0x1603fe){return'ELEMENT_'+(this['editor']['plugins']['get']('LegacyListUtils')['getListTypeFromListStyleType'](_0x1603fe)||'default')['toUpperCase']()+'_LIST_'+_0x1603fe['toUpperCase']()['replace'](/-/g,'_');}}class lt extends _0x5b49f3{['afterInit'](){const _0x5d4631=this['editor'];if(!_0x5d4631['plugins']['has']('MediaEmbedEditing'))return;const _0x17526c=_0x5d4631['plugins']['get']('TrackChangesEditing'),_0x4f4bdb=_0x5d4631['locale'];_0x17526c['enableCommand']('mediaEmbed'),_0x17526c['descriptionFactory']['registerElementLabel']('media',_0x426b1f=>o(_0x4f4bdb,'ELEMENT_MEDIA',_0x426b1f)),_0x5d4631['conversion']['for']('dataDowncast')['elementToElement']({'model':'media','view':(_0x2d5a8d,{writer:_0x1cc7b3,options:_0x55b838})=>{if(_0x55b838['showSuggestionHighlights'])return _0x1cc7b3['createEmptyElement']('div');},'converterPriority':'high'}),_0x5d4631['data']['downcastDispatcher']['on']('attribute:url:media',(_0x3ab19b,_0x54a5fa,_0x5b5964)=>{_0x5b5964['options']['showSuggestionHighlights']&&_0x3ab19b['stop']();},{'priority':'high'});}}class mt extends _0x5b49f3{['afterInit'](){const _0x21a7ac=this['editor'];_0x21a7ac['plugins']['has']('MentionEditing')&&_0x21a7ac['plugins']['get']('TrackChangesEditing')['enableCommand']('mention');}}class dt extends _0x5b49f3{['afterInit'](){const _0x16a2dd=this['editor'];if(!_0x16a2dd['plugins']['has']('MergeFieldsEditing'))return;_0x16a2dd['plugins']['get']('TrackChangesEditing')['enableCommand']('insertMergeField'),_0x16a2dd['plugins']['get']('TrackChangesEditing')['enableCommand']('insertMergeFieldBlock');const _0x330c65=_0x16a2dd['plugins']['get']('TrackChangesEditing'),_0x2f7a7e=_0x16a2dd['locale'];_0x330c65['descriptionFactory']['registerElementLabel']('mergeField',_0x37d45b=>o(_0x2f7a7e,'ELEMENT_MERGE_FIELD',_0x37d45b)),_0x330c65['descriptionFactory']['registerElementLabel']('mergeFieldBlock',_0x1227f2=>o(_0x2f7a7e,'ELEMENT_MERGE_FIELD',_0x1227f2)),_0x330c65['descriptionFactory']['registerDescriptionCallback'](_0x162caa=>{if('insertion'!=_0x162caa['type']&&'deletion'!=_0x162caa['type'])return;const _0x570a15=_0x162caa['getContainedElement']();if(null==_0x570a15)return;if(!_0x570a15['is']('element','mergeField')&&!_0x570a15['is']('element','mergeFieldBlock'))return;const _0x26f23a=_0x16a2dd['plugins']['get']('MergeFieldsEditing')['getLabel'](_0x570a15['getAttribute']('id'));return'insertion'==_0x162caa['type']?{'type':'insertion','content':o(_0x2f7a7e,'*Insert:*\x20%0','\x22'+_0x26f23a+'\x22\x20'+o(_0x2f7a7e,'ELEMENT_MERGE_FIELD'))}:{'type':'deletion','content':o(_0x2f7a7e,'*Remove:*\x20%0','\x22'+_0x26f23a+'\x22\x20'+o(_0x2f7a7e,'ELEMENT_MERGE_FIELD'))};});}}class pt extends _0x5b49f3{['afterInit'](){const _0x46e02d=this['editor'],_0x22eeb3=_0x46e02d['plugins']['get']('TrackChangesEditing');_0x46e02d['plugins']['has']('MultiLevelList')&&(_0x22eeb3['enableDefaultAttributesIntegration']('multiLevelList'),_0x22eeb3['registerBlockAttribute']('listMarkerStyle'),_0x22eeb3['descriptionFactory']['registerDescriptionCallback'](_0x2dbc51=>this['handleDescriptions'](_0x2dbc51)));}['handleDescriptions'](_0x4524b0){const _0x482724=this['editor']['locale'],{data:_0x552093}=_0x4524b0,_0x531f48={'type':'format','content':''};if(_0x552093&&'listMarkerStyle'==_0x552093['key']){if(!_0x552093['oldValue'])return{'type':'format','content':o(_0x482724,'*Set\x20format:*\x20%0',o(_0x482724,'ELEMENT_MULTI_LEVEL_LIST'))+'\x20('+_0x552093['newValue']+')'};if(!_0x552093['newValue']){let _0x585f35=_0x4524b0['head'];for(;_0x585f35;){if(_0x585f35['data']&&'listType'==_0x585f35['data']['key']&&_0x585f35['data']['newValue'])return _0x531f48;_0x585f35=_0x585f35['next'];}return{'type':'format','content':o(_0x482724,'*Remove\x20format:*\x20%0',o(_0x482724,'ELEMENT_MULTI_LEVEL_LIST'))+'\x20('+_0x552093['oldValue']+')'};}}}}class kt extends _0x5b49f3{['afterInit'](){const _0x4a141a=this['editor'];if(!_0x4a141a['plugins']['has']('PageBreakEditing'))return;_0x4a141a['plugins']['get']('TrackChangesEditing')['enableCommand']('pageBreak');const _0x42aba9=_0x4a141a['plugins']['get']('TrackChangesEditing'),_0x2c228b=_0x4a141a['locale'];_0x42aba9['descriptionFactory']['registerElementLabel']('pageBreak',_0x6b14a5=>o(_0x2c228b,'ELEMENT_PAGE_BREAK',_0x6b14a5));}}class bt extends _0x5b49f3{['afterInit'](){const _0x51ee34=this['editor'];if(!_0x51ee34['plugins']['has']('Paragraph'))return;const _0x144155=_0x51ee34['locale'],_0x57509c=_0x51ee34['plugins']['get']('TrackChangesEditing');_0x57509c['descriptionFactory']['registerElementLabel']('paragraph',_0x306a1c=>o(_0x144155,'ELEMENT_PARAGRAPH',_0x306a1c)),_0x57509c['enableDefaultAttributesIntegration']('paragraph'),_0x57509c['enableCommand']('insertParagraph'),_0x51ee34['editing']['downcastDispatcher']['on']('addMarker:suggestion:insertion',nr(_0x51ee34),{'priority':'highest'}),_0x51ee34['data']['downcastDispatcher']['on']('addMarker:suggestion:insertion',(_0x56c5ab,_0x22336f,_0x7c7f4c)=>{_0x7c7f4c['options']['showSuggestionHighlights']&&nr(_0x51ee34,{'showActiveMarker':!0x1})(_0x56c5ab,_0x22336f,_0x7c7f4c);},{'priority':'highest'});const _0x6bc510=_0x57509c['descriptionFactory'];_0x6bc510['registerDescriptionCallback'](_0xa0901a=>{if('insertion'!==_0xa0901a['type'])return;const {start:_0x26f5b4,end:_0x18e474}=_0xa0901a['getFirstRange']();if(!_0x26f5b4['isTouching'](_0x18e474)||!_0x26f5b4['nodeAfter'])return;const _0xa5f083=_0x51ee34['model']['schema'],_0x4ba8c2=_0x26f5b4['nodeAfter'];return _0xa5f083['isBlock'](_0x4ba8c2)&&!_0xa5f083['isLimit'](_0x4ba8c2)&&_0xa5f083['checkChild'](_0x4ba8c2,'$text')?{'type':'insertion','content':o(_0x144155,'*Insert:*\x20%0',_0x6bc510['getItemLabel'](_0x4ba8c2,0x1))}:void 0x0;}),this['_registerLegacyDescription']();}['_registerLegacyDescription'](){const _0x153803=this['editor'],_0x268bb0=_0x153803['locale'];_0x153803['plugins']['get']('TrackChangesEditing')['descriptionFactory']['registerDescriptionCallback'](_0x7329ce=>{if('formatBlock'!=_0x7329ce['type'])return;const {data:_0x11077c}=_0x7329ce;return _0x11077c&&'paragraph'==_0x11077c['commandName']?{'type':'format','content':o(_0x268bb0,'*Change\x20to:*\x20%0',o(_0x268bb0,'ELEMENT_PARAGRAPH'))}:void 0x0;});}}function nr(_0x4ac045,{showActiveMarker:_0x2b668b=!0x0}={}){return(_0x514205,_0x26aae9,_0x421870)=>{const _0x4cc5ca=_0x4ac045['plugins']['get']('TrackChangesEditing'),_0xe050ea=_0x26aae9['markerRange']['start'],_0x1ff771=_0x26aae9['markerRange']['end'],_0x38581b=_0x4ac045['model']['schema'];if(!_0xe050ea['isTouching'](_0x1ff771)||!_0xe050ea['nodeAfter'])return;const _0x481852=_0xe050ea['nodeAfter'];if(_0x38581b['isBlock'](_0x481852)&&!_0x38581b['isLimit'](_0x481852)&&_0x38581b['checkChild'](_0x481852,'$text')){if(!_0x421870['consumable']['consume'](_0x26aae9['markerRange'],_0x514205['name']))return;const {authorId:_0x1afcd8}=_0x4cc5ca['_splitMarkerName'](_0x26aae9['markerName']),_0x281c1f=_0x421870['writer']['createUIElement']('span',{'class':'ck-suggestion-marker-split','data-author-id':_0x1afcd8}),_0xccaac=_0x421870['mapper']['toViewPosition'](_0x1ff771);_0x2b668b&&_0x4cc5ca['activeMarkers']['includes'](_0x26aae9['markerName'])&&_0x421870['writer']['addClass']('ck-suggestion-marker--active',_0x281c1f),_0x421870['writer']['insert'](_0xccaac,_0x281c1f),_0x421870['mapper']['bindElementToMarker'](_0x281c1f,_0x26aae9['markerName']);}};}class wt extends _0x5b49f3{['afterInit'](){const _0x4a26e9=this['editor'];if(!_0x4a26e9['plugins']['has']('RemoveFormatEditing'))return;_0x4a26e9['plugins']['get']('TrackChangesEditing')['enableDefaultAttributesIntegration']('removeFormat'),this['_registerLegacyDescription']();}['_registerLegacyDescription'](){const _0x21f181=this['editor'];_0x21f181['plugins']['get']('TrackChangesEditing')['descriptionFactory']['registerDescriptionCallback'](_0x546c9f=>{if('formatBlock'!=_0x546c9f['type']&&'formatInline'!=_0x546c9f['type'])return;const {data:_0x3c42a4}=_0x546c9f;return _0x3c42a4&&'removeFormat'==_0x3c42a4['commandName']?{'type':'format','content':o(_0x21f181['locale'],'*Remove\x20all\x20formatting*')}:void 0x0;});}}class yt extends _0x5b49f3{['afterInit'](){const _0x1d99bd=this['editor'];if(!_0x1d99bd['plugins']['has']('RestrictedEditingModeEditing'))return;const _0xfcfdd0=_0x1d99bd['plugins']['get']('TrackChangesEditing');_0xfcfdd0['enableCommand']('goToPreviousRestrictedEditingException'),_0xfcfdd0['enableCommand']('goToNextRestrictedEditingException');const _0xa516b=_0x1d99bd['plugins']['get']('RestrictedEditingModeEditing');_0xa516b['enableCommand']('trackChanges'),_0xa516b['enableCommand']('acceptSuggestion'),_0xa516b['enableCommand']('discardSuggestion'),_0xa516b['enableCommand']('acceptAllSuggestions'),_0xa516b['enableCommand']('discardAllSuggestions'),_0xa516b['enableCommand']('acceptSelectedSuggestions'),_0xa516b['enableCommand']('discardSelectedSuggestions');}}class jt extends _0x5b49f3{static get['requires'](){return[_0x388555];}['init'](){const _0xe4da99=this['editor'],_0x1b3de3=_0xe4da99['plugins']['get']('TrackChangesEditing');_0x1b3de3['enableCommand']('shiftEnter'),_0xe4da99['editing']['downcastDispatcher']['on']('addMarker:suggestion:insertion',ge(_0xe4da99),{'priority':'high'}),_0xe4da99['editing']['downcastDispatcher']['on']('addMarker:suggestion:deletion',ge(_0xe4da99),{'priority':'high'}),_0xe4da99['data']['downcastDispatcher']['on']('addMarker:suggestion',(_0x431f21,_0x1915ff,_0x374a62)=>{_0x374a62['options']['showSuggestionHighlights']&&ge(_0xe4da99,{'showActiveMarker':!0x1})(_0x431f21,_0x1915ff,_0x374a62);}),_0x1b3de3['descriptionFactory']['registerElementLabel']('softBreak',_0x58e8c7=>o(_0xe4da99['locale'],'ELEMENT_LINE_BREAK',_0x58e8c7));}}function ge(_0x3119d3,{showActiveMarker:_0x26a707=!0x0}={}){return(_0x44ec1f,_0x26b4b7,_0x3d4e45)=>{const _0x16dd4d=_0x3119d3['plugins']['get']('TrackChangesEditing');if(!_0x3d4e45['consumable']['test'](_0x26b4b7['markerRange'],_0x44ec1f['name']))return;const _0x3298d9=_0x3119d3['model'];for(const _0x284715 of _0x26b4b7['markerRange']['getItems']()){if(!_0x284715['is']('element','softBreak'))continue;const _0x425196='deletion'==_0x26b4b7['markerName']['split'](':')[0x1]?'merge':'split',{authorId:_0x58b603}=_0x16dd4d['_splitMarkerName'](_0x26b4b7['markerName']),_0x4316d0=_0x3d4e45['writer']['createUIElement']('span',{'class':'ck-suggestion-marker-'+_0x425196,'data-author-id':_0x58b603}),_0x55fd2f=_0x3d4e45['mapper']['toViewPosition'](_0x3298d9['createPositionBefore'](_0x284715));_0x26a707&&_0x16dd4d['activeMarkers']['includes'](_0x26b4b7['markerName'])&&_0x3d4e45['writer']['addClass']('ck-suggestion-marker--active',_0x4316d0),_0x3d4e45['writer']['insert'](_0x55fd2f,_0x4316d0),_0x3d4e45['mapper']['bindElementToMarker'](_0x4316d0,_0x26b4b7['markerName']);}};}class St extends _0x5b49f3{['afterInit'](){const _0x100608=this['editor'],_0x5d7604=_0x100608['model'],_0x5621bf=_0x100608['locale'];if(!_0x100608['plugins']['has']('StandardEditingModeEditing'))return;const _0x29f7a5=_0x100608['plugins']['get']('TrackChangesEditing'),_0x9a5423='restrictedEditingException',_0x39970d=_0x100608['commands']['get'](_0x9a5423);_0x29f7a5['enableCommand'](_0x9a5423,(_0x4a8bbc,_0x10ee4c={})=>{const _0x29d0e0=_0x5d7604['document']['selection'];if(_0x29d0e0['isCollapsed'])return void _0x4a8bbc(_0x10ee4c);const _0x45613f=void 0x0!==_0x10ee4c['forceValue']?_0x10ee4c['forceValue']:!_0x39970d['value'];_0x5d7604['change'](()=>{const _0xbe850d=Array['from'](_0x29d0e0['getRanges']());for(const _0xc7cc4c of _0xbe850d){const _0x2cd303=_0x45613f?[_0xc7cc4c]:io(_0x9a5423,_0xc7cc4c,_0x5d7604);for(const _0x2c8f2a of _0x2cd303)_0x29f7a5['markInlineFormat'](_0x2c8f2a,{'commandName':_0x9a5423,'commandParams':[{'forceValue':_0x45613f}]});}});}),_0x29f7a5['descriptionFactory']['registerDescriptionCallback'](_0xb05be7=>{if('formatBlock'!=_0xb05be7['type']&&'formatInline'!=_0xb05be7['type'])return;const {data:_0x41a672}=_0xb05be7;return _0x41a672&&_0x41a672['commandName']==_0x9a5423?_0x41a672['commandParams'][0x0]['forceValue']?{'type':'format','content':o(_0x5621bf,'FORMAT_RESTRICTED_ENABLED')}:{'type':'format','content':o(_0x5621bf,'FORMAT_RESTRICTED_DISABLED')}:void 0x0;});}}class At extends _0x5b49f3{['afterInit'](){const _0x1a60ce=this['editor'];if(!_0x1a60ce['plugins']['has']('Style')||!_0x1a60ce['plugins']['has']('DataSchema'))return;const _0x2b0e34=_0x1a60ce['plugins']['get']('TrackChangesEditing'),_0x2dd4d3=_0x1a60ce['locale'],_0x170c0a=_0x1a60ce['config']['get']('style')||{},_0x551962=_0x1a60ce['plugins']['get']('GeneralHtmlSupport'),_0x3c4a01=_0x1a60ce['plugins']['get']('StyleUtils')['normalizeConfig'](_0x1a60ce['plugins']['get']('DataSchema'),_0x170c0a['definitions']);_0x2b0e34['enableDefaultAttributesIntegration']('style');const _0x1dedab=new Set();for(const _0x4818e8 of _0x3c4a01['block']){const _0x2b36af=_0x551962['getGhsAttributeNameForElement'](_0x4818e8['element']);_0x1dedab['add'](_0x2b36af);}const _0x597dda=new Set();for(const _0x5b8ffe of _0x3c4a01['inline']){const _0x4996f7=_0x551962['getGhsAttributeNameForElement'](_0x5b8ffe['element']);_0x597dda['add'](_0x4996f7);for(const _0x43fde5 of _0x5b8ffe['ghsAttributes'])_0x597dda['add'](_0x43fde5);}for(const _0x3922c8 of _0x1dedab)_0x2b0e34['registerBlockAttribute'](_0x3922c8),_0x2b0e34['descriptionFactory']['registerAttributeLabel'](_0x3922c8,o(_0x2dd4d3,'FORMAT_STYLE'));for(const _0x2a1fcf of _0x597dda)_0x2b0e34['registerInlineAttribute'](_0x2a1fcf),_0x2b0e34['descriptionFactory']['registerAttributeLabel'](_0x2a1fcf,o(_0x2dd4d3,'FORMAT_STYLE'));this['_registerLegacyDescription']();}['_registerLegacyDescription'](){const _0x6302e7=this['editor'],_0x3c1425=_0x6302e7['locale'];_0x6302e7['plugins']['get']('TrackChangesEditing')['descriptionFactory']['registerDescriptionCallback'](_0x2b5f94=>{if('formatBlock'!=_0x2b5f94['type']&&'formatInline'!=_0x2b5f94['type'])return;const {data:_0x13bec1}=_0x2b5f94;return _0x13bec1&&'style'===_0x13bec1['commandName']?_0x13bec1['commandParams'][0x0]['forceValue']?{'type':'format','content':o(_0x3c1425,'*Set\x20format:*\x20%0',_0x13bec1['commandParams'][0x0]['styleName']['toLowerCase']())}:{'type':'format','content':o(_0x3c1425,'*Remove\x20format:*\x20%0',_0x13bec1['commandParams'][0x0]['styleName']['toLowerCase']())}:void 0x0;});}}class It extends _0x5b49f3{['_tablePostFixingSubtypes'];['_tableSuggestions'];constructor(_0x1a2706){super(_0x1a2706),this['_tablePostFixingSubtypes']=['tableRow','tableColumn'],this['_tableSuggestions']=new Set();}['afterInit'](){const _0x2de98c=this['editor'],_0x15649e=_0x2de98c['model']['document']['selection'];if(!_0x2de98c['plugins']['has']('TableEditing'))return;const _0x55cbca=_0x2de98c['locale'],_0x4e64b2=_0x2de98c['plugins']['get']('TrackChangesEditing'),_0x5c96b0=_0x2de98c['plugins']['get']('TableUtils');_0x4e64b2['descriptionFactory']['registerElementLabel']('table',_0x21f079=>o(_0x55cbca,'ELEMENT_TABLE',_0x21f079)),this['_setupColumnsRowsFixing'](),_0x4e64b2['enableCommand']('insertTable'),_0x4e64b2['enableCommand']('selectTableRow'),_0x4e64b2['enableCommand']('selectTableColumn');for(const _0x1c71de of['insertTableRowAbove','insertTableRowBelow']){const _0x3987a7=_0x2de98c['commands']['get'](_0x1c71de);_0x4e64b2['enableCommand'](_0x1c71de,_0x11ca3a=>{_0x2de98c['model']['change'](_0x3e5874=>{_0x11ca3a();const _0x4c59b4='above'===_0x3987a7['order'],_0x14d78d=_0x5c96b0['getSelectionAffectedTableCells'](_0x15649e),_0x10bc9e=_0x5c96b0['getRowIndexes'](_0x14d78d),_0x29e285=_0x4c59b4?_0x10bc9e['first']-0x1:_0x10bc9e['last']+0x1,_0x3a5881=_0x14d78d[0x0]['findAncestor']('table'),_0x1d696b=_0x5c96b0['createTableWalker'](_0x3a5881,{'startRow':_0x29e285,'endRow':_0x29e285}),_0x4ca7de=Array['from'](_0x1d696b)['map'](_0x9ee045=>_0x3e5874['createRangeOn'](_0x9ee045['cell']));_0x4e64b2['markMultiRangeInsertion'](_0x4ca7de,'tableRow');});});}for(const _0x4aa3f2 of['insertTableColumnLeft','insertTableColumnRight']){const _0x3095ce=_0x2de98c['commands']['get'](_0x4aa3f2);_0x4e64b2['enableCommand'](_0x4aa3f2,_0x6cda97=>{_0x2de98c['model']['change'](_0x14c157=>{_0x6cda97();const _0x1f4525='left'===_0x3095ce['order'],_0x33198c=_0x5c96b0['getSelectionAffectedTableCells'](_0x15649e),_0x3545d3=_0x5c96b0['getColumnIndexes'](_0x33198c),_0x559341=_0x1f4525?_0x3545d3['first']-0x1:_0x3545d3['last']+0x1,_0x571e21=_0x33198c[0x0]['findAncestor']('table'),_0x883fe3=_0x5c96b0['createTableWalker'](_0x571e21,{'startRow':0x0,'column':_0x559341,'includeAllSlots':!0x1}),_0x11e751=Array['from'](_0x883fe3)['map'](_0x323bb3=>_0x14c157['createRangeOn'](_0x323bb3['cell']));_0x4e64b2['markMultiRangeInsertion'](_0x11e751,'tableColumn');});});}for(const _0x1e77d5 of['removeTableRow','removeTableColumn']){const _0x410c67=_0x1e77d5['substr'](0xb),_0x17b609=_0x410c67['toLowerCase'](),_0x3bc74b=_0x17b609['substr'](0x0,0x3)+'span',_0x3098e7='table'+_0x410c67,_0x277b8e='min'+_0x410c67,_0x7e6e40='max'+_0x410c67;_0x4e64b2['enableCommand'](_0x1e77d5,()=>{_0x2de98c['model']['change'](_0x53f185=>{const _0x1790d6=_0x5c96b0['getSelectionAffectedTableCells'](_0x15649e),_0x13c7fd=_0x1790d6[0x0]['findAncestor']('table');let _0x465e34;if('removeTableRow'==_0x1e77d5){const _0x4ba943=_0x5c96b0['getRowIndexes'](_0x1790d6);_0x465e34={'startRow':_0x4ba943['first'],'endRow':_0x4ba943['last'],'includeAllSlots':!0x0};}else{const _0x56ca0b=_0x5c96b0['getColumnIndexes'](_0x1790d6);_0x465e34={'startColumn':_0x56ca0b['first'],'endColumn':_0x56ca0b['last'],'includeAllSlots':!0x0};}const _0x5436a2=_0x5c96b0['createTableWalker'](_0x13c7fd,_0x465e34),_0x153921=Array['from'](_0x5436a2)['map'](({cell:_0x35ed9a})=>_0x35ed9a),_0x2a1194=be(_0x153921['filter'](_0x6c803b=>_0x6c803b['hasAttribute'](_0x3bc74b))),_0x121df0=be(_0x153921['filter'](_0x4f4424=>!_0x4f4424['hasAttribute'](_0x3bc74b)))['map'](_0x11b4cf=>_0x53f185['createRangeOn'](_0x11b4cf)),_0x256aea=_0x4e64b2['markMultiRangeDeletion'](_0x121df0,_0x3098e7);if(_0x256aea&&('tableRow'==_0x256aea['subType']||'tableColumn'==_0x256aea['subType'])){const _0x1ffa77=this['_getSuggestionCoords'](_0x256aea);for(const _0x1c9663 of _0x2a1194){const _0x30c89e=_0x53f185['createRangeOn'](_0x1c9663),_0x5251e3=_0x5c96b0['getCellLocation'](_0x1c9663),_0x2ae30e=_0x1c9663['getAttribute'](_0x3bc74b)-0x1,_0x461d01=_0x1ffa77[_0x277b8e],_0x46704c=_0x1ffa77[_0x7e6e40];_0x461d01<=_0x5251e3[_0x17b609]&&_0x5251e3[_0x17b609]+_0x2ae30e<=_0x46704c&&_0x256aea['addRange'](_0x30c89e);}}});});}function _0x436ed2(_0x166610){const _0x2a686d=Array['from'](_0x15649e['getRanges']())['map'](_0x553e5c=>_0x1b93ff['fromRange'](_0x553e5c));_0x2de98c['model']['change'](_0x4d5ec5=>{const _0x358717=_0x4d5ec5['batch'];_0x166610=_0x166610['filter'](_0x7c30c8=>'$graveyard'!=_0x7c30c8['root']['rootName']),_0x4d5ec5['setSelection'](_0x166610),_0x2de98c['commands']['get']('removeTableRow')['refresh'](),_0x2de98c['execute']('removeTableRow',{'forceDefaultExecution':!0x0}),_0x2de98c['model']['enqueueChange'](()=>{_0x2de98c['model']['enqueueChange'](_0x358717,_0x4bd48e=>{const _0x28d798=_0x2a686d['filter'](_0x27c28d=>'$graveyard'!=_0x27c28d['root']['rootName']);_0x28d798['length']>0x0&&_0x4bd48e['setSelection'](_0x28d798);for(const _0x48f0e1 of _0x2a686d)_0x48f0e1['detach']();});});});}function _0x469147(_0x6d62e6){_0x2de98c['model']['change'](_0x477780=>{const _0x475008=Array['from'](_0x15649e['getRanges']())['map'](_0x5328fe=>_0x1b93ff['fromRange'](_0x5328fe)),_0x146cba=[];for(const _0x339b1f of _0x6d62e6)for(const _0x4ae9a5 of _0x339b1f['getItems']({'shallow':!0x0}))_0x146cba['push'](_0x4ae9a5);for(const _0x83aff2 of _0x146cba)'$graveyard'!=_0x83aff2['root']['rootName']&&(_0x477780['setSelection'](_0x477780['createPositionAt'](_0x83aff2,0x0)),_0x2de98c['commands']['get']('removeTableColumn')['refresh'](),_0x2de98c['execute']('removeTableColumn',{'forceDefaultExecution':!0x0}));const _0x507d21=_0x475008['filter'](_0x4ae06e=>'$graveyard'!=_0x4ae06e['root']['rootName']);_0x507d21['length']>0x0&&_0x477780['setSelection'](_0x507d21);for(const _0x355eaf of _0x475008)_0x355eaf['detach']();});}function _0x4315ee(_0x582a09,_0x6d4115){return _0x6d4115['every'](_0x267c4e=>_0x582a09['some'](_0x3abe92=>_0x3abe92['end']['isEqual'](_0x267c4e['start'])||_0x267c4e['end']['isEqual'](_0x3abe92['start'])));}function _0x117324(_0xf460b3,_0x21af60){return!_0xf460b3['some'](_0x900e32=>_0x21af60['some'](_0xf46bea=>_0x900e32['isIntersecting'](_0xf46bea)))&&_0xf460b3['some'](_0x389f9d=>_0x21af60['some'](_0x1505d5=>_0x389f9d['end']['isTouching'](_0x1505d5['start'])));}_0x2de98c['data']['downcastDispatcher']['on']('addMarker:suggestion',(_0x199d5e,_0x2b843f,_0x1f1b0a)=>{if(!_0x1f1b0a['options']['showSuggestionHighlights'])return;const _0x59cf09=_0x2b843f['item'];if(!_0x59cf09)return;const _0x66e1b6=_0x1f1b0a['mapper']['toViewElement'](_0x59cf09);function _0x4128cb(_0x37b2df){return Array['isArray'](_0x37b2df)?_0x37b2df:[_0x37b2df];}_0x66e1b6&&'tableCell'===_0x59cf09['name']&&_0x5eaa0b(_0x66e1b6,_0x1f1b0a['writer'],(_0x178e1c,_0x70aecf,_0xce154a)=>_0xce154a['addClass'](_0x4128cb(_0x70aecf['classes']),_0x178e1c),(_0x42e2ab,_0x429dd6,_0x152c8f)=>_0x152c8f['removeClass'](_0x4128cb(_0x429dd6['classes']),_0x42e2ab));},{'priority':'highest'}),_0x4e64b2['descriptionFactory']['registerDescriptionCallback'](_0x24b534=>{if('insertion'!=_0x24b534['type']&&'deletion'!=_0x24b534['type'])return;const _0x5d8062=_0x24b534['getContainedElement']();if(null!=_0x5d8062&&_0x5d8062['is']('element','table')){if('insertion'==_0x24b534['type']){const _0x320158=_0x24b534['getItems']()['filter'](_0x5b047a=>_0x5b047a['is']('$textProxy'))['map'](_0x13caba=>_0x13caba['data']);if(_0x320158['length'])return{'type':'insertion','content':o(_0x55cbca,'*Insert:*\x20%0',o(_0x55cbca,'ELEMENT_TABLE_WITH_TEXT','\x22'+_0x320158['join']('\x20')+'\x22'))};}if('deletion'==_0x24b534['type']){const _0x5c4383=_0x24b534['getItems']()['filter'](_0x13c471=>_0x13c471['is']('$textProxy'))['map'](_0x3e8c21=>_0x3e8c21['data']);if(_0x5c4383['length'])return{'type':'deletion','content':o(_0x55cbca,'*Remove:*\x20%0',o(_0x55cbca,'ELEMENT_TABLE_WITH_TEXT','\x22'+_0x5c4383['join']('\x20')+'\x22'))};}}}),_0x4e64b2['descriptionFactory']['registerDescriptionCallback'](_0xf4189b=>{if('tableRow'==_0xf4189b['subType']){const _0xe59433=_0xf4189b['getItems']()['filter'](_0x2862a9=>_0x2862a9['is']('$textProxy'))['map'](_0x57dc23=>_0x57dc23['data']),_0x35e282=this['_getSuggestionCoords'](_0xf4189b),_0x40eaaf=_0x35e282['maxRow']-_0x35e282['minRow']+0x1;if('insertion'==_0xf4189b['type'])return _0xe59433['length']?{'type':'insertion','content':o(_0x55cbca,'*Insert:*\x20%0',o(_0x55cbca,'ELEMENT_TABLE_ROW_WITH_TEXT',[_0x40eaaf,'\x22'+_0xe59433['join']('\x20')+'\x22']))}:{'type':'insertion','content':o(_0x55cbca,'*Insert:*\x20%0',o(_0x55cbca,'ELEMENT_TABLE_ROW',_0x40eaaf))};if('deletion'==_0xf4189b['type'])return _0xe59433['length']?{'type':'deletion','content':o(_0x55cbca,'*Remove:*\x20%0',o(_0x55cbca,'ELEMENT_TABLE_ROW_WITH_TEXT',[_0x40eaaf,'\x22'+_0xe59433['join']('\x20')+'\x22']))}:{'type':'deletion','content':o(_0x55cbca,'*Remove:*\x20%0',o(_0x55cbca,'ELEMENT_TABLE_ROW',_0x40eaaf))};}if('tableColumn'==_0xf4189b['subType']){const _0x4c2af0=_0xf4189b['getItems']()['filter'](_0x2184af=>_0x2184af['is']('$textProxy'))['map'](_0x291977=>_0x291977['data']),_0x4253cd=this['_getSuggestionCoords'](_0xf4189b),_0x137672=_0x4253cd['maxColumn']-_0x4253cd['minColumn']+0x1;if('insertion'==_0xf4189b['type'])return _0x4c2af0['length']?{'type':'insertion','content':o(_0x55cbca,'*Insert:*\x20%0',o(_0x55cbca,'ELEMENT_TABLE_COLUMN_WITH_TEXT',[_0x137672,'\x22'+_0x4c2af0['join']('\x20')+'\x22']))}:{'type':'insertion','content':o(_0x55cbca,'*Insert:*\x20%0',o(_0x55cbca,'ELEMENT_TABLE_COLUMN',_0x137672))};if('deletion'==_0xf4189b['type'])return _0x4c2af0['length']?{'type':'deletion','content':o(_0x55cbca,'*Remove:*\x20%0',o(_0x55cbca,'ELEMENT_TABLE_COLUMN_WITH_TEXT',[_0x137672,'\x22'+_0x4c2af0['join']('\x20')+'\x22']))}:{'type':'deletion','content':o(_0x55cbca,'*Remove:*\x20%0',o(_0x55cbca,'ELEMENT_TABLE_COLUMN',_0x137672))};}}),_0x4e64b2['_suggestionFactory']['registerCustomCallback']('insertion','tableRow','discard',_0x436ed2),_0x4e64b2['_suggestionFactory']['registerCustomCallback']('deletion','tableRow','accept',_0x436ed2),_0x4e64b2['_suggestionFactory']['registerCustomCallback']('insertion','tableColumn','discard',_0x469147),_0x4e64b2['_suggestionFactory']['registerCustomCallback']('deletion','tableColumn','accept',_0x469147),_0x4e64b2['_suggestionFactory']['registerCustomCallback']('insertion','tableColumn','join',_0x4315ee),_0x4e64b2['_suggestionFactory']['registerCustomCallback']('deletion','tableColumn','join',_0x4315ee),_0x4e64b2['_suggestionFactory']['registerCustomCallback']('insertion','tableRow','join',_0x117324),_0x4e64b2['_suggestionFactory']['registerCustomCallback']('deletion','tableRow','join',_0x117324);}['_acceptFormatSuggestionCallbackFactory'](){const _0x1efc60=this['editor'],_0x1dd370=_0x1efc60['model']['document']['selection'];return(_0x2d8cc5,_0x309c5c)=>{_0x1efc60['model']['change'](_0x34803d=>{const {commandName:_0x2ba677,commandParams:_0xa7ef71}=_0x309c5c;let _0x2c5049=_0x2d8cc5[0x0]['end']['nodeBefore'];_0xa7ef71&&_0xa7ef71[0x0]&&!0x1===_0xa7ef71[0x0]['forceValue']&&(_0x2c5049=_0x2d8cc5[0x0]['start']['nodeAfter']);const _0x1ef4fb=_0x34803d['createRangeIn'](_0x2c5049);if('$graveyard'==_0x1ef4fb['root']['rootName'])return;const _0x372ae2=Array['from'](_0x1dd370['getRanges']())['map'](_0x11ce52=>_0x1b93ff['fromRange'](_0x11ce52));_0x34803d['setSelection'](_0x1ef4fb),_0x1efc60['commands']['get'](_0x2ba677)['refresh'](),_0xa7ef71['push']({'forceDefaultExecution':!0x0}),_0x1efc60['execute'](_0x2ba677,..._0xa7ef71);const _0x100ddc=_0x372ae2['filter'](_0x4cda41=>'$graveyard'!=_0x4cda41['root']['rootName']);_0x100ddc['length']>0x0&&_0x34803d['setSelection'](_0x100ddc);for(const _0x15d15a of _0x372ae2)_0x15d15a['detach']();});};}['_getCoordsForCells'](_0x44b3a5){const _0x4ee7b2=this['editor']['plugins']['get']('TableUtils');let _0x2e43dc=Number['MAX_SAFE_INTEGER'],_0x1827af=Number['MIN_SAFE_INTEGER'],_0x355133=Number['MAX_SAFE_INTEGER'],_0x529f92=Number['MIN_SAFE_INTEGER'];for(const _0x3b5e4d of _0x44b3a5){if('$graveyard'==_0x3b5e4d['root']['rootName'])continue;const {row:_0x49adfb,column:_0x100259}=_0x4ee7b2['getCellLocation'](_0x3b5e4d),_0x5cc3f9=_0x3b5e4d['hasAttribute']('rowspan')?_0x3b5e4d['getAttribute']('rowspan')-0x1:0x0,_0x361c9e=_0x3b5e4d['hasAttribute']('colspan')?_0x3b5e4d['getAttribute']('colspan')-0x1:0x0;_0x2e43dc=_0x49adfb<_0x2e43dc?_0x49adfb:_0x2e43dc,_0x1827af=_0x49adfb+_0x5cc3f9>_0x1827af?_0x49adfb+_0x5cc3f9:_0x1827af,_0x355133=_0x100259<_0x355133?_0x100259:_0x355133,_0x529f92=_0x100259+_0x361c9e>_0x529f92?_0x100259+_0x361c9e:_0x529f92;}return{'minRow':_0x2e43dc,'maxRow':_0x1827af,'minColumn':_0x355133,'maxColumn':_0x529f92};}['_setupColumnsRowsFixing'](){const _0x30c9de=this['editor'],_0x2dca16=_0x30c9de['plugins']['get']('TrackChangesEditing'),_0x57438d=_0x30c9de['plugins']['get']('TableUtils');_0x30c9de['model']['document']['on']('change:data',()=>{const _0x23249a=Array['from'](_0x30c9de['model']['document']['differ']['getChangedMarkers']());for(const {name:_0x15d5b2,data:_0x55ca2e}of _0x23249a){const {group:_0x1976cf,id:_0x1abea5,subType:_0x3f1174}=_0x2dca16['_splitMarkerName'](_0x15d5b2);if('suggestion'!=_0x1976cf)continue;if(null!=_0x55ca2e['oldRange'])continue;const _0xe04f56=_0x2dca16['getSuggestion'](_0x1abea5);this['_tablePostFixingSubtypes']['includes'](_0x3f1174)&&this['_tableSuggestions']['add'](_0xe04f56);}},{'priority':'low'});const _0x540dd9=(_0x1d4770,_0x4abd68)=>{let _0x3ac52f=!0x1;const _0x3989d7=_0x4abd68['createRangeOn'](_0x1d4770),_0x151653=_0x1d4770['findAncestor']('table'),_0x40bc50=_0x57438d['getCellLocation'](_0x1d4770);for(const _0x3f0de of this['_tableSuggestions']){const _0xc88ab7=_0x3f0de['subType'],_0x164598=_0xc88ab7['startsWith']('tablePaste'),_0x3e7873=_0xc88ab7['substr'](_0x164598?0xa:0x5),_0x5f9ac5=_0x3e7873['toLowerCase'](),_0x375067=_0x5f9ac5['substr'](0x0,0x3)+'span',_0x51d489='min'+_0x3e7873,_0x21a5c6='max'+_0x3e7873;if(!_0x3f0de['isInContent'])continue;if(_0x151653!=_0x3f0de['getFirstRange']()['start']['findAncestor']('table'))continue;if(_0x3f0de['isIntersectingWithRange'](_0x3989d7))continue;const _0x4ea1d8=_0x1d4770['hasAttribute'](_0x375067)?_0x1d4770['getAttribute'](_0x375067)-0x1:0x0,_0x3e6f12=this['_getSuggestionCoords'](_0x3f0de),_0x17b2c5=_0x3e6f12[_0x51d489],_0x3b6901=_0x3e6f12[_0x21a5c6];_0x17b2c5<=_0x40bc50[_0x5f9ac5]&&_0x40bc50[_0x5f9ac5]+_0x4ea1d8<=_0x3b6901&&(_0x3f0de['addRange'](_0x3989d7),_0x3ac52f=!0x0);}return _0x3ac52f;};_0x30c9de['model']['document']['registerPostFixer'](_0x67b5fa=>{let _0x38a55c=!0x1;for(const _0x519fef of _0x30c9de['model']['document']['differ']['getChanges']())if('insert'==_0x519fef['type']){if('tableRow'==_0x519fef['name']){for(const _0x3b0571 of _0x519fef['position']['nodeAfter']['getChildren']())_0x38a55c=_0x38a55c||_0x540dd9(_0x3b0571,_0x67b5fa);}else'tableCell'==_0x519fef['name']&&(_0x38a55c=_0x38a55c||_0x540dd9(_0x519fef['position']['nodeAfter'],_0x67b5fa));}return _0x38a55c;});}['_getSuggestionCoords'](_0x329549){return this['_getCoordsForCells'](_0x329549['getRanges']()['map'](_0x2ea675=>_0x2ea675['start']['nodeAfter']));}}function be(_0x3357b5){return Array['from'](new Set(_0x3357b5)['values']());}class vt extends _0x5b49f3{static get['requires'](){return[It];}['afterInit'](){const _0x4e1d3e=this['editor'],_0x45f055=_0x4e1d3e['model']['document']['selection'],_0x51f4a7=_0x4e1d3e['locale'];if(!_0x4e1d3e['plugins']['has']('TableEditing'))return;const _0x505d9e=_0x4e1d3e['plugins']['get']('TrackChangesEditing'),_0x3b09f8=_0x4e1d3e['plugins']['get']('TableUtils'),_0x576280=_0x4e1d3e['plugins']['get'](It);_0x576280['_tablePostFixingSubtypes']['push']('mergeTableCells'),_0x505d9e['enableCommand']('mergeTableCells',()=>{const _0x3daad1=_0x3b09f8['getSelectionAffectedTableCells'](_0x4e1d3e['model']['document']['selection']);_0x4e1d3e['model']['change'](()=>{_0x505d9e['markMultiRangeBlockFormat'](_0x3daad1,{'commandName':'mergeTableCells','commandParams':[]},[],'mergeTableCells');});}),_0x4e1d3e['commands']['get']('mergeTableCells')['on']('execute',(_0x4854b6,_0x154f15)=>{_0x4e1d3e['commands']['get']('trackChanges')['value']&&(_0x154f15['length']>0x0&&_0x154f15[_0x154f15['length']-0x1]&&_0x154f15[_0x154f15['length']-0x1]['forceDefaultExecution']||_0x505d9e['_isForcedDefaultExecutionBlock']||this['_areSelectedCellsMergable']()||_0x4854b6['stop']());},{'priority':'highest'});for(const _0x5bce79 of['mergeTableCellUp','mergeTableCellRight','mergeTableCellDown','mergeTableCellLeft']){const _0x4828c2=_0x4e1d3e['commands']['get'](_0x5bce79);_0x505d9e['enableCommand'](_0x5bce79,()=>{const _0x1cbe88=_0x4e1d3e['model']['document']['selection']['getFirstPosition']()['getAncestors']()['find'](_0x30d684=>_0x30d684['is']('element','tableCell')),_0x28159a=_0x4828c2['value'];_0x4e1d3e['model']['change'](()=>{_0x505d9e['markMultiRangeBlockFormat']([_0x1cbe88,_0x28159a],{'commandName':'mergeTableCells','commandParams':[]},[],'mergeTableCells');});});}for(const _0x226d86 of['splitTableCellVertically','splitTableCellHorizontally']){const _0x1fd09e=_0x4e1d3e['commands']['get'](_0x226d86);_0x505d9e['enableCommand'](_0x226d86,()=>{const _0x5a3ab1=_0x3b09f8['getSelectionAffectedTableCells'](_0x4e1d3e['model']['document']['selection'])[0x0],_0x321776=_0x5a3ab1['findAncestor']('table'),{column:_0x274a68,row:_0xc48cd6}=_0x3b09f8['getCellLocation'](_0x5a3ab1);let _0x49c4b2=[];if('horizontally'==_0x1fd09e['direction']){const _0x40ca33=_0x3b09f8['createTableWalker'](_0x321776,{'startRow':_0xc48cd6,'endRow':_0xc48cd6,'includeAllSlots':!0x0});_0x49c4b2=Array['from'](_0x40ca33)['map'](_0x581fdd=>_0x581fdd['cell']);}else{const _0x83b67=_0x3b09f8['createTableWalker'](_0x321776,{'column':_0x274a68,'includeAllSlots':!0x0});_0x49c4b2=Array['from'](_0x83b67)['map'](_0x3bc6cb=>_0x3bc6cb['cell']);}_0x4e1d3e['model']['change'](_0x5ab56d=>{_0x505d9e['markBlockFormat'](_0x5ab56d['createRangeOn'](_0x5a3ab1),{'commandName':_0x226d86,'commandParams':[]},_0x49c4b2,_0x226d86);});});}_0x505d9e['descriptionFactory']['registerDescriptionCallback'](_0x3819bd=>{if('formatBlock'!=_0x3819bd['type']&&'formatInline'!=_0x3819bd['type'])return;const {data:_0x552e58}=_0x3819bd;return _0x552e58&&'mergeTableCells'==_0x552e58['commandName']?{'type':'format','content':o(_0x51f4a7,'*Merge\x20cells*')}:void 0x0;}),_0x505d9e['descriptionFactory']['registerDescriptionCallback'](_0x33cb77=>{if('formatBlock'!=_0x33cb77['type']&&'formatInline'!=_0x33cb77['type'])return;const {data:_0x514468}=_0x33cb77;return _0x514468?'splitTableCellVertically'==_0x514468['commandName']?{'type':'format','content':o(_0x51f4a7,'*Split\x20cell:*\x20vertically')}:'splitTableCellHorizontally'==_0x514468['commandName']?{'type':'format','content':o(_0x51f4a7,'*Split\x20cell:*\x20horizontally')}:void 0x0:void 0x0;});const _0x55c2b7=_0x576280['_acceptFormatSuggestionCallbackFactory']();for(const _0x1dcd55 of['mergeTableCellUp','mergeTableCellRight','mergeTableCellDown','mergeTableCellLeft'])_0x505d9e['_suggestionFactory']['registerCustomCallback']('formatBlock',_0x1dcd55,'accept',_0x55c2b7);for(const _0x175afe of['splitTableCellVertically','splitTableCellHorizontally'])_0x505d9e['_suggestionFactory']['registerCustomCallback']('formatBlock',_0x175afe,'accept',_0x55c2b7);_0x505d9e['_suggestionFactory']['registerCustomCallback']('formatBlock','mergeTableCells','accept',_0x1ac3e2=>{_0x4e1d3e['model']['change'](_0x1688dd=>{const _0x1eb7d7=Array['from'](_0x45f055['getRanges']())['map'](_0x56c807=>_0x1b93ff['fromRange'](_0x56c807));_0x1688dd['setSelection'](_0x1ac3e2),_0x4e1d3e['commands']['get']('mergeTableCells')['refresh'](),_0x4e1d3e['execute']('mergeTableCells',{'forceDefaultExecution':!0x0});const _0x241948=_0x1eb7d7['filter'](_0x1fde14=>'$graveyard'!=_0x1fde14['root']['rootName']);_0x241948['length']>0x0&&_0x1688dd['setSelection'](_0x241948);for(const _0x45d49a of _0x1eb7d7)_0x45d49a['detach']();});});for(const _0x1163bb of['mergeTableCellUp','mergeTableCellDown','mergeTableCellLeft','mergeTableCellRight']){const _0x554fac=_0x4e1d3e['commands']['get'](_0x1163bb);_0x554fac['on']('set:isEnabled',(_0xf327df,_0x551fb9,_0x13e809)=>{if(_0x13e809){const _0x5296ce=_0x4e1d3e['model']['document']['selection']['getFirstPosition']()['getAncestors']()['find'](_0x2b4212=>_0x2b4212['is']('element','tableCell'));this['_areMergableCells'](_0x554fac['value'],_0x5296ce)||(_0xf327df['return']=!0x1,_0xf327df['stop']());}},{'priority':'low'});}}['_areSelectedCellsMergable'](){const _0x58b669=this['editor']['commands']['get']('mergeTableCells'),_0x2fb5e9=this['editor']['plugins']['get']('TableUtils');if(!_0x58b669['isEnabled'])return!0x1;const _0x58a6df=_0x2fb5e9['getSelectionAffectedTableCells'](this['editor']['model']['document']['selection']);for(const _0x2b8f27 of _0x58a6df)for(const _0x4ee90d of _0x58a6df)if(_0x2b8f27!=_0x4ee90d&&!this['_areMergableCells'](_0x2b8f27,_0x4ee90d))return!0x1;return!0x0;}['_areMergableCells'](_0x4b32b4,_0x2d7285){const _0x5d3b89=this['editor']['plugins']['get']('TrackChangesEditing'),_0x8807c7=this['editor']['model']['createRangeOn'](_0x4b32b4),_0x3838a4=this['editor']['model']['createRangeOn'](_0x2d7285),_0x3d1b71=new Set(),_0x14956d=new Set();for(const _0x19cde7 of _0x5d3b89['getSuggestions']())if(('insertion'==_0x19cde7['type']||'deletion'==_0x19cde7['type']||'mergeTableCells'==_0x19cde7['subType'])&&_0x19cde7['isInContent']){for(const _0x1b166b of _0x19cde7['getRanges']())_0x1b166b['containsRange'](_0x8807c7,!0x0)&&_0x3d1b71['add'](_0x19cde7['type']+':'+_0x19cde7['author']['id']),_0x1b166b['containsRange'](_0x3838a4,!0x0)&&_0x14956d['add'](_0x19cde7['type']+':'+_0x19cde7['author']['id']);}if(_0x3d1b71['size']!=_0x14956d['size'])return!0x1;for(const _0x1e4477 of _0x3d1b71)if(!_0x14956d['has'](_0x1e4477))return!0x1;return!0x0;}}class Ct extends _0x5b49f3{static get['requires'](){return[It];}['afterInit'](){const _0x46a5da=this['editor'];if(!_0x46a5da['plugins']['has']('TableEditing'))return;const _0x5bec39=_0x46a5da['locale'],_0x4b1db6=_0x46a5da['plugins']['get']('TrackChangesEditing');_0x4b1db6['enableDefaultAttributesIntegration']('setTableRowHeader'),_0x4b1db6['enableDefaultAttributesIntegration']('setTableColumnHeader'),_0x4b1db6['registerBlockAttribute']('headingRows'),_0x4b1db6['registerBlockAttribute']('headingColumns'),_0x4b1db6['descriptionFactory']['registerAttributeLabel']('headingRows',o(_0x5bec39,'FORMAT_HEADER_ROW')),_0x4b1db6['descriptionFactory']['registerAttributeLabel']('headingColumns',o(_0x5bec39,'FORMAT_HEADER_COLUMN')),this['_handleLegacySuggestions']();}['_handleLegacySuggestions'](){const _0x10c04d=this['editor']['plugins']['get']('TrackChangesEditing'),_0x4aa32a=this['editor']['plugins']['get']('TableUtils'),_0x54c291=this['editor']['plugins']['get'](It)['_acceptFormatSuggestionCallbackFactory']();function _0x288788({showActiveMarker:_0x4f012f=!0x0,setDataAttribute:_0x236103=!0x0}={}){return(_0x3779d5,_0x9a968b,_0x23df0f)=>{const {type:_0x25eaca,id:_0x2d1bd4}=_0x10c04d['_splitMarkerName'](_0x9a968b['markerName']),_0x31f2f3=_0x10c04d['getSuggestion'](_0x2d1bd4),_0x297a99=_0x31f2f3['data'];if('formatBlock'!=_0x31f2f3['type']||!_0x297a99||'setTableColumnHeader'!=_0x297a99['commandName'])return;if(_0x9a968b['item'])return void _0x3779d5['stop']();if(!_0x23df0f['consumable']['consume'](_0x9a968b['markerRange'],_0x3779d5['name']))return;const _0x16f52b=_0x9a968b['markerRange']['start']['nodeAfter'],_0x46540d=_0x9a968b['markerRange']['end']['nodeBefore'],_0x411b64=_0x16f52b['parent']['parent'],{column:_0x2e12da}=_0x4aa32a['getCellLocation'](_0x16f52b),{column:_0x935c88}=_0x4aa32a['getCellLocation'](_0x46540d);for(let _0x1deda7=_0x2e12da;_0x1deda7<=_0x935c88;_0x1deda7++){const _0x594741=_0x4aa32a['createTableWalker'](_0x411b64,{'column':_0x1deda7,'includeAllSlots':!0x1});for(const _0x6dbd62 of _0x594741){const _0x3fedd1=_0x6dbd62['cell'],_0x2fe95b=_0x23df0f['mapper']['toViewElement'](_0x3fedd1);_0x23df0f['writer']['addClass']('ck-suggestion-marker-'+_0x25eaca,_0x2fe95b),_0x236103&&_0x23df0f['writer']['setAttribute']('data-suggestion',_0x2d1bd4,_0x2fe95b),_0x23df0f['mapper']['bindElementToMarker'](_0x2fe95b,_0x9a968b['markerName']),_0x4f012f&&(_0x10c04d['activeMarkers']['includes'](_0x9a968b['markerName'])?_0x23df0f['writer']['addClass']('ck-suggestion-marker--active',_0x2fe95b):_0x23df0f['writer']['removeClass']('ck-suggestion-marker--active',_0x2fe95b));}}};}_0x10c04d['_suggestionFactory']['registerCustomCallback']('formatBlock','setTableRowHeader','accept',_0x54c291),_0x10c04d['_suggestionFactory']['registerCustomCallback']('formatBlock','setTableColumnHeader','accept',_0x54c291),this['editor']['editing']['downcastDispatcher']['on']('addMarker:suggestion',_0x288788(),{'priority':'highest'}),this['editor']['data']['downcastDispatcher']['on']('addMarker:suggestion',(_0x13eb7b,_0x1ce7fc,_0x1e0071)=>{_0x1e0071['options']['showSuggestionHighlights']&&_0x288788({'showActiveMarker':!0x1,'setDataAttribute':!0x1})(_0x13eb7b,_0x1ce7fc,_0x1e0071);},{'priority':'highest'}),this['editor']['editing']['downcastDispatcher']['on']('removeMarker:suggestion',(_0x5075c3,_0x503d16,_0x372f98)=>{const {type:_0x2ec012,id:_0x495a39}=_0x10c04d['_splitMarkerName'](_0x503d16['markerName']),_0x382241=_0x10c04d['getSuggestion'](_0x495a39),_0x569f4f=_0x382241['data'];if('formatBlock'!=_0x382241['type']||!_0x569f4f||'setTableColumnHeader'!=_0x569f4f['commandName'])return;const _0x488b42=_0x372f98['mapper']['markerNameToElements'](_0x503d16['markerName']);if(_0x488b42){for(const _0x5162c9 of _0x488b42)_0x372f98['writer']['removeClass']('ck-suggestion-marker-'+_0x2ec012,_0x5162c9),_0x372f98['writer']['removeClass']('ck-suggestion-marker--active',_0x5162c9),_0x372f98['writer']['removeAttribute']('data-suggestion',_0x5162c9),_0x372f98['mapper']['unbindElementFromMarkerName'](_0x5162c9,_0x503d16['markerName']);}},{'priority':'highest'}),this['_registerLegacyDescription']();}['_registerLegacyDescription'](){const _0x4d529b=this['editor'],_0x7c8cbd=_0x4d529b['locale'];function _0x33ff32(_0x318170){return{'type':'format','content':o(_0x7c8cbd,'*Format:*\x20%0',_0x318170)};}_0x4d529b['plugins']['get']('TrackChangesEditing')['descriptionFactory']['registerDescriptionCallback'](_0x9c3d2b=>{if('formatBlock'!=_0x9c3d2b['type'])return;const {data:_0x51af8e}=_0x9c3d2b;if(_0x51af8e){if('setTableRowHeader'==_0x51af8e['commandName']){const _0x2bde4a=_0x51af8e['commandParams'][0x0]['forceValue'];return _0x33ff32(o(_0x7c8cbd,_0x2bde4a?'FORMAT_HEADER_ROW':'FORMAT_REGULAR_ROW'));}if('setTableColumnHeader'==_0x51af8e['commandName']){const _0x385cb1=_0x51af8e['commandParams'][0x0]['forceValue'];return _0x33ff32(o(_0x7c8cbd,_0x385cb1?'FORMAT_HEADER_COLUMN':'FORMAT_REGULAR_COLUMN'));}}});}}const Pe=['tableCellBorderWidth','tableCellBorderColor','tableCellBorderStyle','tableCellHorizontalAlignment','tableCellVerticalAlignment','tableCellBackgroundColor','tableCellPadding'],we=Object['fromEntries'](Pe['map'](_0x5ed733=>[_0x5ed733,null]));class _t extends _0x5b49f3{static get['requires'](){return[It];}['afterInit'](){const _0x201cfb=this['editor'];if(!_0x201cfb['plugins']['has']('TableClipboard'))return;const _0x2370c0=_0x201cfb['plugins']['get']('TrackChangesEditing'),_0x2a6f7c=_0x201cfb['plugins']['get']('TableUtils'),_0x3a8942=_0x201cfb['plugins']['get'](It),_0x56f45e=_0x201cfb['plugins']['get']('TableClipboard');_0x3a8942['_tablePostFixingSubtypes']['push']('tablePasteRow','tablePasteColumn'),_0x201cfb['model']['schema']['register']('tableCellSuggestion',{'allowIn':'tableCell','allowContentOf':'tableCell','isLimit':!0x0}),_0x201cfb['conversion']['elementToElement']({'model':'tableCellSuggestion','view':'suggestion-td'});let _0x202eb8=null;_0x201cfb['model']['on']('insertContent',(_0x5a409a,_0x170408)=>{const [_0x3b5078,_0x467b80]=_0x170408,_0xfba457=_0x170408[_0x170408['length']-0x1];_0xfba457&&_0xfba457['forceDefaultExecution']||_0x2370c0['_isForcedDefaultExecutionBlock']||this['editor']['commands']['get']('trackChanges')['value']&&function(_0x55d27c,_0x20f997,_0x2f16f5,_0x50bd47,_0x3e5b1a){if(_0x20f997&&!_0x20f997['is']('documentSelection'))return!0x1;const _0x50b39f=_0x3e5b1a['getTableIfOnlyTableInContent'](_0x55d27c,_0x2f16f5);if(!_0x50b39f||!Re(_0x50b39f,void 0x0,_0x50bd47))return!0x1;const _0x3f125c=_0x50bd47['getSelectionAffectedTableCells'](_0x2f16f5['document']['selection']);if(!_0x3f125c['length'])return!0x1;const _0x316716=_0x3f125c[0x0]['findAncestor']('table'),_0xbcc98a=_0x50bd47['getRowIndexes'](_0x3f125c),_0x250a3b=_0x50bd47['getColumnIndexes'](_0x3f125c),_0x4bd9f3={'startRow':_0xbcc98a['first'],'endRow':_0xbcc98a['last'],'startColumn':_0x250a3b['first'],'endColumn':_0x250a3b['last']};return 0x1==_0x3f125c['length']&&(_0x4bd9f3['endRow']+=_0x50bd47['getRows'](_0x50b39f)-0x1,_0x4bd9f3['endColumn']+=_0x50bd47['getColumns'](_0x50b39f)-0x1),Re(_0x316716,_0x4bd9f3,_0x50bd47);}(_0x3b5078,_0x467b80,_0x201cfb['model'],_0x2a6f7c,_0x56f45e)&&(_0x5a409a['stop'](),_0x202eb8={'cells':[],'insertionRanges':[],'deletionRanges':[],'rowInsertionRanges':[],'rowInsertionIndexes':[],'columnInsertionRanges':[],'columnInsertionIndexes':[]},_0x201cfb['model']['change'](()=>{_0x201cfb['model']['insertContent'](_0x170408[0x0],_0x170408[0x1],_0x170408[0x2],{'forceDefaultExecution':!0x0});const _0xd431b=_0x3ed9b7(),{rowInsertionRanges:_0x14a831,columnInsertionRanges:_0x1d71e7,insertionRanges:_0x208479,deletionRanges:_0x5dd383,cells:_0x304b32}=_0x202eb8;_0x14a831['length']&&_0x2370c0['markMultiRangeInsertion'](_0x14a831,'tablePasteRow',{'tablePasteChainId':_0xd431b}),_0x1d71e7['length']&&_0x2370c0['markMultiRangeInsertion'](_0x1d71e7,'tablePasteColumn',{'tablePasteChainId':_0xd431b}),_0x208479['length']&&(_0x2370c0['markMultiRangeInsertion'](_0x208479,'tablePaste',{'tablePasteChainId':_0xd431b,'skipNestingCheck':!0x0}),_0x208479['forEach'](_0x339fa6=>_0x339fa6['detach']?.())),_0x5dd383['length']&&(_0x2370c0['markMultiRangeDeletion'](_0x5dd383,'tablePaste',{'tablePasteChainId':_0xd431b,'skipNestingCheck':!0x0}),_0x5dd383['forEach'](_0xa669d9=>_0xa669d9['detach']?.()));const _0x2ad448=_0x2370c0['markMultiRangeBlockFormat'](_0x304b32['map'](({element:_0x223224})=>_0x223224),{'formatGroupId':_0x3ed9b7()},[],'tablePasteCell',{'tablePasteChainId':_0xd431b});if(_0x2ad448){const _0x1a0989=_0x2ad448['getMarkers'](),_0x310e30=[];for(const {element:_0x222a0b,attributes:_0x324e00}of _0x304b32){if(!_0x324e00)continue;const _0x3cb6c9=_0x201cfb['model']['createRangeOn'](_0x222a0b),_0x4aa832=_0x1a0989['find'](_0x469fde=>_0x469fde['getRange']()['isEqual'](_0x3cb6c9));_0x4aa832&&_0x310e30['push']([_0x4aa832['name'],_0x324e00]);}_0x310e30['length']&&_0x2ad448['setAttribute']('markerAttributes',Object['fromEntries'](_0x310e30));}_0x202eb8=null;}));},{'priority':_0x442074['high']+0xa}),_0x201cfb['plugins']['get']('TableClipboard')['on']('_replaceTableSlotCell',(_0xe3301c,_0x439f28)=>{const [_0x3b7555,_0x2a5934,,_0x160fda]=_0x439f28;if(!_0x202eb8)return;_0xe3301c['stop']();const _0x422ba1=_0x3b7555['cell'],_0x24e707=_0x2a5934,_0x16238b=ke(_0x422ba1),_0x33ebb1=ke(_0x24e707);_0xe3301c['return']=_0x422ba1;let _0x113fa9=null,_0x1fbde1=null;if(_0x33ebb1||_0x16238b){if(_0x16238b&&!_0x33ebb1){_0x160fda['remove'](_0x422ba1['getChild'](0x0));for(const _0x5af16b of Array['from'](_0x24e707['getChildren']()))_0x160fda['insert'](_0x5af16b,_0x422ba1,'end');const _0x3c2416=_0x202eb8['rowInsertionIndexes']['includes'](_0x3b7555['row']),_0x5adf30=_0x202eb8['columnInsertionIndexes']['includes'](_0x3b7555['column']);_0x3c2416||_0x5adf30||(_0x113fa9=_0x1b93ff['fromRange'](_0x160fda['createRangeIn'](_0x422ba1)));}else _0x33ebb1&&!_0x16238b&&(_0x1fbde1=_0x160fda['createRangeIn'](_0x422ba1));}else{const _0x48f08a=_0x160fda['createElement']('tableCellSuggestion'),_0x41d434=_0x160fda['createElement']('tableCellSuggestion');_0x160fda['wrap'](_0x160fda['createRangeIn'](_0x422ba1),_0x41d434),_0x160fda['insert'](_0x48f08a,_0x422ba1,0x0);for(const _0x1cdfc2 of Array['from'](_0x24e707['getChildren']()))_0x160fda['insert'](_0x1cdfc2,_0x48f08a,'end');_0x113fa9=_0x1b93ff['fromRange'](_0x160fda['createRangeOn'](_0x48f08a)),_0x1fbde1=_0x1b93ff['fromRange'](_0x160fda['createRangeOn'](_0x41d434));}const _0x58f45c=Array['from'](_0x24e707['getAttributes']())['filter'](([_0x1ab266])=>Pe['includes'](_0x1ab266));_0x202eb8['cells']['push']({'element':_0x422ba1,'attributes':_0x58f45c['length']?Object['fromEntries'](_0x58f45c):null}),_0x113fa9&&_0x202eb8['insertionRanges']['push'](_0x113fa9),_0x1fbde1&&_0x202eb8['deletionRanges']['push'](_0x1fbde1);},{'priority':'high'}),_0x2a6f7c['on']('insertColumns',(_0x37efa7,_0xe3754)=>{const [_0x355bee,_0x20d683={}]=_0xe3754;if(!_0x202eb8)return;const _0x45ccad=_0x20d683['at']||0x0,_0x4bbde2=_0x20d683['columns']||0x1;_0x202eb8['columnInsertionIndexes']=new Array(_0x4bbde2)['fill'](_0x45ccad)['map']((_0x24e355,_0x3d4cb2)=>_0x24e355+_0x3d4cb2);for(const {cell:_0x259157}of _0x2a6f7c['createTableWalker'](_0x355bee,{'startColumn':_0x45ccad,'endColumn':_0x45ccad+_0x4bbde2-0x1}))_0x202eb8['columnInsertionRanges']['push'](_0x201cfb['model']['createRangeOn'](_0x259157));},{'priority':'low'}),_0x2a6f7c['on']('insertRows',(_0x586065,_0x5bf38d)=>{const [_0x569ba0,_0x192b7b={}]=_0x5bf38d;if(!_0x202eb8)return;const _0x117127=_0x192b7b['at']||0x0,_0x22fb0a=_0x192b7b['rows']||0x1;_0x202eb8['rowInsertionIndexes']=new Array(_0x22fb0a)['fill'](_0x117127)['map']((_0x5dfab4,_0x1b38ef)=>_0x5dfab4+_0x1b38ef);for(const {cell:_0x21cc45}of _0x2a6f7c['createTableWalker'](_0x569ba0,{'startRow':_0x117127,'endRow':_0x117127+_0x22fb0a-0x1}))_0x202eb8['rowInsertionRanges']['push'](_0x201cfb['model']['createRangeOn'](_0x21cc45));},{'priority':'low'}),_0x2370c0['descriptionFactory']['registerDescriptionCallback'](_0x41d675=>{if(_0x41d675['subType']&&_0x41d675['subType']['startsWith']('tablePaste'))return _0x41d675['previous']?{}:{'type':'insertion','content':o(_0x201cfb['locale'],'*Replace\x20table\x20cells*')};});const _0x4efdca=()=>!0x1;for(const _0x2c08ea of['tablePaste','tablePasteColumn','tablePasteRow','tablePasteCell'])_0x2370c0['_suggestionFactory']['registerCustomCallback']('insertion',_0x2c08ea,'join',_0x4efdca),_0x2370c0['_suggestionFactory']['registerCustomCallback']('deletion',_0x2c08ea,'join',_0x4efdca),_0x2370c0['_suggestionFactory']['registerCustomCallback']('formatBlock',_0x2c08ea,'join',_0x4efdca);_0x2370c0['_suggestionFactory']['registerCustomCallback']('formatBlock','tablePasteCell','discard',_0x4efdca),_0x2370c0['_suggestionFactory']['registerCustomCallback']('formatBlock','tablePasteCell','accept',(_0x283365,_0x2a6a07,_0x3270c5)=>{const _0x1bb75e=_0x283365['map'](_0x44db9e=>_0x44db9e['getContainedElement']())['filter'](_0x25a6c1=>_0x25a6c1),_0x44e543=new Map(_0x1bb75e['map'](_0x1bd04b=>[_0x1bd04b,null]));if(_0x202eb8){for(const {element:_0x59b4b8,attributes:_0xb29144}of _0x202eb8['cells'])_0xb29144&&_0x44e543['set'](_0x59b4b8,_0xb29144);}else{if(_0x3270c5&&_0x3270c5['markerAttributes'])for(const [_0x1ea254,_0x4fca82]of Object['entries'](_0x3270c5['markerAttributes'])){const _0x33e664=_0x201cfb['model']['markers']['get'](_0x1ea254),_0x1c729f=_0x33e664?_0x33e664['getRange']()['getContainedElement']():null;_0x1c729f&&_0x44e543['set'](_0x1c729f,_0x4fca82);}}_0x201cfb['model']['change'](_0x30244f=>{for(const [_0x2d5ffc,_0x4440b8]of _0x44e543)_0x30244f['setAttributes']({...we,..._0x4440b8},_0x2d5ffc);});});const _0x1a67f5=(_0x79d957,_0xa0c1e9)=>{_0x2370c0['_suggestionFactory']['registerCustomCallback'](_0x79d957,'tablePaste',_0xa0c1e9,(_0x37616b,_0x315071,_0x53759d)=>{_0x201cfb['model']['change'](_0x1b1bb0=>{const _0x213862=[];for(const _0x14bdd of _0x37616b){const _0x5880ba=_0x14bdd['start']['nodeAfter'];_0x5880ba['is']('element','tableCellSuggestion')&&_0x213862['push'](_0x5880ba);}_0x2370c0['_suggestionFactory']['getSuggestionCallback'](_0x79d957,null,_0xa0c1e9)(_0x37616b,_0x315071,_0x53759d);for(const _0x1442d8 of _0x213862)'$graveyard'!=_0x1442d8['root']['rootName']&&_0x1b1bb0['unwrap'](_0x1442d8);});});};_0x1a67f5('insertion','accept'),_0x1a67f5('insertion','discard'),_0x1a67f5('deletion','accept'),_0x1a67f5('deletion','discard'),_0x2370c0['_suggestionFactory']['registerCustomCallback']('insertion','tablePasteRow','discard',_0x10f715=>{const _0x2e5ae0=_0x10f715['map'](_0x551a9d=>_0x551a9d['getContainedElement']()),_0x564c2a=_0x2e5ae0[0x0]['findAncestor']('table'),{minRow:_0x405968,maxRow:_0x408e6a}=_0x3a8942['_getCoordsForCells'](_0x2e5ae0);_0x2a6f7c['removeRows'](_0x564c2a,{'at':_0x405968,'rows':_0x408e6a-_0x405968+0x1});}),_0x2370c0['_suggestionFactory']['registerCustomCallback']('insertion','tablePasteColumn','discard',_0x3327ab=>{const _0x14629c=_0x3327ab['map'](_0x214587=>_0x214587['getContainedElement']()),_0x579155=_0x14629c[0x0]['findAncestor']('table'),{minColumn:_0x3dde04,maxColumn:_0x283220}=_0x3a8942['_getCoordsForCells'](_0x14629c);_0x2a6f7c['removeColumns'](_0x579155,{'at':_0x3dde04,'columns':_0x283220-_0x3dde04+0x1});});const _0x49d10d=(_0x552701,_0x23f9bb)=>{if(!_0x23f9bb['subType']||!_0x23f9bb['subType']['startsWith']('tablePaste'))return;const _0xbee838=_0x23f9bb['attributes']['tablePasteChainId'],_0xc6ac22=_0x2370c0['getSuggestions']()['filter'](_0x44c018=>_0x44c018['isInContent']&&_0x44c018['attributes']&&_0x44c018['attributes']['tablePasteChainId']==_0xbee838);_0xc6ac22['length']&&_0x23f9bb['getAllAdjacentSuggestions']()['length']!=_0xc6ac22['length']&&_0xc6ac22['reduce']((_0x161ff5,_0xc5d70c)=>(_0x161ff5['next']=_0xc5d70c,_0xc5d70c['previous']=_0x161ff5,_0xc5d70c));};function _0xa23665(_0x5e9be4,_0xe91a9f=!0x0){const {id:_0x6f562a,authorId:_0x5217d6}=_0x2370c0['_splitMarkerName'](_0x5e9be4['markerName']),_0x2bda8b=['ck-suggestion-marker','ck-suggestion-marker-insertion'],_0x1065fb=_0x2370c0['activeMarkers']['includes'](_0x5e9be4['markerName']);return _0x1065fb&&_0x2bda8b['push']('ck-suggestion-marker--active'),{'classes':_0x2bda8b,'attributes':{'data-suggestion':_0x6f562a,'data-author-id':_0x5217d6},'priority':_0x1065fb&&_0xe91a9f?0xbc2:0xbb8};}_0x2370c0['on']('suggestionLoaded',_0x49d10d,{'priority':'high'}),_0x2370c0['on']('suggestionUnloaded',_0x49d10d,{'priority':'high'}),_0x201cfb['model']['document']['registerPostFixer'](()=>{let _0x190ea3=!0x1;const _0x2a4409=Array['from'](_0x201cfb['model']['document']['differ']['getChangedMarkers']());for(const {name:_0x3ca051,data:_0x490d4a}of _0x2a4409){const {group:_0x5e3e86,type:_0x2ce573,id:_0xf2316}=_0x2370c0['_splitMarkerName'](_0x3ca051);if('suggestion'!=_0x5e3e86||'deletion'!=_0x2ce573||_0x490d4a['oldRange'])continue;if(!_0x2370c0['hasSuggestion'](_0xf2316))continue;const _0x5a9f0b=_0x2370c0['getSuggestion'](_0xf2316)['getRanges'](),_0x18d3a2=_0x201cfb['plugins']['get']('Users')['me'];for(const _0x324050 of _0x2370c0['getSuggestions']()){if(!_0x324050['isInContent']||_0x324050['author']!=_0x18d3a2)continue;if('formatBlock'!=_0x324050['type']||'tablePasteCell'!=_0x324050['subType'])continue;if(_0x324050['getRanges']()['every'](_0x55802f=>_0x5a9f0b['some'](_0x481455=>_0x481455['containsRange'](_0x55802f,!0x0)))){for(const _0x40c2d2 of _0x324050['getAllAdjacentSuggestions']())_0x40c2d2['isInContent']&&(_0x40c2d2['discard'](),_0x190ea3=!0x0);}}}return _0x190ea3;}),_0x201cfb['model']['document']['registerPostFixer'](_0xa6fd95=>{const _0x30b146=_0x201cfb['commands']['get']('redo');if(!_0x30b146||!_0x30b146['_createdBatches']['has'](_0xa6fd95['batch']))return!0x1;let _0x12c191=!0x1;const _0x57cad2=_0x201cfb['plugins']['get']('Users')['me'],_0x158a9b=_0x201cfb['model']['document']['differ']['getChanges'](),_0x400901=Array['from'](_0x201cfb['model']['document']['differ']['getChangedMarkers']())['filter'](({name:_0x409992,data:_0x48908f})=>{const {group:_0x3603f6,subType:_0x477a6d,authorId:_0x3a43ea}=_0x2370c0['_splitMarkerName'](_0x409992);return'suggestion'==_0x3603f6&&'tablePaste'==_0x477a6d&&_0x3a43ea==_0x57cad2['id']&&!_0x48908f['oldRange'];});for(const _0x297030 of _0x158a9b){if('insert'!=_0x297030['type']||'tableCellSuggestion'!=_0x297030['name']||0x1!=_0x297030['length'])continue;const _0x142d79=_0xa6fd95['createRange'](_0x297030['position'],_0x297030['position']['getShiftedBy'](0x1));if(!_0x400901['find'](({data:_0x2e0603})=>_0x2e0603['newRange']['isEqual'](_0x142d79))){for(const {name:_0x323bd0,data:_0x24d3be}of _0x400901)if(_0x142d79['containsRange'](_0x24d3be['newRange'])){_0xa6fd95['updateMarker'](_0x323bd0,{'range':_0x142d79}),_0x12c191=!0x0;break;}}}return _0x12c191;}),_0x201cfb['model']['document']['registerPostFixer'](_0xfc3299=>{let _0x57fa85=!0x1;const _0x543add=_0x201cfb['plugins']['get']('Users')['me'],_0x11a32a=_0x2370c0['getSuggestions']()['filter'](_0x3220f5=>_0x3220f5['isInContent']&&_0x3220f5['author']==_0x543add),_0x3d806d=new Set(),_0x302608=new Set();for(const _0x39616c of _0x11a32a)if('tablePaste'==_0x39616c['subType'])for(const _0x33a12f of _0x39616c['getMarkers']()){const _0x5a804f=_0x33a12f['getRange']()['getContainedElement']();if(_0x5a804f){if(_0x5a804f['is']('element','tableCellSuggestion')&&ke(_0x5a804f)){_0x39616c['removeMarker'](_0x33a12f['name']),_0x3d806d['add'](_0x5a804f),_0x57fa85=!0x0;const _0x2d1455=_0x5a804f['nextSibling'],_0x3cf9d6=_0x5a804f['previousSibling'],_0x3c806a=_0x2d1455&&_0x2d1455['is']('element','tableCellSuggestion'),_0x4166ae=_0x3cf9d6&&_0x3cf9d6['is']('element','tableCellSuggestion');_0x3c806a&&!_0x3d806d['has'](_0x2d1455)&&_0x302608['add'](_0x2d1455),_0x4166ae&&!_0x3d806d['has'](_0x3cf9d6)&&_0x302608['add'](_0x3cf9d6);}else _0x5a804f['is']('element','paragraph')&&_0x5a804f['isEmpty']&&(_0x39616c['removeMarker'](_0x33a12f['name']),_0x57fa85=!0x0);}}else{if('tablePasteCell'==_0x39616c['subType']){if(!_0x39616c['attributes']||!_0x39616c['attributes']['tablePasteChainId'])continue;const _0x521e8a=_0x39616c['attributes']['markerAttributes'];if(_0x521e8a&&Object['keys'](_0x521e8a)['length'])continue;const _0xfc5390=_0x39616c['attributes']['tablePasteChainId'];let _0x171140=!0x0,_0x532400=!0x0;for(const _0x42c972 of _0x11a32a)if(_0x42c972['subType']&&_0x42c972['subType']['startsWith']('tablePaste')){if(!_0x42c972['attributes']['tablePasteChainId']){_0x532400=!0x1;break;}if(_0x42c972['id']!=_0x39616c['id']&&_0x42c972['attributes']['tablePasteChainId']==_0xfc5390){_0x171140=!0x1;break;}}_0x532400&&_0x171140&&(_0x39616c['removeMarkers'](),_0x57fa85=!0x0);}}for(const _0x5a7f19 of _0x3d806d)_0xfc3299['remove'](_0x5a7f19);for(const _0x581f58 of _0x302608)_0xfc3299['unwrap'](_0x581f58);return _0x57fa85;}),_0x201cfb['conversion']['for']('editingDowncast')['markerToHighlight']({'model':'suggestion:formatBlock:tablePasteCell','view':_0x162838=>_0xa23665(_0x162838),'converterPriority':'high'}),_0x201cfb['conversion']['for']('dataDowncast')['markerToHighlight']({'model':'suggestion:formatBlock:tablePasteCell','view':(_0x228cce,_0x59d719)=>_0x59d719['options']['showSuggestionHighlights']?_0xa23665(_0x228cce,!0x1):null,'converterPriority':'high'});const _0x173209=_0x201cfb['editing']['view'];this['listenTo'](_0x173209['document'],'clipboardOutput',(_0x3f81d6,_0x5d88b7)=>{const _0x32058b=[];for(const _0x3e0cc6 of _0x173209['createRangeIn'](_0x5d88b7['content'])['getItems']())_0x3e0cc6['is']('element','suggestion-td')&&_0x32058b['push'](_0x3e0cc6);_0x173209['change'](_0x42da7c=>{for(const _0x3e6f5e of _0x32058b)_0x42da7c['move'](_0x42da7c['createRangeIn'](_0x3e6f5e),_0x42da7c['createPositionBefore'](_0x3e6f5e)),_0x42da7c['remove'](_0x3e6f5e);});});}}function ke(_0x58843f){if(_0x58843f['isEmpty'])return!0x0;const _0x41c960=_0x58843f['getChild'](0x0);return _0x41c960['is']('element','paragraph')&&_0x41c960['isEmpty'];}function Re(_0x375c2f,_0x315fc8={},_0x2897e5){for(const {isAnchor:_0x1664e6,cellHeight:_0x44f373,cellWidth:_0x64ba72}of _0x2897e5['createTableWalker'](_0x375c2f,{'includeAllSlots':!0x0,..._0x315fc8}))if(!_0x1664e6||0x1!=_0x44f373||0x1!=_0x64ba72)return!0x1;return!0x0;}class Nt extends _0x5b49f3{['afterInit'](){if(!this['editor']['plugins']['has']('TableColumnResizeEditing'))return;const _0x4be5e8=this['editor']['plugins']['get']('TrackChangesEditing');_0x4be5e8['enableCommand']('resizeTableWidth',this['handleResizeTableWidthCommand']['bind'](this)),_0x4be5e8['_suggestionFactory']['registerCustomCallback']('formatBlock','resizeTable','accept',_0x4be5e8['_suggestionFactory']['getSuggestionCallback']('formatBlock',null,'discard')),_0x4be5e8['_suggestionFactory']['registerCustomCallback']('formatBlock','resizeTable','discard',_0x4be5e8['_suggestionFactory']['getSuggestionCallback']('formatBlock',null,'accept')),_0x4be5e8['descriptionFactory']['registerDescriptionCallback'](this['handleSuggestionDescription']['bind'](this));}['handleResizeTableWidthCommand'](_0x213491,_0x37dbae){const _0x53ac4d=this['editor']['plugins']['get']('TrackChangesEditing'),_0x16e378=this['editor']['plugins']['get']('TableColumnResizeEditing'),_0x187daf=_0x37dbae['table']||this['editor']['model']['document']['selection']['getSelectedElement']();this['editor']['model']['change'](()=>{const _0x592623=_0x16e378['getColumnGroupElement'](_0x187daf);let _0x29d7fc=_0x592623?_0x16e378['getTableColumnsWidths'](_0x592623):null,_0x28e3f=_0x187daf['getAttribute']('tableWidth')||null;const _0x2f1458=_0x37dbae['tableWidth']||_0x28e3f,_0x26cd5c=_0x37dbae['columnWidths']||_0x29d7fc,_0x885c6b=this['editor']['plugins']['get']('Users')['me'];for(const _0x19eb30 of _0x53ac4d['getSuggestions']()){const _0x3ae8b0=_0x19eb30['getContainedElement']();if('resizeTable'===_0x19eb30['subType']&&_0x3ae8b0===_0x187daf){_0x19eb30['author']!==_0x885c6b&&_0x19eb30['discard']();const _0x772338=_0x19eb30['data']['commandParams'];_0x28e3f=_0x772338[0x0]['tableWidth'],_0x29d7fc=_0x772338[0x0]['columnWidths'];break;}}_0x213491({'table':_0x187daf,'tableWidth':_0x2f1458,'columnWidths':_0x26cd5c}),_0x53ac4d['markBlockFormat'](_0x187daf,{'commandName':'resizeTableWidth','commandParams':[{'tableWidth':_0x28e3f,'columnWidths':_0x29d7fc}],'formatGroupId':'resizeTable'},[],'resizeTable');});}['handleSuggestionDescription'](_0x33d86b){if('formatBlock'!=_0x33d86b['type']&&'formatInline'!=_0x33d86b['type'])return;const {data:_0x4af020}=_0x33d86b;if(_0x4af020&&'resizeTable'===_0x4af020['formatGroupId']){const _0x5a6051='*Format:*\x20resize\x20table';return{'type':'format','content':o(this['editor']['locale'],_0x5a6051)};}}}class Dt extends _0x5b49f3{['afterInit'](){const _0x568d88=this['editor'];_0x568d88['plugins']['has']('Template')&&_0x568d88['plugins']['get']('TrackChangesEditing')['enableCommand']('insertTemplate');}}class Mt extends _0x5b49f3{['afterInit'](){const _0x53931a=this['editor'];if(!_0x53931a['commands']['get']('insertTableOfContents'))return;_0x53931a['plugins']['get']('TrackChangesEditing')['enableCommand']('insertTableOfContents');const _0x3b3f11=_0x53931a['plugins']['get']('TrackChangesEditing'),_0xe036db=_0x53931a['locale'];_0x3b3f11['descriptionFactory']['registerElementLabel']('tableOfContents',_0x9da022=>o(_0xe036db,'ELEMENT_TABLE_OF_CONTENTS',_0x9da022));}}class $t extends _0x5b49f3{['afterInit'](){const _0x2df7a1=this['editor'];if(!_0x2df7a1['plugins']['has']('Title'))return;const _0x4d0bb2=_0x2df7a1['plugins']['get']('TrackChangesEditing');_0x4d0bb2['descriptionFactory']['registerElementLabel']('title-content',()=>o(_0x2df7a1['locale'],'ELEMENT_TITLE')),_0x2df7a1['model']['document']['registerPostFixer'](_0x4db771=>{let _0x561b9e=!0x1;const _0x423873=Array['from'](_0x2df7a1['model']['document']['differ']['getChangedMarkers']());for(const {name:_0x21a377,data:_0x1bccac}of _0x423873){const {group:_0x3ab310}=_0x4d0bb2['_splitMarkerName'](_0x21a377);if('suggestion'!==_0x3ab310||!_0x1bccac['newRange'])continue;const _0x49969b=_0x1bccac['newRange'],_0x51e2da=_0x49969b['end']['nodeBefore'];if(!_0x51e2da||!_0x51e2da['is']('element','title-content'))continue;if(!_0x49969b['start']['isTouching'](_0x49969b['end']))continue;const _0x431aed=_0x2df7a1['model']['schema']['getNearestSelectionRange'](_0x49969b['end'],'forward');if(_0x431aed&&_0x431aed['isCollapsed']){const _0x2aedaf=_0x4db771['createRange'](_0x49969b['start'],_0x431aed['start']);_0x2aedaf['isEqual'](_0x49969b)||(_0x4db771['updateMarker'](_0x21a377,{'range':_0x2aedaf}),_0x561b9e=!0x0);}_0x561b9e||(_0x4db771['removeMarker'](_0x21a377),_0x561b9e=!0x0);}return _0x561b9e;});}}class Bt extends _0x5b49f3{['afterInit'](){const _0x4f2f68=this['editor'],_0x473d10=_0x4f2f68['plugins']['get']('TrackChangesEditing');_0x4f2f68['plugins']['has']('UndoEditing')&&(_0x473d10['enableCommand']('undo'),_0x473d10['enableCommand']('redo'));}}class xt extends _0x5b49f3{static get['requires'](){return[It];}['afterInit'](){const _0x39247b=this['editor'];if(!_0x39247b['plugins']['has']('TableCaptionEditing'))return;_0x39247b['plugins']['get']('TrackChangesEditing')['enableCommand']('toggleTableCaption');}}class Ot extends _0x5b49f3{['tableProperties'];['tableCellProperties'];constructor(_0x30d407){super(_0x30d407),this['tableProperties']=['tableBorderColor','tableBorderStyle','tableBorderWidth','tableAlignment','tableWidth','tableHeight','tableBackgroundColor'],this['tableCellProperties']=['tableCellBorderColor','tableCellBorderStyle','tableCellBorderWidth','tableCellPadding','tableCellWidth','tableCellHeight','tableCellBackgroundColor','tableCellHorizontalAlignment','tableCellVerticalAlignment'];}static get['pluginName'](){return'TrackChangesTableProperties';}static get['isOfficialPlugin'](){return!0x0;}static get['isPremiumPlugin'](){return!0x0;}['afterInit'](){const _0x4c9573=this['editor']['plugins']['get']('TrackChangesEditing');if(this['editor']['plugins']['has']('TablePropertiesEditing')){for(const _0x34df5b of this['tableProperties'])_0x4c9573['enableCommand'](_0x34df5b,(_0x49e4e7,_0x42be7b)=>{const _0x12639c=this['editor']['model']['document']['selection']['getFirstPosition']()['findAncestor']('table');this['_handlePropertyChange'](_0x34df5b,[_0x12639c],this['tableProperties'],'tableProperties',_0x49e4e7,_0x42be7b);});_0x4c9573['_suggestionFactory']['registerCustomCallback']('formatBlock','tableProperties','accept',_0x4c9573['_suggestionFactory']['getSuggestionCallback']('formatBlock',null,'discard')),_0x4c9573['_suggestionFactory']['registerCustomCallback']('formatBlock','tableProperties','discard',(_0xaea926,_0x5cf8e6)=>this['handleDiscardAction'](this['tableProperties'],_0xaea926,_0x5cf8e6)),_0x4c9573['_suggestionFactory']['registerCustomCallback']('formatBlock','tableProperties','join',()=>!0x1);}if(this['editor']['plugins']['has']('TableCellPropertiesEditing')){for(const _0x9eb25a of this['tableCellProperties'])_0x4c9573['enableCommand'](_0x9eb25a,(_0x706cfc,_0x3ab1bd)=>{const _0x1a75c9=this['editor']['plugins']['get']('TableUtils')['getSelectionAffectedTableCells'](this['editor']['model']['document']['selection']);this['_handlePropertyChange'](_0x9eb25a,_0x1a75c9,this['tableCellProperties'],'tableCellProperties',_0x706cfc,_0x3ab1bd);});_0x4c9573['_suggestionFactory']['registerCustomCallback']('formatBlock','tableCellProperties','accept',_0x4c9573['_suggestionFactory']['getSuggestionCallback']('formatBlock',null,'discard')),_0x4c9573['_suggestionFactory']['registerCustomCallback']('formatBlock','tableCellProperties','discard',(_0x1759f5,_0x35dea3)=>this['handleDiscardAction'](this['tableCellProperties'],_0x1759f5,_0x35dea3)),_0x4c9573['_suggestionFactory']['registerCustomCallback']('formatBlock','tableCellProperties','join',()=>!0x1);}_0x4c9573['descriptionFactory']['registerDescriptionCallback'](_0x406ad1=>this['handleSuggestionDescription'](_0x406ad1));}['_handlePropertyChange'](_0x53728d,_0x454eeb,_0x34d49b,_0x5bf82c,_0x4451bf,_0x3284c2){const _0x17bff1=this['editor']['plugins']['get']('TrackChangesEditing');this['editor']['model']['enqueueChange'](_0x3284c2['batch'],()=>{for(const _0x332f6c of _0x454eeb){if(this['_getSuggestion'](_0x332f6c,_0x5bf82c))_0x4451bf(_0x3284c2);else{const _0x2b0d04={};for(const _0xa6efbf of _0x34d49b){const _0x190ad9=_0x332f6c['getAttribute'](_0xa6efbf);void 0x0!==_0x190ad9&&(_0x2b0d04[_0xa6efbf]=_0x190ad9);}_0x4451bf(_0x3284c2),_0x17bff1['markBlockFormat'](_0x332f6c,{'commandParams':[_0x2b0d04]},[],_0x5bf82c);}}});}['handleDiscardAction'](_0x4e61ad,_0x576b59,_0x3fb9dd){const _0x5c7c26=_0x576b59[0x0]['start']['nodeAfter'],_0x362a4c=_0x3fb9dd['commandParams'][0x0];this['editor']['model']['change'](_0x3527fb=>{for(const _0x2a75d1 of _0x4e61ad)void 0x0!==_0x362a4c[_0x2a75d1]?_0x3527fb['setAttribute'](_0x2a75d1,_0x362a4c[_0x2a75d1],_0x5c7c26):_0x3527fb['removeAttribute'](_0x2a75d1,_0x5c7c26);});}['handleSuggestionDescription'](_0x30f9f9){if(_0x30f9f9['data'])switch(_0x30f9f9['subType']){case'tableProperties':return{'type':'format','content':o(this['editor']['locale'],'*Format:*\x20change\x20table\x20properties')};case'tableCellProperties':return{'type':'format','content':o(this['editor']['locale'],'*Format:*\x20change\x20table\x20cell\x20properties')};}}['_getSuggestion'](_0x3af84d,_0x4f8f97){const _0x1bad1e=this['editor']['plugins']['get']('TrackChangesEditing');for(const _0x49e9be of _0x1bad1e['getSuggestions']({'skipNotAttached':!0x0})){const _0x30bca0=_0x49e9be['getContainedElement']();if(_0x49e9be['subType']===_0x4f8f97&&_0x30bca0===_0x3af84d)return _0x49e9be;}return null;}}const m='$elementName';class p extends _0x5b49f3{['descriptionFactory'];['trackChangesCommand'];['_adapter'];['_suggestionFactory'];['_suggestions'];['_commentsRepository'];['_enabledCommands'];['_model'];['_suggestionState'];['_isForcedDefaultExecutionBlock'];['_trackFormatChanges'];['_mergeNestedSuggestions'];['_blockAttributeKeys'];['_inlineAttributeKeys'];['_recordAttributeSuggestions']=!0x1;static get['requires'](){return['CommentsRepository',_0x4110b0,_0x129b02,V,U,G,F,H,L,J,q,z,Q,X,Y,Z,tt,et,it,st,nt,rt,ot,at,ct,ut,ft,W,pt,ht,K,pe,lt,mt,dt,kt,bt,wt,yt,jt,St,At,It,vt,Ct,xt,_t,Nt,Mt,Ot,Dt,$t,Bt];}static get['pluginName'](){return'TrackChangesEditing';}static get['isOfficialPlugin'](){return!0x0;}static get['isPremiumPlugin'](){return!0x0;}constructor(_0x4286fd){function _0x5b6cf9(_0x31fe6f){return _0x31fe6f['map'](_0x49ad43=>String['fromCharCode'](_0x49ad43))['join']('');}super(_0x4286fd),this['set']('activeMarkers',[]),this['on']('change:activeMarkers',(_0x4ac631,_0x31da01,_0x5f41a8,_0x45e9fc)=>{this['_model']['change'](()=>{for(const _0x5b3935 of[..._0x45e9fc,..._0x5f41a8])this['_model']['markers']['has'](_0x5b3935)&&_0x4286fd['editing']['reconvertMarker'](_0x5b3935);});}),this['descriptionFactory']=new f(this['editor']['model']['schema'],this['editor']['locale']),this['_adapter']=null,this['_suggestionFactory']=new Tt(this['editor']),this['_suggestions']=new Map(),this['_commentsRepository']=_0x4286fd['plugins']['get']('CommentsRepository'),this['_enabledCommands']=new Set(),this['_model']=this['editor']['model'],this['_suggestionState']=new WeakMap(),this['_isForcedDefaultExecutionBlock']=!0x1,this['_blockAttributeKeys']=new Set([m]),this['_inlineAttributeKeys']=new Set(),_0x4286fd['config']['define']('trackChanges.trackFormatChanges','default'),this['_trackFormatChanges']=_0x4286fd['config']['get']('trackChanges.trackFormatChanges'),_0x4286fd['config']['define']('trackChanges.mergeNestedSuggestions',!0x0),this['_mergeNestedSuggestions']=_0x4286fd['config']['get']('trackChanges.mergeNestedSuggestions'),this['trackChangesCommand']=new B(_0x4286fd,this['_enabledCommands']),this['_initAriaMarkerChangeAnnouncements'](),this[_0x5b6cf9([0x5f,0x65,0x78,0x65,0x63,0x75,0x74,0x65,0x53,0x75,0x67,0x67,0x65,0x73,0x74,0x69,0x6f,0x6e])]=_0x5b6cf9([0x34,0x30,0x34,0x38,0x32,0x30,0x35,0x38]);}['init'](){const _0x25bcff=this['editor'],_0x3d5c2d=(_0x2259a5,_0x88e2e1)=>{if('attribute'!=_0x2259a5)return'ck-suggestion-marker-'+_0x2259a5;const _0x59d58c=_0x88e2e1['split']('|')[0x0];return this['_isBlockAttribute'](_0x59d58c)?'ck-suggestion-marker-formatBlock':'ck-suggestion-marker-formatInline';};_0x25bcff['conversion']['for']('editingDowncast')['markerToHighlight']({'model':'suggestion','view':_0x248449=>{const {id:_0x1e03e5,authorId:_0x25297b,type:_0x3eadee,subType:_0x59db65}=this['_splitMarkerName'](_0x248449['markerName']),_0xa554a7=['ck-suggestion-marker',_0x3d5c2d(_0x3eadee,_0x59db65)];let _0x1b529d=0xbb8;return this['activeMarkers']['includes'](_0x248449['markerName'])&&(_0xa554a7['push']('ck-suggestion-marker--active'),_0x1b529d=0xbc2),'deletion'==_0x3eadee&&(_0x1b529d+=0x5),{'classes':_0xa554a7,'attributes':{'data-suggestion':_0x1e03e5,'data-author-id':_0x25297b},'priority':_0x1b529d};}}),_0x25bcff['conversion']['for']('dataDowncast')['add'](_0x556c6e=>{_0x556c6e['on']('addMarker:suggestion',(_0x5b2125,_0x218863,_0x44106a)=>{if(!_0x44106a['options']['showSuggestionHighlights'])return;const _0x2375e8=_0x218863['item'];if(!_0x2375e8)return;const _0x542cd0=_0x44106a['mapper']['toViewElement'](_0x2375e8);_0x25bcff['model']['schema']['isObject'](_0x2375e8)&&_0x542cd0&&!_0x542cd0['getCustomProperty']('widget')&&_0x542cd0['is']('containerElement')&&_0x218768(_0x542cd0,_0x44106a['writer']);},{'priority':'high'});}),_0x25bcff['conversion']['for']('dataDowncast')['markerToHighlight']({'model':'suggestion','view':(_0x3de346,_0x35ca3a)=>{if(!_0x35ca3a['options']['showSuggestionHighlights'])return null;const {type:_0xc698e4,subType:_0xd68b0b}=this['_splitMarkerName'](_0x3de346['markerName']);return{'classes':['ck-suggestion-marker',_0x3d5c2d(_0xc698e4,_0xd68b0b)],'priority':0xbb8};}});const _0x298abd=({showActiveMarkers:_0x58a8a4=!0x0,isAttributeSuggestion:_0x570403=!0x1}={})=>(_0x25d0ae,_0x1efdd4,_0x5b8457)=>{if(!_0x1efdd4['item'])return;const {id:_0x32e446,authorId:_0x1d7d73}=this['_splitMarkerName'](_0x1efdd4['markerName']);if(_0x570403){const _0x35dd97=this['_suggestions']['get'](_0x32e446),_0x4eaaa1=this['_getAttributeKey'](_0x35dd97);if(!this['_isBlockAttribute'](_0x4eaaa1))return;}if(_0x1efdd4['item']['is']('selection'))return void _0x5b8457['consumable']['consume'](_0x1efdd4['item'],_0x25d0ae['name']);const _0x2bc7e3=_0x5b8457['mapper']['toViewElement'](_0x1efdd4['item']);if(_0x1efdd4['item']['is']('element')&&_0x25bcff['model']['schema']['isBlock'](_0x1efdd4['item'])&&!_0x2bc7e3['getCustomProperty']('addHighlight')){_0x5b8457['writer']['addClass'](['ck-suggestion-marker','ck-suggestion-marker-formatBlock'],_0x2bc7e3),_0x5b8457['writer']['setAttribute']('data-suggestion',_0x32e446,_0x2bc7e3),_0x5b8457['writer']['setAttribute']('data-author-id',_0x1d7d73,_0x2bc7e3),_0x5b8457['mapper']['bindElementToMarker'](_0x2bc7e3,_0x1efdd4['markerName']),_0x58a8a4&&(this['activeMarkers']['includes'](_0x1efdd4['markerName'])?_0x5b8457['writer']['addClass']('ck-suggestion-marker--active',_0x2bc7e3):_0x5b8457['writer']['removeClass']('ck-suggestion-marker--active',_0x2bc7e3));for(const _0x5e5715 of _0x25bcff['model']['createRangeIn'](_0x1efdd4['item'])['getItems']())_0x5b8457['consumable']['consume'](_0x5e5715,_0x25d0ae['name']);_0x5b8457['consumable']['consume'](_0x1efdd4['item'],_0x25d0ae['name']);}};_0x25bcff['conversion']['for']('dataDowncast')['add'](_0x3923b5=>{_0x3923b5['on']('addMarker:suggestion:formatBlock',(_0x3403ea,_0x322810,_0x287639)=>{_0x287639['options']['showSuggestionHighlights']&&_0x298abd({'showActiveMarkers':!0x1})(_0x3403ea,_0x322810,_0x287639);},{'priority':'highest'});}),_0x25bcff['conversion']['for']('dataDowncast')['add'](_0x59927b=>{_0x59927b['on']('addMarker:suggestion:attribute',(_0x2f864e,_0x51231f,_0x5ba1da)=>{_0x5ba1da['options']['showSuggestionHighlights']&&_0x298abd({'showActiveMarkers':!0x1,'isAttributeSuggestion':!0x0})(_0x2f864e,_0x51231f,_0x5ba1da);},{'priority':'highest'});}),_0x25bcff['conversion']['for']('dataDowncast')['markerToData']({'model':'suggestion','view':(_0x36aa4a,_0x2e8ac3)=>_0x2e8ac3['options']['showSuggestionHighlights']?null:{'group':'suggestion','name':_0x36aa4a['substr'](0xb)}}),_0x25bcff['conversion']['for']('upcast')['elementToElement']({'view':{'name':'suggestion','attributes':{'id':/^\w/,'suggestion-type':/^\w/}},'model':(_0x30349e,{writer:_0x362be1})=>{let _0x4a3a65='suggestion:'+_0x30349e['getAttribute']('suggestion-type')+':'+_0x30349e['getAttribute']('id');return _0x30349e['getAttribute']('marker-count')&&(_0x4a3a65+=':'+_0x30349e['getAttribute']('marker-count')),_0x362be1['createElement']('$marker',{'data-name':_0x4a3a65});}}),_0x25bcff['conversion']['for']('upcast')['dataToMarker']({'view':'suggestion'}),_0x25bcff['conversion']['for']('editingDowncast')['add'](_0x4d74ba=>{_0x4d74ba['on']('addMarker:suggestion:formatBlock',_0x298abd(),{'priority':'high'});}),_0x25bcff['conversion']['for']('editingDowncast')['add'](_0x558a00=>{_0x558a00['on']('addMarker:suggestion:attribute',_0x298abd({'isAttributeSuggestion':!0x0}),{'priority':'high'});}),_0x25bcff['conversion']['for']('editingDowncast')['add'](_0x43dd8e=>{_0x43dd8e['on']('removeMarker:suggestion:formatBlock',(_0x163229,_0x158fba,_0x1acb2d)=>{const _0xd4e52f=_0x1acb2d['mapper']['markerNameToElements'](_0x158fba['markerName']);if(_0xd4e52f){for(const _0x558628 of _0xd4e52f)_0x558628['getCustomProperty']('addHighlight')||(_0x1acb2d['writer']['removeClass'](['ck-suggestion-marker','ck-suggestion-marker-formatBlock','ck-suggestion-marker--active'],_0x558628),_0x1acb2d['writer']['removeAttribute']('data-suggestion',_0x558628),_0x1acb2d['writer']['removeAttribute']('data-author-id',_0x558628),_0x1acb2d['mapper']['unbindElementFromMarkerName'](_0x558628,_0x158fba['markerName']));}},{'priority':'high'});}),_0x25bcff['conversion']['for']('editingDowncast')['add'](_0x356d3e=>{_0x356d3e['on']('removeMarker:suggestion:attribute',(_0x833976,_0xa53a6e,_0x118996)=>{const _0x5b708f=_0x118996['mapper']['markerNameToElements'](_0xa53a6e['markerName']);if(!_0x5b708f)return;const {id:_0x409546}=this['_splitMarkerName'](_0xa53a6e['markerName']),_0xea987b=this['_suggestions']['get'](_0x409546),_0x44f6f0=this['_getAttributeKey'](_0xea987b);if(this['_isBlockAttribute'](_0x44f6f0)){for(const _0x2bd7c2 of _0x5b708f)_0x2bd7c2['getCustomProperty']('addHighlight')||(_0x118996['writer']['removeClass'](['ck-suggestion-marker','ck-suggestion-marker-formatBlock','ck-suggestion-marker--active'],_0x2bd7c2),_0x118996['writer']['removeAttribute']('data-suggestion',_0x2bd7c2),_0x118996['writer']['removeAttribute']('data-author-id',_0x2bd7c2),_0x118996['mapper']['unbindElementFromMarkerName'](_0x2bd7c2,_0xa53a6e['markerName']));}},{'priority':'high'});}),_0x25bcff['model']['document']['registerPostFixer'](_0x55ea05=>{let _0x54cc9c=!0x1;const _0x5aaab6=Array['from'](_0x25bcff['model']['document']['differ']['getChangedMarkers']()),_0x278e5f=new Set();for(const {name:_0x5d5753,data:_0x345e57}of _0x5aaab6){const {group:_0xff2e70,type:_0x5c3f54,subType:_0x129c01,id:_0x5359d6}=this['_splitMarkerName'](_0x5d5753);if('suggestion'!==_0xff2e70)continue;const _0x475d69=this['_suggestions']['get'](_0x5359d6);if(null!=_0x345e57['newRange']){'formatInline'==_0x5c3f54&&(_0x54cc9c=_0x54cc9c||Ut(_0x345e57['newRange'],_0x5d5753,_0x55ea05,_0x25bcff['model']['schema']));const _0x52a872='attribute'==_0x5c3f54&&this['_isBlockAttribute'](_0x129c01['split']('|')[0x0]);if(_0x345e57['newRange']['isCollapsed']||'$graveyard'==_0x345e57['newRange']['root']['rootName']||'formatBlock'==_0x5c3f54&&!Gt(_0x345e57['newRange'])||_0x52a872&&!Gt(_0x345e57['newRange'])||'deletion'==_0x5c3f54&&!(!Vt(_0x50c202=_0x345e57['newRange'])&&!function(_0x1e0044){return _0x1e0044['start']['parent']==_0x1e0044['end']['nodeBefore']&&_0x1e0044['start']['isAtEnd'];}(_0x50c202)))_0x55ea05['removeMarker'](_0x5d5753),_0x54cc9c=!0x0;else{if(!_0x475d69||!_0x475d69['isInContent'])continue;if(_0x345e57['newRange']&&_0x345e57['oldRange']&&_0x345e57['newRange']['isEqual'](_0x345e57['oldRange']))continue;_0x278e5f['add'](_0x475d69);}}}var _0x50c202;return _0x278e5f['size']>0x0&&(_0x54cc9c=!!this['_joinWithAdjacentSuggestions'](_0x278e5f)||_0x54cc9c),_0x54cc9c;}),_0x25bcff['model']['document']['registerPostFixer'](_0x259c96=>{let _0x7c27c7=!0x1;for(const _0x5850ba of _0x25bcff['model']['document']['differ']['getChanges']())if('insert'==_0x5850ba['type'])for(const _0x54f5e4 of this['_suggestions']['values']()){if(_0x54f5e4['isMultiRange']||!_0x54f5e4['isInContent'])continue;const _0x51a0ca='formatBlock'==_0x54f5e4['type'],_0x4d41bd=this['_getAttributeKey'](_0x54f5e4),_0x12fb87=_0x4d41bd&&this['_isBlockAttribute'](_0x4d41bd);if(!_0x51a0ca&&!_0x12fb87)continue;const _0x171544=_0x54f5e4['getFirstRange']();if(_0x171544['start']['parent']!=_0x171544['end']['parent']&&!_0x171544['end']['isAtEnd']){const _0x3f3dbd=_0x25bcff['model']['createPositionAt'](_0x171544['start']['nodeAfter'],'end'),_0x52ea7d=_0x25bcff['model']['createRange'](_0x171544['start'],_0x3f3dbd);_0x259c96['updateMarker'](_0x54f5e4['getFirstMarker'](),{'range':_0x52ea7d}),_0x7c27c7=!0x0;}}return _0x7c27c7;}),_0x25bcff['model']['document']['registerPostFixer'](_0xf4de11=>this['_processAttributeChanges'](_0xf4de11)),_0x25bcff['model']['document']['registerPostFixer'](_0x2ebd79=>!_0x2ebd79['batch']['isLocal']&&this['_processAttributeSuggestions'](_0x2ebd79)),_0x25bcff['model']['on']('_afterChanges',()=>{this['_recordAttributeSuggestions']=!0x1;}),_0x25bcff['model']['document']['on']('change:data',(_0x3e34f5,_0x20e22b)=>{if(!_0x20e22b['isLocal']||_0x20e22b['isUndo'])return;if(!this['_recordAttributeSuggestions'])return;const _0x30a687=_0x25bcff['model']['document']['differ']['getChanges']();if(0x0==_0x30a687['length'])return;const _0x63b082=[],_0x16c67f=_0x30a687['filter'](_0x1e5a7d=>'attribute'==_0x1e5a7d['type']),_0x2d7447=_0x30a687['filter'](_0x58a304=>'insert'==_0x58a304['type']&&'$text'!=_0x58a304['name']);for(const _0x553b37 of _0x16c67f)this['_isRegisteredAttribute'](_0x553b37['attributeKey'])&&_0x63b082['push']({'key':_0x553b37['attributeKey'],'newValue':_0x553b37['attributeNewValue'],'oldValue':_0x553b37['attributeOldValue'],'range':Ft(_0x553b37['range'],_0x25bcff['model'])});for(const _0x202be3 of _0x2d7447){if('rename'!=_0x202be3['action']&&'refresh'!=_0x202be3['action'])continue;const _0x2dec8a=Lt(_0x202be3['position']['nodeAfter'],_0x25bcff['model']),_0x375d6f=_0x202be3['before'];'rename'==_0x202be3['action']&&_0x63b082['push']({'key':m,'newValue':_0x202be3['name'],'oldValue':_0x375d6f['name'],'range':_0x2dec8a});for(const [_0x2ff2bf,_0x35c22b]of _0x375d6f['attributes']){if(!this['_isRegisteredAttribute'](_0x2ff2bf))continue;const _0x443110=_0x202be3['attributes']['get'](_0x2ff2bf);_0x35c22b!==_0x443110&&_0x63b082['push']({'key':_0x2ff2bf,'newValue':_0x443110,'oldValue':_0x35c22b,'range':_0x2dec8a});}for(const [_0x4c1c06,_0x52ffea]of _0x202be3['attributes'])this['_isRegisteredAttribute'](_0x4c1c06)&&(_0x375d6f['attributes']['has'](_0x4c1c06)||_0x63b082['push']({'key':_0x4c1c06,'newValue':_0x52ffea,'oldValue':null,'range':_0x2dec8a}));}0x0!=_0x63b082['length']&&_0x25bcff['model']['enqueueChange'](_0x20e22b,_0x3f5038=>{const _0x292d5a=_0x3ed9b7();for(const {range:_0x2e9956,key:_0x454962,oldValue:_0x181afa,newValue:_0x52e00f}of _0x63b082)this['markAttributeChange'](_0x2e9956,_0x454962,_0x181afa,_0x52e00f,{'groupId':_0x292d5a});this['_reduceExistingSuggestions'](_0x3f5038,_0x63b082);});},{'priority':'lowest'}),_0x25bcff['model']['markers']['on']('update:suggestion',(_0x565762,_0x3d8ee2,_0xbb140d)=>{if(null==_0xbb140d){const {id:_0xa54ecf}=this['_splitMarkerName'](_0x3d8ee2['name']),_0x4843ea=this['_suggestions']['get'](_0xa54ecf);_0x4843ea&&_0x4843ea['addMarkerName'](_0x3d8ee2['name']);}}),_0x25bcff['model']['document']['on']('change:data',()=>{const _0x471939=Array['from'](_0x25bcff['model']['document']['differ']['getChangedMarkers']())['filter'](_0x1387b2=>'suggestion'===this['_splitMarkerName'](_0x1387b2['name'])['group']);if(0x0===_0x471939['length'])return;_0x471939['sort']((_0x1cf204,_0x4b52a6)=>{const _0xd07b4b=_0x1cf204['data']['oldRange'],_0x185663=_0x4b52a6['data']['oldRange'];return null===_0xd07b4b&&null===_0x185663?0x0:null===_0xd07b4b&&null!==_0x185663?-0x1:null!==_0xd07b4b&&null===_0x185663?0x1:_0xd07b4b['start']['isBefore'](_0x185663['start'])?-0x1:0x1;});const _0x813d62=new Set(),_0x327563=new Set();for(const {name:_0x537ba5,data:_0x1d9433}of _0x471939){const {id:_0x334c23}=this['_splitMarkerName'](_0x537ba5);if(null===_0x1d9433['oldRange']){const _0x123a7d=this['_handleNewSuggestionMarker'](_0x537ba5);_0x327563['add'](_0x123a7d);}else{const _0x51bd82=this['_suggestions']['get'](_0x334c23);null!==_0x1d9433['newRange']||_0x51bd82['isInContent']?(_0x813d62['add'](_0x51bd82['head']),_0x327563['add'](_0x51bd82)):this['_removeSuggestion'](_0x51bd82);}}_0x327563['size']>0x0&&this['_refreshSuggestionsChain'](_0x327563);for(const _0x1dbc9b of _0x813d62)this['fire']('suggestionChanged',_0x1dbc9b);}),_0x25bcff['model']['on']('applyOperation',(_0x10146a,_0x452edb)=>{const _0x15d4b4=_0x452edb[0x0];if(!this['_suggestions']['size'])return;if(!_0x15d4b4['isDocumentOperation'])return;if(_0x15d4b4['batch']['isUndo']||!_0x15d4b4['batch']['isLocal'])return;let _0x45a093,_0x20376b;switch(_0x15d4b4['type']){case'insert':_0x45a093=_0x25bcff['model']['createPositionAt'](_0x15d4b4['position']),_0x20376b=_0x45a093['getShiftedBy'](_0x15d4b4['howMany']);break;case'split':_0x45a093=_0x25bcff['model']['createPositionAt'](_0x15d4b4['splitPosition']),_0x20376b=_0x25bcff['model']['createPositionAt'](_0x15d4b4['moveTargetPosition']);break;case'move':_0x45a093=_0x25bcff['model']['createPositionAt'](_0x15d4b4['targetPosition']),_0x20376b=_0x45a093['getShiftedBy'](_0x15d4b4['howMany']);break;default:return;}const _0x535c58=_0x25bcff['model']['createRange'](_0x45a093,_0x20376b);_0x25bcff['model']['change'](()=>{for(const {suggestion:_0x231f21,meta:_0x2f1001}of this['_findSuggestions'](_0x535c58)){if(_0x231f21['isMultiRange'])continue;if('formatInline'==_0x231f21['type'])continue;const _0x3525ac=this['_getAttributeKey'](_0x231f21);if(_0x3525ac&&this['_isBlockAttribute'](_0x3525ac)&&'split'!=_0x15d4b4['type'])continue;const _0x4f1d75=_0x231f21['data']&&_0x231f21['data']['multipleBlocks'];('formatBlock'!=_0x231f21['type']||'split'==_0x15d4b4['type']&&!_0x4f1d75)&&(_0x2f1001['containsRangeInObject']||'insertion'==_0x231f21['type']&&_0x2f1001['isOwn']||_0x231f21['getFirstRange']()['containsRange'](_0x535c58)&&this['_breakSuggestionMarker'](_0x231f21,_0x45a093,_0x20376b));}});},{'priority':'lowest'}),_0x25bcff['model']['on']('deleteContent',(_0x538166,_0x5c1b06)=>{const _0x5b699a=_0x5c1b06[0x0],_0x3179a5=_0x5c1b06[0x1];if(_0x3179a5&&_0x3179a5['forceDefaultExecution'])return;if(this['_isForcedDefaultExecutionBlock'])return;if(!this['trackChangesCommand']['value'])return;if(_0x5b699a['isCollapsed'])return;const _0x5711ca=_0x25bcff['model']['schema'],{start:_0x2249e7,end:_0xe6b58a}=_0x5b699a['getFirstRange'](),_0x4e7dd8=_0x2249e7['nodeAfter']&&_0x5711ca['isLimit'](_0x2249e7['nodeAfter'])?null:_0x5711ca['getNearestSelectionRange'](_0x2249e7,'forward'),_0x341b5b=_0xe6b58a['nodeBefore']&&_0x5711ca['isLimit'](_0xe6b58a['nodeBefore'])?null:_0x5711ca['getNearestSelectionRange'](_0xe6b58a,'backward'),_0x5b9655=_0x25bcff['model']['createRange'](_0x4e7dd8?_0x4e7dd8['start']:_0x2249e7,_0x341b5b?_0x341b5b['end']:_0xe6b58a);_0x25bcff['model']['change'](_0x531f0b=>{this['markDeletion'](_0x5b9655);const _0x192d46=_0x25bcff['model']['schema']['getNearestSelectionRange'](_0x5b9655['start']);_0x5b699a['is']('documentSelection')?_0x531f0b['setSelection'](_0x192d46):_0x5b699a['setTo'](_0x192d46);}),_0x538166['stop']();},{'priority':_0x442074['normal']+0xa}),_0x25bcff['model']['on']('insertContent',(_0x4ed999,_0x2c81b3)=>{const _0xe6513e=_0x2c81b3[_0x2c81b3['length']-0x1];_0xe6513e&&_0xe6513e['forceDefaultExecution']||this['_isForcedDefaultExecutionBlock']||this['trackChangesCommand']['value']&&(_0x25bcff['model']['change'](()=>{let _0x2625d9=_0x25bcff['model']['insertContent'](_0x2c81b3[0x0],_0x2c81b3[0x1],_0x2c81b3[0x2],{'forceDefaultExecution':!0x0});if(!_0x2625d9)return;_0x4ed999['return']=_0x2625d9['clone']();const _0x483f9d=_0x2625d9['end']['nodeBefore'],_0x5f004f=_0x25bcff['model']['schema'];_0x483f9d&&_0x5f004f['isBlock'](_0x483f9d)&&!_0x5f004f['isObject'](_0x483f9d)&&(_0x2625d9=_0x25bcff['model']['createRange'](_0x2625d9['start'],_0x25bcff['model']['createPositionAt'](_0x483f9d,'end'))),this['markInsertion'](_0x2625d9);}),_0x4ed999['stop']());},{'priority':'high'}),this['editor']['commands']['add']('trackChanges',this['trackChangesCommand']),this['enableCommand']('trackChanges');const _0x108e40=new x(_0x25bcff,this['_suggestions']);_0x25bcff['commands']['add']('acceptSuggestion',_0x108e40),this['enableCommand']('acceptSuggestion');const _0x1d87c6=new O(_0x25bcff,this['_suggestions']);_0x25bcff['commands']['add']('discardSuggestion',_0x1d87c6),this['enableCommand']('discardSuggestion'),_0x25bcff['commands']['add']('acceptAllSuggestions',new R(_0x25bcff,_0x108e40,this['_suggestions'])),this['enableCommand']('acceptAllSuggestions'),_0x25bcff['commands']['add']('discardAllSuggestions',new R(_0x25bcff,_0x1d87c6,this['_suggestions'])),this['enableCommand']('discardAllSuggestions'),_0x25bcff['commands']['add']('acceptSelectedSuggestions',new E(_0x25bcff,_0x108e40,this['_suggestions'])),this['enableCommand']('acceptSelectedSuggestions'),_0x25bcff['commands']['add']('discardSelectedSuggestions',new E(_0x25bcff,_0x1d87c6,this['_suggestions'])),this['enableCommand']('discardSelectedSuggestions');const _0x776747=_0x25bcff['plugins']['get']('CommentsRepository');this['listenTo'](_0x776747,'addComment',(_0x587aa4,{threadId:_0xa325ef})=>{const _0x5267ef=this['_suggestions']['get'](_0xa325ef);_0x5267ef&&_0x5267ef['commentThread']&&0x1===_0x5267ef['commentThread']['length']&&this['_updateSuggestionData'](_0xa325ef,{'hasComments':!0x0});},{'priority':'low'}),this['listenTo'](_0x776747,'removeComment',(_0x29cadf,{threadId:_0x58e0cc})=>{const _0x44413b=this['_suggestions']['get'](_0x58e0cc);_0x44413b&&_0x44413b['commentThread']&&!_0x44413b['commentThread']['length']&&this['_updateSuggestionData'](_0x58e0cc,{'hasComments':!0x1});},{'priority':'low'});}set['adapter'](_0x4448b7){if(this['_adapter'])throw new _0x49aacd('track-changes-adapter-already-set',this);this['_adapter']=_0x4448b7;}get['adapter'](){return this['_adapter'];}['getSuggestions']({skipNotAttached:_0xe21d54=!0x1,toJSON:_0x14dbdb=!0x1}={}){const _0x508dda=[];for(const _0x8d5df2 of this['_suggestions']['values']())_0xe21d54&&!_0x8d5df2['isInContent']||_0x508dda['push'](_0x8d5df2);return _0x14dbdb?_0x508dda['map'](_0x104443=>_0x104443['toJSON']()):_0x508dda;}['getSuggestion'](_0x48d79b){const _0x21a69e=this['_suggestions']['get'](_0x48d79b);if(!_0x21a69e)throw new _0x49aacd('track-changes-suggestion-not-found',this);return _0x21a69e;}['hasSuggestion'](_0x1c4889){return this['_suggestions']['has'](_0x1c4889);}['addSuggestionData'](_0xb76465){const {authorId:_0x498550,id:_0x4023b1,attributes:_0x1612c3}=_0xb76465,[_0x4ead23,_0x18dae3]=_0xb76465['type']['split'](':'),_0x410ca0=this['_suggestions']['get'](_0x4023b1)||this['_createSuggestion'](_0x4ead23,_0x18dae3,_0x4023b1,_0x498550,_0x1612c3);if(this['_addThreadToSuggestion'](_0x410ca0),this['_checkSuggestionCorrectness'](_0x410ca0,_0x4ead23,_0x18dae3||null,_0x498550),_0x410ca0['createdAt']=_0xb76465['createdAt'],_0x410ca0['_isDataLoaded']=!0x0,_0x1612c3&&_0x1612c3['@external']){const _0x26e6d0=_0x1612c3['@external'],_0x1db328=this['_getExternalAuthor'](_0x26e6d0['authorName']);_0x410ca0['authoredAt']=_0x26e6d0['createdAt'],_0x410ca0['author']=_0x1db328,_0x410ca0['isExternal']=!0x0;}else _0x410ca0['authoredAt']=_0xb76465['createdAt'];switch(_0xb76465['data']&&(_0x410ca0['data']=_0xb76465['data']),_0xb76465['attributes']&&(_0x410ca0['attributes']=_0xb76465['attributes']),this['_adapter']&&this['_adapter']['addSuggestion']||(_0x410ca0['_saved']=!0x0),this['_suggestionState']['get'](_0x410ca0)){case'notReady':this['_suggestionState']['set'](_0x410ca0,'dataReady');break;case'markerReady':_0x410ca0['isInContent']?(this['_joinWithAdjacentSuggestions'](new Set([_0x410ca0])),this['_refreshSuggestionsChain'](new Set([_0x410ca0])),this['_suggestionState']['set'](_0x410ca0,'ready'),this['fire']('suggestionLoaded',_0x410ca0)):this['_suggestionState']['set'](_0x410ca0,'removed');}return _0x410ca0;}['acceptSuggestion'](_0x564cb9){this['forceDefaultExecution'](()=>{this['editor']['model']['change'](()=>{for(const _0x128276 of _0x564cb9['getAllAdjacentSuggestions']())_0x128276['accept']();});});}['discardSuggestion'](_0x173cb2){this['forceDefaultExecution'](()=>{this['editor']['model']['change'](()=>{for(const _0x320b35 of _0x173cb2['getAllAdjacentSuggestions']())_0x320b35['discard']();});});}['enableCommand'](_0x3d083a,_0x258d04){const _0x8e2f03=this['editor']['commands']['get'](_0x3d083a);if(!_0x8e2f03)throw new _0x49aacd('track-changes-command-not-found',this,{'commandName':_0x3d083a});if(this['_enabledCommands']['has'](_0x8e2f03))throw new _0x49aacd('track-changes-enable-command-twice',this,{'commandName':_0x3d083a});this['_enabledCommands']['add'](_0x8e2f03),_0x258d04&&_0x8e2f03['on']('execute',(_0xa1411d,_0x150369)=>{this['trackChangesCommand']['value']&&(this['_isForcedDefaultExecutionBlock']||(_0x150369['length']>0x0&&_0x150369[_0x150369['length']-0x1]&&_0x150369[_0x150369['length']-0x1]['forceDefaultExecution']?_0x150369['pop']():(_0xa1411d['return']=_0x258d04((..._0x27a496)=>_0x8e2f03['execute'](..._0x27a496,{'forceDefaultExecution':!0x0}),..._0x150369),_0xa1411d['stop']())));},{'priority':'high'});}['forceDefaultExecution'](_0x2792b8){let _0x2d48f0,_0x45c4b5;const _0x6e6676=this['_isForcedDefaultExecutionBlock'];this['_isForcedDefaultExecutionBlock']=!0x0;try{_0x2d48f0=_0x2792b8();}catch(_0x24c6dd){_0x45c4b5=_0x24c6dd;}return _0x6e6676||(this['_isForcedDefaultExecutionBlock']=!0x1),_0x45c4b5&&_0x49aacd['rethrowUnexpectedError'](_0x45c4b5,this),_0x2d48f0;}['markInsertion'](_0x4b952a,_0x17a674=null,_0x4561fe={}){if(_0x4b952a['isCollapsed'])return null;const _0x2173b7=this['editor']['plugins']['get']('Users')['me'];for(const {suggestion:_0x7348a,meta:_0x3b4a3c}of this['_findSuggestions'](_0x4b952a,'insertion'))if(_0x3b4a3c['isOwn']){if(!_0x3b4a3c['isNextTo']){if(_0x3b4a3c['containsRangeInObject']){if(!this['_mergeNestedSuggestions']||!qt(_0x7348a,_0x4561fe))continue;return _0x7348a;}if(qt(_0x7348a,_0x4561fe))return _0x7348a;this['_breakSuggestionMarker'](_0x7348a,_0x4b952a['start'],_0x4b952a['end']);break;}if(_0x17a674==_0x7348a['subType']&&qt(_0x7348a,_0x4561fe)){const _0xab3ce8=_0x7348a['getFirstRange']();return _0xab3ce8['start']['isEqual'](_0x4b952a['end'])?this['_setSuggestionRange'](_0x7348a,this['_model']['createRange'](_0x4b952a['start'],_0xab3ce8['end'])):this['_setSuggestionRange'](_0x7348a,this['_model']['createRange'](_0xab3ce8['start'],_0x4b952a['end'])),_0x7348a;}}const _0x1f2c26=_0x3ed9b7(),_0x45da32=_0x2173b7['id'],_0x588328=_0x17a674?'insertion:'+_0x17a674:'insertion',_0x4bb81e=this['_setSuggestionData']({'id':_0x1f2c26,'type':_0x588328,'createdAt':new Date(),'authorId':_0x45da32,'attributes':_0x4561fe});return this['_addSuggestionMarker'](_0x588328,_0x1f2c26,_0x45da32,_0x4b952a),_0x4bb81e;}['markMultiRangeInsertion'](_0x26f992,_0x549db3='multi',_0x331972={}){const _0x48a401=this['editor']['plugins']['get']('Users')['me'],_0x27d43f=this['_suggestionFactory']['getSuggestionCallback']('insertion',_0x549db3,'join');for(const _0x59a68a of this['getSuggestions']())if(_0x59a68a['author']['id']==_0x48a401['id']&&'insertion'==_0x59a68a['type']&&_0x59a68a['subType']==_0x549db3&&qt(_0x59a68a,_0x331972)&&(_0x27d43f(_0x59a68a['getRanges'](),_0x26f992)||_0x27d43f(_0x26f992,_0x59a68a['getRanges']()))){for(const _0x426998 of _0x26f992)_0x59a68a['addRange'](_0x426998);return _0x59a68a;}for(const {suggestion:_0x368103,meta:_0xb7f493}of this['_findSuggestions'](_0x26f992,'insertion')){if(!_0xb7f493['isOwn'])continue;if(!this['_mergeNestedSuggestions']&&_0xb7f493['containsRangeInObject'])continue;if(!qt(_0x368103,_0x331972))continue;let _0x574d96=!0x0;for(const _0x5c3580 of _0x368103['getRanges']())for(const _0x57639e of _0x26f992)if(!_0x5c3580['containsRange'](_0x57639e)){_0x574d96=!0x1;break;}if(_0x574d96)return _0x368103;}const _0x374c65=_0x3ed9b7(),_0x136cc3=_0x48a401['id'],_0x2df209='insertion:'+_0x549db3,_0x7453b=this['_setSuggestionData']({'id':_0x374c65,'type':_0x2df209,'createdAt':new Date(),'authorId':_0x136cc3,'attributes':_0x331972});for(const _0x31b0e5 of _0x26f992)this['_addSuggestionMarker'](_0x2df209,_0x374c65,_0x136cc3,_0x31b0e5,u['getMultiRangeId']());return _0x7453b;}['markInlineFormat'](_0x5b4daf,_0xe50884,_0x4290a8=null,_0x371d79={}){if(_0x4290a8=_0x4290a8||Pt(_0xe50884),_0x5b4daf['isCollapsed'])return null;if('never'===this['_trackFormatChanges']){const _0x441b9c=this['_suggestionFactory']['getSuggestionCallback']('formatInline',_0x4290a8,'accept');return this['forceDefaultExecution'](()=>_0x441b9c([_0x5b4daf],_0xe50884,_0x371d79)),null;}const _0x522466=this['editor']['plugins']['get']('Users')['me'],_0x4982fc=[];if('always'!==this['_trackFormatChanges']){for(const {suggestion:_0x54fe76,meta:_0x3b810b}of this['_findSuggestions'](_0x5b4daf,'insertion'))_0x3b810b['isOwn']&&!_0x3b810b['isInsideObject']&&_0x4982fc['push'](..._0x54fe76['getRanges']());}const _0x51a2fb=function(_0x16dd42,_0x993f11){const _0x5ab48d=[];for(const _0x568710 of _0x993f11){const _0xf3dad9=_0x16dd42['getIntersection'](_0x568710);_0xf3dad9&&_0x5ab48d['push'](_0xf3dad9);}return _0x5ab48d;}(_0x5b4daf,_0x4982fc),_0x21928d=function(_0x1c4c1a,_0x28a415){const _0x24fdcb=[_0x1c4c1a];for(const _0x191906 of _0x28a415){let _0x2d3c80=0x0;for(;_0x2d3c80<_0x24fdcb['length'];){const _0x4b8b06=_0x24fdcb[_0x2d3c80]['getDifference'](_0x191906);_0x24fdcb['splice'](_0x2d3c80,0x1,..._0x4b8b06),_0x2d3c80+=_0x4b8b06['length'];}}return _0x24fdcb;}(_0x5b4daf,_0x4982fc);_0x51a2fb['length']&&this['_model']['change'](()=>{for(const _0x3aca99 of _0x51a2fb){const _0xbed0b3=this['_suggestionFactory']['getSuggestionCallback']('formatInline',_0x4290a8,'accept');this['forceDefaultExecution'](()=>_0xbed0b3([_0x3aca99],_0xe50884,_0x371d79));}});for(const _0x5c4f37 of _0x21928d){let _0x520fb3=null,_0x541bb7=_0x5c4f37['start'],_0x49a5f5=_0x5c4f37['end'];for(const {suggestion:_0x51bbdf,meta:_0x15106f}of this['_findSuggestions'](_0x5c4f37,'formatInline')){if(!_0x15106f['isOwn'])continue;if(_0x51bbdf['subType']!=_0x4290a8)continue;if(!qt(_0x51bbdf,_0x371d79))continue;const _0x85c7f4=_0x51bbdf['getFirstRange']();if(_0x85c7f4['containsRange'](_0x5c4f37,!0x0))return null;_0x541bb7=_0x541bb7['isBefore'](_0x85c7f4['start'])?_0x541bb7:_0x85c7f4['start'],_0x49a5f5=_0x49a5f5['isAfter'](_0x85c7f4['end'])?_0x49a5f5:_0x85c7f4['end'],_0x520fb3?_0x85c7f4['start']['isBefore'](_0x520fb3['getFirstRange']()['start'])?(_0x520fb3['removeMarkers'](),_0x520fb3=_0x51bbdf):_0x51bbdf['removeMarkers']():_0x520fb3=_0x51bbdf;}const _0x30475b=this['_model']['createRange'](_0x541bb7,_0x49a5f5);if(_0x520fb3)this['_setSuggestionRange'](_0x520fb3,_0x30475b);else{const _0x23b538=_0x3ed9b7(),_0x15af40=_0x522466['id'];this['_setSuggestionData']({'id':_0x23b538,'type':'formatInline:'+_0x4290a8,'data':_0xe50884,'createdAt':new Date(),'authorId':_0x15af40,'attributes':_0x371d79}),this['_addSuggestionMarker']('formatInline:'+_0x4290a8,_0x23b538,_0x15af40,_0x30475b);}}return null;}['markBlockFormat'](_0x222812,_0x4b6425,_0x3a4a87=[],_0x300aff=null,_0x1283ed={}){_0x4b6425['formatGroupId']||(_0x4b6425['formatGroupId']=_0x4b6425['commandName']),_0x4b6425['multipleBlocks']=_0x222812['is']('range'),_0x300aff=_0x300aff||Pt(_0x4b6425);const _0x4487e3=_0x3a4a87['map'](_0x44d9ce=>Lt(_0x44d9ce,this['_model'])),_0x3fab82=_0x222812['is']('range')?_0x222812:Lt(_0x222812,this['_model']);if('never'===this['_trackFormatChanges']){const _0x3b8599=this['_suggestionFactory']['getSuggestionCallback']('formatBlock',_0x300aff,'accept');return this['forceDefaultExecution'](()=>_0x3b8599([_0x3fab82],_0x4b6425,_0x1283ed)),null;}_0x4487e3['push'](_0x3fab82);let _0x29607a=!0x0;for(const _0x10ef05 of _0x4487e3)if(!this['_rangeIsInLocalUserInsertion'](_0x10ef05)){_0x29607a=!0x1;break;}if(_0x29607a&&'always'!==this['_trackFormatChanges']){const _0x454082=this['_suggestionFactory']['getSuggestionCallback']('formatBlock',_0x300aff,'accept');return this['forceDefaultExecution'](()=>_0x454082([_0x3fab82],_0x4b6425,_0x1283ed)),null;}let _0x3aba30=null,_0x54eabd=_0x3fab82['start'],_0x5d9b27=_0x3fab82['end'];for(const {suggestion:_0x1f3a3e,meta:_0x5df233}of this['_findSuggestions'](_0x3fab82,'formatBlock')){if(!_0x5df233['isOwn'])continue;if(_0x5df233['isNextTo']||_0x5df233['containsRangeInObject']||_0x5df233['isInsideObject'])continue;if(_0x1f3a3e['data']['formatGroupId']!=_0x4b6425['formatGroupId'])continue;if(!qt(_0x1f3a3e,_0x1283ed))continue;const _0x9e4ae1=_0x1f3a3e['getFirstRange']();if(_0x1f3a3e['subType']==_0x300aff){if(_0x9e4ae1['containsRange'](_0x3fab82,!0x0))return null;_0x54eabd=_0x54eabd['isBefore'](_0x9e4ae1['start'])?_0x54eabd:_0x9e4ae1['start'],_0x5d9b27=_0x5d9b27['isAfter'](_0x9e4ae1['end'])?_0x5d9b27:_0x9e4ae1['end'],_0x3aba30?_0x9e4ae1['start']['isBefore'](_0x3aba30['getFirstRange']()['start'])?(_0x3aba30['removeMarkers'](),_0x3aba30=_0x1f3a3e):_0x1f3a3e['removeMarkers']():_0x3aba30=_0x1f3a3e;}else{const _0x2b9214=_0x3fab82['getIntersection'](_0x9e4ae1);this['_cutOutSuggestionMarker'](_0x1f3a3e,_0x2b9214);}}const _0x1e338f=this['editor']['plugins']['get']('Users')['me'],_0x35fd23=_0x3ed9b7(),_0x15d481=_0x1e338f['id'];if(_0x3aba30)return this['_setSuggestionRange'](_0x3aba30,this['_model']['createRange'](_0x54eabd,_0x5d9b27)),_0x3aba30;{const _0x1aab83=this['_setSuggestionData']({'id':_0x35fd23,'type':'formatBlock:'+_0x300aff,'data':_0x4b6425,'createdAt':new Date(),'authorId':_0x15d481,'attributes':_0x1283ed});return this['_addSuggestionMarker']('formatBlock:'+_0x300aff,_0x35fd23,_0x15d481,this['_model']['createRange'](_0x54eabd,_0x5d9b27)),_0x1aab83;}}['markMultiRangeBlockFormat'](_0x5ee0f8,_0x1156ef,_0x23b13d=[],_0x40bb73=null,_0x428eba={}){_0x1156ef['formatGroupId']||(_0x1156ef['formatGroupId']=_0x1156ef['commandName']);const _0x9eeb26=_0x5ee0f8[0x0];_0x1156ef['multipleBlocks']=_0x9eeb26['is']('range'),_0x40bb73=_0x40bb73||Pt(_0x1156ef);const _0x5f1dd6=_0x23b13d['map'](_0x1440e1=>Lt(_0x1440e1,this['_model'])),_0x5ae3ec=_0x9eeb26['is']('range')?_0x5ee0f8:_0x5ee0f8['map'](_0x19d938=>Lt(_0x19d938,this['_model']));if('never'===this['_trackFormatChanges']){const _0x131f1b=this['_suggestionFactory']['getSuggestionCallback']('formatBlock',_0x40bb73,'accept');return this['forceDefaultExecution'](()=>_0x131f1b(_0x5ae3ec,_0x1156ef,_0x428eba)),null;}_0x5f1dd6['push'](..._0x5ae3ec);let _0x1ffd33=!0x0;for(const _0x14ffb5 of _0x5f1dd6)if(!this['_rangeIsInLocalUserInsertion'](_0x14ffb5)){_0x1ffd33=!0x1;break;}if(_0x1ffd33&&'always'!==this['_trackFormatChanges']){const _0x5ebc78=this['_suggestionFactory']['getSuggestionCallback']('formatBlock',_0x40bb73,'accept');return this['forceDefaultExecution'](()=>_0x5ebc78(_0x5ae3ec,_0x1156ef,_0x428eba)),null;}const _0x3b6635=this['editor']['plugins']['get']('Users')['me'];for(const _0x3d484b of this['getSuggestions']()){if(_0x3d484b['author']['id']!=_0x3b6635['id'])continue;if('formatBlock'!=_0x3d484b['type']||_0x3d484b['data']['formatGroupId']!=_0x1156ef['formatGroupId'])continue;if(!qt(_0x3d484b,_0x428eba))continue;const _0x420ccc=_0x3d484b['subType']==_0x40bb73;for(let _0x250a22=0x0;_0x250a22<_0x5ae3ec['length'];_0x250a22++){const _0x374608=_0x5ae3ec[_0x250a22];for(const _0x3859b1 of _0x3d484b['getMarkers']()){const _0xc4e1a9=_0x3859b1['getRange']();if(_0x374608['isEqual'](_0xc4e1a9)){_0x420ccc?(_0x5ae3ec['splice'](_0x250a22,0x1),_0x250a22--):_0x3d484b['removeMarker'](_0x3859b1['name']);break;}}}}if(0x0==_0x5ae3ec['length'])return null;const _0x108bbc=this['_suggestionFactory']['getSuggestionCallback']('formatBlock',_0x40bb73,'join');for(const _0x4dc5e7 of this['getSuggestions']())if(_0x4dc5e7['author']['id']==_0x3b6635['id']&&'formatBlock'==_0x4dc5e7['type']&&_0x4dc5e7['data']['formatGroupId']==_0x1156ef['formatGroupId']&&_0x4dc5e7['subType']==_0x40bb73&&qt(_0x4dc5e7,_0x428eba)&&(_0x108bbc(_0x4dc5e7['getRanges'](),_0x5ae3ec)||_0x108bbc(_0x5ae3ec,_0x4dc5e7['getRanges']()))){for(const _0x24d2c0 of _0x5ae3ec)_0x4dc5e7['addRange'](_0x24d2c0);return _0x4dc5e7;}const _0x445a49=_0x3ed9b7(),_0x143800=_0x3b6635['id'],_0x4d2583='formatBlock:'+_0x40bb73,_0x4750fa=this['_setSuggestionData']({'id':_0x445a49,'type':_0x4d2583,'data':_0x1156ef,'createdAt':new Date(),'authorId':_0x143800,'attributes':_0x428eba});for(const _0x1bf599 of _0x5ae3ec)this['_addSuggestionMarker'](_0x4d2583,_0x445a49,_0x143800,_0x1bf599,u['getMultiRangeId']());return _0x4750fa;}['markDeletion'](_0x39eb45,_0x221710=null,_0x1c5e56={}){if(_0x39eb45['isCollapsed'])return null;const _0x53db3b=this['editor']['plugins']['get']('Users')['me'],_0x22a01f=new _0x1b93ff(_0x39eb45['start'],_0x39eb45['end']);for(const {suggestion:_0x255e89,meta:_0x5a2682}of this['_findSuggestions'](_0x22a01f,'insertion'))if(_0x5a2682['isOwn']&&!_0x5a2682['isNextTo']){if(_0x255e89['isMultiRange']){const _0x46a3ac=_0x255e89['getRanges']()['filter'](_0x2de4d6=>'$graveyard'!=_0x2de4d6['root']['rootName']);_0x46a3ac['every'](_0x535727=>_0x22a01f['containsRange'](_0x535727,!0x0))&&_0x255e89['discard']();if(_0x46a3ac['some'](_0x441b9d=>_0x441b9d['containsRange'](_0x22a01f,!0x0))){const _0xc59ab0=this['_suggestionFactory']['getSuggestionCallback']('deletion',_0x221710,'accept');return this['forceDefaultExecution'](()=>_0xc59ab0([_0x22a01f],null,_0x1c5e56)),null;}}else{const _0x24bf74=_0x22a01f['getIntersection'](_0x255e89['getFirstRange']());null!==_0x24bf74&&_0x255e89['_onDiscard']([_0x24bf74],null,_0x1c5e56);}}if(_0x22a01f['detach'](),_0x22a01f['isCollapsed']||'$graveyard'==_0x22a01f['root']['rootName'])return null;let _0x4ee667=null,_0x2f8d31=_0x22a01f['start'],_0x10691a=_0x22a01f['end'];const _0x5dc718=this['_findSuggestions'](_0x22a01f,'deletion');for(const {suggestion:_0xc407f,meta:_0x38ebe3}of _0x5dc718){const _0x361597=this['_model']['createRange'](_0x2f8d31,_0x10691a);if(_0x38ebe3['isOwn']&&(this['_mergeNestedSuggestions']||!_0x38ebe3['containsRangeInObject']&&!_0x38ebe3['isInsideObject'])){if(_0xc407f['isMultiRange']){if(!qt(_0xc407f,_0x1c5e56))continue;let _0x50b6ce=!0x0;for(const _0x4133ea of _0xc407f['getRanges']()){if(_0x4133ea['containsRange'](_0x361597,!0x0))return _0xc407f;_0x361597['containsRange'](_0x4133ea)||(_0x50b6ce=!0x1);}_0x50b6ce&&_0xc407f['discard']();}else{const _0x48f362=_0xc407f['getFirstRange']();if(_0x48f362['containsRange'](_0x361597,!0x0))return _0xc407f;if(!qt(_0xc407f,_0x1c5e56)){_0x361597['containsRange'](_0x48f362)?_0xc407f['removeMarkers']():_0x48f362['containsPosition'](_0x2f8d31)?_0x2f8d31=_0x48f362['end']:_0x48f362['containsPosition'](_0x10691a)&&(_0x10691a=_0x48f362['start']);continue;}_0x2f8d31=_0x2f8d31['isBefore'](_0x48f362['start'])?_0x2f8d31:_0x48f362['start'],_0x10691a=_0x10691a['isAfter'](_0x48f362['end'])?_0x10691a:_0x48f362['end'],_0x1c5e56=Object['assign']({},_0xc407f['attributes']),_0x4ee667?_0x48f362['start']['isBefore'](_0x4ee667['getFirstRange']()['start'])?(_0x4ee667['removeMarkers'](),_0x4ee667=_0xc407f):_0xc407f['removeMarkers']():_0x4ee667=_0xc407f;}}}if(_0x4ee667)return this['_setSuggestionRange'](_0x4ee667,this['_model']['createRange'](_0x2f8d31,_0x10691a)),_0x4ee667;{const _0x2f7654=_0x3ed9b7(),_0x58334d=this['_model']['createRange'](_0x2f8d31,_0x10691a),_0x30b8b5=_0x53db3b['id'],_0x11d2b0=_0x221710?'deletion:'+_0x221710:'deletion',_0x15daf2=this['_setSuggestionData']({'id':_0x2f7654,'type':_0x11d2b0,'createdAt':new Date(),'authorId':_0x30b8b5,'attributes':_0x1c5e56});return this['_addSuggestionMarker'](_0x11d2b0,_0x2f7654,_0x30b8b5,_0x58334d),_0x15daf2;}}['markMultiRangeDeletion'](_0x2f1e4c,_0x1ea6a8='multi',_0x46a99e={}){const _0x5147da=this['editor']['plugins']['get']('Users')['me'],_0x16ec0a=_0x2f1e4c['map'](_0x28df16=>new _0x1b93ff(_0x28df16['start'],_0x28df16['end'])),_0x108699=new Set();for(const {suggestion:_0x3ef214,meta:_0x186a37}of this['_findSuggestions'](_0x16ec0a,'insertion'))_0x186a37['isOwn']&&!_0x186a37['isNextTo']&&_0x108699['add'](_0x3ef214);for(const _0x1c0ff1 of _0x108699)if(_0x1c0ff1['isMultiRange']){const _0x44e106=_0x1c0ff1['getRanges']();(!_0x1c0ff1['attributes']||!_0x1c0ff1['attributes']['skipNestingCheck'])&&(_0x44e106['every'](_0x4d93a2=>_0x16ec0a['some'](_0x5eb9c2=>_0x5eb9c2['containsRange'](_0x4d93a2,!0x0)))&&_0x1c0ff1['discard']());if(_0x16ec0a['every'](_0x4a370b=>_0x44e106['some'](_0x311adb=>_0x311adb['containsRange'](_0x4a370b,!0x0)))){const _0x5e9f04=this['_suggestionFactory']['getSuggestionCallback']('deletion',_0x1ea6a8,'accept');return this['forceDefaultExecution'](()=>_0x5e9f04(_0x2f1e4c,null,_0x46a99e)),null;}}else{const _0xfd9974=_0x1c0ff1['getFirstRange']();_0x16ec0a['some'](_0x483c9f=>_0x483c9f['containsRange'](_0xfd9974,!0x0))&&_0x1c0ff1['discard']();if(_0x16ec0a['every'](_0x4e1ee6=>_0xfd9974['containsRange'](_0x4e1ee6,!0x0))){const _0x66bd40=this['_suggestionFactory']['getSuggestionCallback']('deletion',_0x1ea6a8,'accept');return this['forceDefaultExecution'](()=>_0x66bd40(_0x16ec0a,null,_0x46a99e)),null;}}const _0x4e0ebf=this['_suggestionFactory']['getSuggestionCallback']('deletion',_0x1ea6a8,'join');let _0x5108c6=null;for(const _0x3c98d1 of this['getSuggestions']())if(_0x3c98d1['author']['id']==_0x5147da['id']&&_0x3c98d1['isInContent']&&'deletion'==_0x3c98d1['type']&&_0x3c98d1['subType']==_0x1ea6a8&&qt(_0x3c98d1,_0x46a99e)&&(_0x4e0ebf(_0x3c98d1['getRanges'](),_0x16ec0a)||_0x4e0ebf(_0x16ec0a,_0x3c98d1['getRanges']()))){if(_0x5108c6){if(_0x3c98d1['commentThread']&&_0x3c98d1['commentThread']['length'])continue;for(const _0x159d7d of _0x3c98d1['getRanges']())_0x5108c6['isIntersectingWithRange'](_0x159d7d)||_0x5108c6['addRange'](_0x159d7d);_0x3c98d1['removeMarkers']();}else{_0x5108c6=_0x3c98d1;for(const _0x4fbc2d of _0x16ec0a)_0x3c98d1['isIntersectingWithRange'](_0x4fbc2d)||_0x3c98d1['addRange'](_0x4fbc2d);}}if(_0x5108c6)return _0x5108c6;_0x108699['clear']();for(const {suggestion:_0xcdbccb,meta:_0x2443b4}of this['_findSuggestions'](_0x16ec0a,'deletion'))_0x2443b4['isOwn']&&(this['_mergeNestedSuggestions']||!_0x2443b4['containsRangeInObject']&&!_0x2443b4['isInsideObject'])&&qt(_0xcdbccb,_0x46a99e)&&_0x108699['add'](_0xcdbccb);for(const _0x5dd6d3 of _0x108699){const _0x4ec542=_0x5dd6d3['getRanges']();if(!_0x46a99e||!_0x46a99e['skipNestingCheck']){if(_0x16ec0a['every'](_0x8e9f47=>_0x4ec542['some'](_0x5085ed=>_0x5085ed['containsRange'](_0x8e9f47,!0x0))))return _0x5dd6d3;}(!_0x5dd6d3['attributes']||!_0x5dd6d3['attributes']['skipNestingCheck'])&&(_0x4ec542['every'](_0x2f2ca1=>_0x16ec0a['some'](_0x1832d2=>_0x1832d2['containsRange'](_0x2f2ca1,!0x0)))&&_0x5dd6d3['discard']());}const _0x210a1c=_0x3ed9b7(),_0x410caa=_0x5147da['id'],_0xe4e6d='deletion:'+_0x1ea6a8,_0x5ba40d=this['_setSuggestionData']({'id':_0x210a1c,'type':_0xe4e6d,'createdAt':new Date(),'authorId':_0x410caa,'attributes':_0x46a99e});for(const _0x11bdee of _0x16ec0a)_0x11bdee['detach'](),_0x11bdee['isCollapsed']||'$graveyard'==_0x11bdee['root']['rootName']||this['_addSuggestionMarker'](_0xe4e6d,_0x210a1c,_0x410caa,_0x11bdee,u['getMultiRangeId']());return _0x5ba40d;}['markAttributeChange'](_0x2d5a31,_0xcb0721,_0x2eac12,_0x1f6f0a,_0x164ec7){if(_0x2d5a31['isCollapsed'])return[];if('never'===this['_trackFormatChanges'])return[];const _0x5a2e3f=this['editor']['plugins']['get']('Users')['me']['id'],_0xc8ed2b=Array['from'](this['_suggestions']['values']())['filter'](_0x3c52d3=>'attribute'==_0x3c52d3['type']&&_0x3c52d3['data']['key']==_0xcb0721&&_0x3c52d3['isIntersectingWithRange'](_0x2d5a31));if('default'===this['_trackFormatChanges']){const _0x12b8b2=this['_findSuggestions'](_0x2d5a31,'insertion')['filter'](({meta:_0x42b2b8})=>_0x42b2b8['isOwn']&&!_0x42b2b8['isInsideObject']&&!_0x42b2b8['isNextTo'])['map'](({suggestion:_0x3768c0})=>_0x3768c0);_0xc8ed2b['unshift'](..._0x12b8b2);}const _0x5bf9d7=new Map([[_0x2d5a31,_0x2eac12]]);for(const _0x204a07 of _0xc8ed2b){const _0x4af814='attribute'==_0x204a07['type']?_0x204a07['data']['oldValue']:void 0x0,_0x581219=_0x204a07['getFirstRange'](),_0x2c4536=Array['from'](_0x5bf9d7['keys']())['find'](_0x42248d=>_0x42248d['isIntersecting'](_0x581219));if(!_0x2c4536)continue;const _0x2f0dd1=_0x2c4536['getDifference'](_0x581219);this['_isBlockAttribute'](_0xcb0721)&&'insertion'==_0x204a07['type']&&0x0!=_0x2f0dd1['length']||(_0x5bf9d7['delete'](_0x2c4536),_0x2f0dd1['forEach'](_0x2f98e3=>{_0x5bf9d7['set'](_0x2f98e3,_0x2eac12);}),'insertion'!=_0x204a07['type']&&_0x4af814!=_0x1f6f0a&&_0x5bf9d7['set'](_0x2c4536['getIntersection'](_0x581219),_0x4af814));}const _0x587e60=[];for(const [_0x335c4d,_0x1f0725]of _0x5bf9d7){const _0x162fdc=_0x3ed9b7(),_0x22b418={'key':_0xcb0721,'oldValue':_0x1f0725,'newValue':_0x1f6f0a};_0xcb0721['length']>0x25&&console['warn']('Creating\x20a\x20suggestion\x20for\x20attribute\x20with\x20too\x20long\x20attribute\x20key.\x20This\x20may\x20lead\x20to\x20errors.\x20Change\x20the\x20attribute\x20key\x20to\x20a\x20value\x20shorter\x20than\x2037\x20characters.',{'key':_0xcb0721});const _0x2f5d05=('attribute:'+(_0xcb0721+'|'+Pt({'newValue':_0x1f6f0a})))['substring'](0x0,0x3c),_0x2c939b=this['_setSuggestionData']({'id':_0x162fdc,'type':_0x2f5d05,'data':_0x22b418,'createdAt':new Date(),'authorId':_0x5a2e3f,'attributes':_0x164ec7});_0x587e60['push'](_0x2c939b),this['_addSuggestionMarker'](_0x2f5d05,_0x162fdc,_0x5a2e3f,_0x335c4d);}return _0x587e60;}['enableDefaultAttributesIntegration'](_0x34c3ee){this['enableCommand'](_0x34c3ee,(_0x2ea44a,..._0x41b834)=>{this['_recordAttributeChanges'](()=>{_0x2ea44a(..._0x41b834);});});}['registerBlockAttribute'](_0x43b50e){this['_blockAttributeKeys']['add'](_0x43b50e);}['registerInlineAttribute'](_0x4b3571){this['_inlineAttributeKeys']['add'](_0x4b3571);}['_getAttributeKey'](_0x59a0d4){return'attribute'==_0x59a0d4['type']?_0x59a0d4['subType']['split']('|')[0x0]:null;}['_setSuggestionRange'](_0x992eb4,_0x547625){const _0x2d6eb1=_0x992eb4['getFirstMarker']();this['_model']['change'](_0xaeeff4=>{_0xaeeff4['updateMarker'](_0x2d6eb1,{'range':_0x547625});});}['_addThreadToSuggestion'](_0x35e7dc){const _0x4381d8=_0x35e7dc['id'],_0x4ec470=this['editor']['config']['get']('collaboration.channelId');this['_commentsRepository']['hasCommentThread'](_0x4381d8)||this['_commentsRepository']['addCommentThread']({'channelId':_0x4ec470,'threadId':_0x4381d8,'isResolvable':!0x1,'isSubmitted':!0x0});const _0x372a35=this['_commentsRepository']['getCommentThread'](_0x4381d8);_0x372a35['unbind']('isRemovable'),_0x372a35['isRemovable']=!0x1,_0x35e7dc['commentThread']=_0x372a35;}['_checkSuggestionCorrectness'](_0x4e2806,_0xfeaa3c,_0x51eddb,_0x26a189){if(_0x4e2806['type']!=_0xfeaa3c||_0x4e2806['subType']!=_0x51eddb||_0x4e2806['creator']['id']!=_0x26a189)throw this['editor']['enableReadOnlyMode']('track-changes-suggestion-data-mismatch'),new _0x49aacd('track-changes-suggestion-data-mismatch',this);}['_cutOutSuggestionMarker'](_0x429b56,_0x25cce1){const _0x2d5577=_0x429b56['getFirstRange']();if(_0x25cce1['isEqual'](_0x2d5577))_0x429b56['removeMarkers']();else{if(_0x2d5577['containsRange'](_0x25cce1)){const _0x1b8597=this['_model']['createPositionAt'](_0x25cce1['start']['nodeBefore'],'end');this['_setSuggestionRange'](_0x429b56,this['_model']['createRange'](_0x2d5577['start'],_0x1b8597));const _0x1ab79a=_0x3ed9b7(),_0x505eea=_0x429b56['creator']['id'],_0x101d35=_0x429b56['type']+':'+_0x429b56['subType'];this['_setSuggestionData']({'id':_0x1ab79a,'type':_0x101d35,'createdAt':new Date(),'authorId':_0x505eea,'data':_0x429b56['data'],'attributes':_0x429b56['attributes']});const _0x4c93c1=this['_model']['createPositionAt'](_0x25cce1['end']['parent'],'after'),_0x5f34cf=this['_model']['createRange'](_0x4c93c1,_0x2d5577['end']);this['_addSuggestionMarker'](_0x101d35,_0x1ab79a,_0x505eea,_0x5f34cf);}else{if(_0x2d5577['containsPosition'](_0x25cce1['start'])){const _0x10a1ed=this['_model']['createPositionAt'](_0x25cce1['start']['nodeBefore'],'end');this['_setSuggestionRange'](_0x429b56,this['_model']['createRange'](_0x2d5577['start'],_0x10a1ed));}else{const _0x2dc414=this['_model']['createPositionAt'](_0x25cce1['end']['parent'],'after');this['_setSuggestionRange'](_0x429b56,this['_model']['createRange'](_0x2dc414,_0x2d5577['end']));}}}}['_rangeIsInLocalUserInsertion'](_0xaf297a){for(const {suggestion:_0x2cadf5,meta:_0x5263e3}of this['_findSuggestions'](_0xaf297a,'insertion')){if(!_0x5263e3['isOwn'])continue;const _0x3df95e=_0x2cadf5['getRanges']();for(const _0x8f90ad of _0x3df95e)if(!_0xaf297a['getDifference'](_0x8f90ad)['length'])return!0x0;}return!0x1;}['_getAuthorFromId'](_0x55c27e){const _0x29db04=this['editor']['plugins']['get']('Users')['getUser'](_0x55c27e);if(!_0x29db04)throw new _0x49aacd('track-changes-user-not-found',this);return _0x29db04;}['_getExternalAuthor'](_0x31386d){const _0xecc757=this['editor']['plugins']['get']('Users'),_0x126fd2=_0x5d6edf('external:'+_0x31386d),_0xaf985=_0xecc757['getUser'](_0x126fd2);return _0xaf985||_0xecc757['addUser']({'id':_0x126fd2,'name':_0x31386d});}['_createSuggestion'](_0x51e324,_0x36985d,_0x407a4f,_0x465610,_0x548f27){const _0x33d011=this['_getAuthorFromId'](_0x465610),_0x1cefb7=this['_suggestionFactory']['buildSuggestion'](_0x51e324,_0x36985d,_0x407a4f,_0x33d011,_0x548f27,_0x19e588=>{this['_updateSuggestionData'](_0x407a4f,{'attributes':_0x19e588});const _0x4e0ae9=this['getSuggestion'](_0x407a4f);this['_joinWithAdjacentSuggestions'](new Set([_0x4e0ae9])),this['_refreshSuggestionsChain'](new Set([_0x4e0ae9]));});return this['listenTo'](_0x1cefb7,'accept',()=>{this['_updateSuggestionData'](_0x407a4f,{'state':'accepted'});},{'priority':'high'}),this['listenTo'](_0x1cefb7,'discard',()=>{this['_updateSuggestionData'](_0x407a4f,{'state':'rejected'});},{'priority':'high'}),this['_suggestions']['set'](_0x407a4f,_0x1cefb7),this['_suggestionState']['set'](_0x1cefb7,'notReady'),_0x1cefb7;}['_splitMarkerName'](_0x44db12){const _0x477cc8=_0x44db12['split'](':');return{'group':_0x477cc8[0x0],'type':_0x477cc8[0x1],'subType':_0x477cc8['length']>=0x5?_0x477cc8[0x2]:null,'id':_0x477cc8['length']<0x5?_0x477cc8[0x2]:_0x477cc8[0x3],'authorId':_0x477cc8['length']<0x5?_0x477cc8[0x3]:_0x477cc8[0x4],'markerCount':0x6==_0x477cc8['length']?_0x477cc8[0x5]:null};}['_breakSuggestionMarker'](_0x4fb0b9,_0x2e4712,_0x43407d){const _0x3604a9=_0x4fb0b9['getFirstRange'](),_0xa036c4=_0x3604a9['start'],_0x5ae23a=_0x3604a9['end'];this['_setSuggestionRange'](_0x4fb0b9,this['_model']['createRange'](_0xa036c4,_0x2e4712));const _0x380087=_0x3ed9b7(),_0x1d6ae6=_0x4fb0b9['creator']['id'],_0xe19f32=_0x4fb0b9['type']+(_0x4fb0b9['subType']?':'+_0x4fb0b9['subType']:'');this['_setSuggestionData']({'id':_0x380087,'type':_0xe19f32,'createdAt':new Date(),'authorId':_0x1d6ae6,'originalSuggestionId':_0x4fb0b9['id'],'attributes':_0x4fb0b9['attributes'],'data':_0x4fb0b9['data']});const _0xabe55a=this['_getAttributeKey'](_0x4fb0b9);('formatBlock'==_0x4fb0b9['type']||_0xabe55a&&this['_isBlockAttribute'](_0xabe55a))&&(_0x43407d=this['_model']['createPositionBefore'](_0x43407d['parent'])),this['_addSuggestionMarker'](_0xe19f32,_0x380087,_0x1d6ae6,this['_model']['createRange'](_0x43407d,_0x5ae23a));}['_findSuggestions'](_0x32dc15,_0xdbb12e=null){const _0x146beb=[],_0x211ed3=this['editor']['plugins']['get']('Users')['me'];Array['isArray'](_0x32dc15)||(_0x32dc15=[_0x32dc15]);for(const _0x385407 of this['getSuggestions']()){if(!_0x385407['isInContent'])continue;if(_0xdbb12e&&_0x385407['type']!=_0xdbb12e)continue;let _0x49d3d1=!0x1;for(const _0x4b0c7f of _0x385407['getRanges']()){for(const _0x5b12e9 of _0x32dc15){const _0x17922f=_0x5b12e9['start']['isEqual'](_0x4b0c7f['end'])||_0x5b12e9['end']['isEqual'](_0x4b0c7f['start']);if(_0x17922f||_0x5b12e9['getIntersection'](_0x4b0c7f)){const _0x2d4482=_0x5b12e9['containsRange'](_0x4b0c7f)&&Et(this['_model']['schema'],_0x4b0c7f['start'],_0x5b12e9),_0x2479d6=_0x4b0c7f['containsRange'](_0x5b12e9)&&Et(this['_model']['schema'],_0x5b12e9['start'],_0x4b0c7f);_0x146beb['push']({'suggestion':_0x385407,'meta':{'isOwn':_0x211ed3==_0x385407['author'],'isNextTo':_0x17922f,'isInsideObject':_0x2d4482,'containsRangeInObject':_0x2479d6}}),_0x49d3d1=!0x0;break;}}if(_0x49d3d1)break;}}return _0x146beb;}['_addSuggestionMarker'](_0x1f39bc,_0x18d811,_0x427d04,_0x5f2f13,_0x4b8c2f){this['_model']['change'](_0x5a8729=>{let _0x3323e0='suggestion:'+_0x1f39bc+':'+_0x18d811+':'+_0x427d04;_0x4b8c2f&&(_0x3323e0=_0x3323e0+':'+_0x4b8c2f),_0x5a8729['addMarker'](_0x3323e0,{'range':_0x5f2f13,'usingOperation':!0x0,'affectsData':!0x0});});}['_removeSuggestion'](_0x3e0eb9){const _0x10ccd3=_0x3e0eb9['previous'],_0x170d41=_0x3e0eb9['next'];_0x3e0eb9['previous']=null,_0x3e0eb9['next']=null,null!=_0x10ccd3&&_0x10ccd3['next']==_0x3e0eb9&&(_0x10ccd3['next']=_0x170d41),null!=_0x170d41&&_0x170d41['previous']==_0x3e0eb9&&(_0x170d41['previous']=_0x10ccd3),'ready'==this['_suggestionState']['get'](_0x3e0eb9)&&(this['_suggestionState']['set'](_0x3e0eb9,'removed'),this['fire']('suggestionUnloaded',_0x3e0eb9,_0x10ccd3,_0x170d41));}['_setSuggestionData'](_0x698f6a){const _0x21508d=_0x698f6a['id'],_0x2bc9ca=this['addSuggestionData'](_0x698f6a);if(this['_adapter']&&this['_adapter']['addSuggestion']){const _0x5c72e1=this['editor']['plugins']['get']('PendingActions'),_0x115110=_0x2bc9ca['hasComments'],_0x1b3913=_0x2bc9ca['subType']?_0x2bc9ca['type']+':'+_0x2bc9ca['subType']:_0x2bc9ca['type'],_0x585135=this['editor']['locale'],_0x2f0444=_0x5c72e1['add'](o(_0x585135,'PENDING_ACTION_SUGGESTION')),_0x46a538={'id':_0x21508d,'type':_0x1b3913,'hasComments':_0x115110,'data':_0x698f6a['data']||null,'originalSuggestionId':_0x698f6a['originalSuggestionId']||null,'attributes':_0x2bc9ca['attributes']};this['_adapter']['addSuggestion'](_0x46a538)['then'](_0x9ea112=>{_0x2bc9ca['_saved']=!0x0,_0x5c72e1['remove'](_0x2f0444),_0x9ea112&&_0x9ea112['createdAt']&&(this['_suggestions']['get'](_0x21508d)['createdAt']=_0x9ea112['createdAt']);})['catch'](_0x4f3f4a=>{throw _0xddcbe8('error-saving-suggestion-data-suggestion-discarded'),this['editor']['model']['enqueueChange']({'isUndoable':!0x1},()=>{_0x2bc9ca['discard']();}),_0x2bc9ca['stopListening'](),this['_suggestions']['delete'](_0x2bc9ca['id']),this['_suggestionState']['delete'](_0x2bc9ca),_0x4f3f4a;});}return _0x2bc9ca;}['_isBlockAttribute'](_0x5659d5){return this['_blockAttributeKeys']['has'](_0x5659d5);}['_updateSuggestionData'](_0x114720,_0x2e2188){const _0x27b2d2=this['editor']['plugins']['get']('PendingActions'),_0x3749e1=this['getSuggestion'](_0x114720);if(this['_adapter']&&this['_adapter']['updateSuggestion']){if(_0x3749e1['_saved']){const _0x21ae83=_0x27b2d2['add'](o(this['editor']['locale'],'PENDING_ACTION_SUGGESTION'));this['_adapter']['updateSuggestion'](_0x114720,_0x2e2188)['then'](()=>{_0x27b2d2['remove'](_0x21ae83);});}else _0x3749e1['on']('change:_saved',()=>{this['_updateSuggestionData'](_0x114720,_0x2e2188);});}}['_getSuggestionData'](_0x45757f){if(!this['_adapter']||!this['_adapter']['getSuggestion'])throw new _0x49aacd('track-changes-adapter-missing-getsuggestion',this);return this['_adapter']['getSuggestion'](_0x45757f);}['_handleNewSuggestionMarker'](_0x1ec056){const {id:_0x353b2b,type:_0x2dd667,subType:_0x55ab33,authorId:_0x3def6e}=this['_splitMarkerName'](_0x1ec056),_0xc8aef5=this['_suggestions']['get'](_0x353b2b)||this['_createSuggestion'](_0x2dd667,_0x55ab33,_0x353b2b,_0x3def6e,{});switch(this['_checkSuggestionCorrectness'](_0xc8aef5,_0x2dd667,_0x55ab33,_0x3def6e),this['_suggestionState']['get'](_0xc8aef5)){case'notReady':this['_getSuggestionData'](_0x353b2b)['then'](_0x4a124e=>{let _0x42b70e=Promise['resolve']();_0x4a124e['hasComments']&&(_0x42b70e=this['_commentsRepository']['fetchCommentThread']({'channelId':this['editor']['config']['get']('collaboration.channelId'),'threadId':_0x353b2b})),_0x42b70e['then'](()=>{this['addSuggestionData'](_0x4a124e)['_saved']=!0x0;});}),this['_suggestionState']['set'](_0xc8aef5,'markerReady');break;case'removed':this['_updateSuggestionData'](_0x353b2b,{'state':'open'});case'dataReady':this['_suggestionState']['set'](_0xc8aef5,'ready'),this['fire']('suggestionLoaded',_0xc8aef5);break;case'ready':this['fire']('suggestionChanged',_0xc8aef5);}return _0xc8aef5['addMarkerName'](_0x1ec056),_0xc8aef5;}['_refreshSuggestionsChain'](_0x217dd1){const _0x1f15d3=Array['from'](_0x217dd1),_0x77d453=_0x1f15d3['filter'](_0x29a42f=>'attribute'==_0x29a42f['type']);this['_refreshAttributeSuggestionsChain'](_0x77d453);const _0x11fb41=_0x1f15d3['filter'](_0x2b80b1=>!_0x2b80b1['isMultiRange']&&'attribute'!=_0x2b80b1['type']),_0x44a761=this['getSuggestions']({'skipNotAttached':!0x0})['filter'](_0x457e61=>!_0x457e61['isMultiRange']&&'attribute'!=_0x457e61['type']),_0x17b703=_0x44a761['filter'](_0x42b74c=>!_0x217dd1['has'](_0x42b74c)),_0x75b2d6=new Map(_0x44a761['map'](_0x2002fb=>[_0x2002fb,this['_suggestionFactory']['getSuggestionCallback'](_0x2002fb['type'],_0x2002fb['subType'],'chain')])),_0x3f2149=new Map(_0x44a761['map'](_0x30ed2a=>[_0x30ed2a,_0x30ed2a['getFirstRange']()])),_0x554e9e=new Set(),_0x2bdf3b=new Set();for(let _0x237f63=0x0;_0x237f63<_0x11fb41['length'];_0x237f63++)_0x369f50(_0x11fb41[_0x237f63],_0x11fb41,_0x237f63+0x1);for(let _0x5c7d0d=0x0;_0x5c7d0d<_0x11fb41['length'];_0x5c7d0d++)_0x369f50(_0x11fb41[_0x5c7d0d],_0x17b703,0x0);const _0x507f28=new Set();for(let _0x5d303c=0x0;_0x5d303c<_0x11fb41['length'];_0x5d303c++){const _0x5ed580=_0x11fb41[_0x5d303c];!_0x2bdf3b['has'](_0x5ed580)&&_0x5ed580['previous']&&(_0x507f28['add'](_0x5ed580['previous']),_0x5ed580['previous']['next']===_0x5ed580&&(_0x5ed580['previous']['next']=null),_0x5ed580['previous']=null),!_0x554e9e['has'](_0x5ed580)&&_0x5ed580['next']&&(_0x507f28['add'](_0x5ed580['next']),_0x5ed580['next']['previous']===_0x5ed580&&(_0x5ed580['next']['previous']=null),_0x5ed580['next']=null);}function _0x369f50(_0x30a43a,_0x422549,_0x3c33d5){for(let _0x298a6e=_0x3c33d5;_0x298a6e<_0x422549['length'];_0x298a6e++){const _0x3b0b4e=_0x32026b(_0x30a43a,_0x422549[_0x298a6e]);_0x3b0b4e&&(_0x3b0b4e[0x0]['next']=_0x3b0b4e[0x1],_0x3b0b4e[0x1]['previous']=_0x3b0b4e[0x0],_0x554e9e['add'](_0x3b0b4e[0x0]),_0x2bdf3b['add'](_0x3b0b4e[0x1]));}}function _0x32026b(_0x2561b0,_0x494780){if(_0x2561b0['author']['id']!==_0x494780['author']['id'])return null;const _0xfc3dff=_0x75b2d6['get'](_0x2561b0)(_0x2561b0,_0x494780,_0x3f2149['get'](_0x2561b0),_0x3f2149['get'](_0x494780));if(!_0xfc3dff)return null;return _0x75b2d6['get'](_0x494780)(_0x2561b0,_0x494780,_0x3f2149['get'](_0x2561b0),_0x3f2149['get'](_0x494780))?_0xfc3dff[0x1]['commentThread']&&_0xfc3dff[0x1]['commentThread']['length']?null:_0xfc3dff:null;}_0x507f28['size']&&this['_refreshSuggestionsChain'](_0x507f28);}['_refreshAttributeSuggestionsChain'](_0x132f04){if(0x0==_0x132f04['length'])return;const _0x2b544b=this['getSuggestions']({'skipNotAttached':!0x0})['filter'](_0x501005=>'attribute'==_0x501005['type']&&_0x501005['_isDataLoaded']),_0x43b64d=[],_0x21b979=new Map();for(const _0x3c4ee8 of _0x2b544b){const _0x2b6fd4=_0x5d6edf(_0x3c4ee8['attributes']);_0x21b979['has'](_0x2b6fd4)||(_0x21b979['set'](_0x2b6fd4,_0x43b64d['length']),_0x43b64d['push']([]));const _0x1dc422=_0x21b979['get'](_0x2b6fd4);_0x43b64d[_0x1dc422]['push'](_0x3c4ee8);}!(function(){_0x43b64d['sort']((_0x37d6f7,_0x150212)=>{const _0x58c224=_0x37d6f7[0x0]['createdAt'],_0x3d5a4a=_0x150212[0x0]['createdAt'];return _0x58c224==_0x3d5a4a?_0x37d6f7[0x0]['attributes']['groupId']<_0x150212[0x0]['attributes']['groupId']?-0x1:0x1:_0x58c224<_0x3d5a4a?-0x1:0x1;});for(const _0x1fe142 of _0x43b64d)_0x1fe142['sort']((_0x3d3980,_0x3250c3)=>_0x3d3980['id']<_0x3250c3['id']?-0x1:0x1);}());for(let _0x2666cd=0x0;_0x2666cd<_0x43b64d['length'];_0x2666cd++){if(0x0==_0x43b64d[_0x2666cd]['length'])continue;const _0x43eefa=[];for(let _0x5e6844=_0x2666cd+0x1;_0x5e6844<_0x43b64d['length'];_0x5e6844++)0x0!=_0x43b64d[_0x5e6844]['length']&&_0x4b4e12(_0x43b64d[_0x2666cd],_0x43b64d[_0x5e6844])&&_0x43eefa['push'](_0x5e6844);for(const _0x148709 of _0x43eefa)_0x43b64d[_0x2666cd]=_0x43b64d[_0x2666cd]['concat'](_0x43b64d[_0x148709]),_0x43b64d[_0x148709]=[];}for(const _0x22d5b5 of _0x43b64d)for(let _0x4e5ffb=0x0;_0x4e5ffb<_0x22d5b5['length'];_0x4e5ffb++){const _0x5857bb=_0x22d5b5[_0x4e5ffb+0x1]||null;_0x22d5b5[_0x4e5ffb]['next']!==_0x5857bb&&(_0x22d5b5[_0x4e5ffb]['next']=_0x5857bb);}for(const _0x51dcd5 of _0x43b64d)for(let _0x10d742=0x0;_0x10d742<_0x51dcd5['length'];_0x10d742++){const _0x135df2=_0x51dcd5[_0x10d742-0x1]||null;_0x51dcd5[_0x10d742]['previous']!==_0x135df2&&(_0x51dcd5[_0x10d742]['previous']=_0x135df2);}function _0x4b4e12(_0xa0a1c2,_0x9fc54f){if(_0xa0a1c2[0x0]['attributes']['groupId']!==_0x9fc54f[0x0]['attributes']['groupId']&&_0xa0a1c2[0x0]['author']!==_0x9fc54f[0x0]['author'])return!0x1;if(!function(_0x4dae43,_0x275a3c){if(!_0x4dae43['hasComments']&&!_0x275a3c['hasComments'])return!0x0;if(_0x4dae43['hasComments']&&_0x275a3c['hasComments'])return!0x1;if(_0x4dae43['hasComments']&&_0x275a3c['createdAt']<_0x4dae43['commentThread']['comments']['get'](0x0)['createdAt'])return!0x0;if(_0x275a3c['hasComments']&&_0x4dae43['createdAt']<_0x275a3c['commentThread']['comments']['get'](0x0)['createdAt'])return!0x0;return!0x1;}(_0xa0a1c2[0x0],_0x9fc54f[0x0]))return!0x1;const _0x524ea5=Rt(_0xa0a1c2[0x0]['attributes'],'groupId'),_0x51504b=Rt(_0x9fc54f[0x0]['attributes'],'groupId');if(!_0xc9e869(_0x524ea5,_0x51504b))return!0x1;return!!_0xa0a1c2['every'](_0x1651fc=>_0x9fc54f['some'](_0x2f0f53=>_0x1651fc['getFirstRange']()['isEqual'](_0x2f0f53['getFirstRange']())))&&_0x9fc54f['every'](_0x1397b9=>_0xa0a1c2['some'](_0x2eb1a2=>_0x1397b9['getFirstRange']()['isEqual'](_0x2eb1a2['getFirstRange']())));}}['_joinWithAdjacentSuggestions'](_0x583825){const _0x4ec489=Array['from'](_0x583825),_0x12ab3d=this['getSuggestions']({'skipNotAttached':!0x0}),_0x307c33=_0x12ab3d['filter'](_0x10b74d=>!_0x583825['has'](_0x10b74d)),_0x3094a0=new Map(_0x4ec489['map'](_0x54d4be=>[_0x54d4be,this['_suggestionFactory']['getSuggestionCallback'](_0x54d4be['type'],_0x54d4be['subType'],'join')])),_0xf840d0=new Map(_0x12ab3d['map'](_0x14ede5=>[_0x14ede5,_0x14ede5['getRanges']()]));for(let _0x2cf258=0x0;_0x2cf258<_0x4ec489['length'];_0x2cf258++){if(_0x4408b7(this,_0x4ec489[_0x2cf258],_0x4ec489,_0x2cf258+0x1))return!0x0;}for(let _0x2f1218=0x0;_0x2f1218<_0x4ec489['length'];_0x2f1218++){if(_0x4408b7(this,_0x4ec489[_0x2f1218],_0x307c33,0x0))return!0x0;}return!0x1;function _0x4408b7(_0x2a4641,_0x3ec581,_0x17068d,_0x50e4e4){for(let _0x381ae8=_0x50e4e4;_0x381ae8<_0x17068d['length'];_0x381ae8++){const _0x504520=_0x17068d[_0x381ae8];if(_0x504520['type']!==_0x3ec581['type']||_0x504520['author']['id']!==_0x3ec581['author']['id']||_0x504520['subType']!==_0x3ec581['subType'])continue;if(!Jt(_0x3ec581,_0x504520))continue;if('attribute'==_0x3ec581['type']&&_0x3ec581['data']['oldValue']!=_0x504520['data']['oldValue'])continue;if('attribute'==_0x3ec581['type']&&_0x2a4641['_isBlockAttribute'](_0x3ec581['data']['key']))continue;if('formatBlock'==_0x3ec581['type']){const _0x435b51=_0x2a4641['editor']['model'],_0x4e617e=_0x3ec581['getContainedElement']();if(_0x4e617e&&(_0x435b51['schema']['isObject'](_0x4e617e)||_0x435b51['schema']['isLimit'](_0x4e617e)))continue;}const _0x1a5e9e=_0x3094a0['get'](_0x3ec581),_0x55d446=_0xf840d0['get'](_0x3ec581),_0x45680c=_0xf840d0['get'](_0x504520),_0x5e42e7=_0x3ec581['commentThread']&&_0x3ec581['commentThread']['length'],_0x4affc1=_0x504520['commentThread']&&_0x504520['commentThread']['length'];if(!_0x5e42e7&&_0x1a5e9e(_0x45680c,_0x55d446))return _0x2a4641['_joinSuggestions'](_0x504520,_0x3ec581),_0xf840d0['delete'](_0x3ec581),!0x0;if(!_0x4affc1&&_0x1a5e9e(_0x55d446,_0x45680c))return _0x2a4641['_joinSuggestions'](_0x3ec581,_0x504520),_0xf840d0['delete'](_0x504520),!0x0;}return!0x1;}}['_joinSuggestions'](_0x1f5c2d,_0x29a0c8){if(_0x1f5c2d['isMultiRange']){for(const _0x3cf344 of _0x29a0c8['getRanges']())_0x1f5c2d['addRange'](_0x3cf344);}else{const _0x4f96a6=_0x29a0c8['getFirstRange']()['end'];this['_setSuggestionRange'](_0x1f5c2d,this['_model']['createRange'](_0x1f5c2d['getFirstRange']()['start'],_0x4f96a6));}_0x29a0c8['removeMarkers']();}['_getMarkerAnnouncementText'](_0x441bdd,_0x44ec12,_0x28eb6a){const _0x5ebc9e=_0x441bdd['startsWith']('format')||_0x441bdd['startsWith']('attribute')?'FORMATTING':_0x441bdd['toUpperCase']();return o(this['editor']['locale'],_0x44ec12+'_'+_0x5ebc9e+'_SUGGESTION_ANNOUNCEMENT',_0x28eb6a);}['_initAriaMarkerChangeAnnouncements'](){const _0x2f7fb9=this['editor'];if(!_0x2f7fb9['ui'])return;const {ariaLiveAnnouncer:_0x26b626}=_0x2f7fb9['ui'];_0x1a9a8c(this['_model'],({left:_0x7dfd76,entered:_0x8efeb7})=>{for(const _0x3b5da3 of _0x7dfd76){const {group:_0x12dc2a,type:_0x28bf2e}=this['_splitMarkerName'](_0x3b5da3['name']);if('suggestion'===_0x12dc2a){_0x26b626['announce'](this['_getMarkerAnnouncementText'](_0x28bf2e,'LEAVE'));break;}}for(const _0x3ef29f of _0x8efeb7){const {group:_0x51e97a,type:_0x4db23e}=this['_splitMarkerName'](_0x3ef29f['name']);if('suggestion'===_0x51e97a){_0x26b626['announce'](this['_getMarkerAnnouncementText'](_0x4db23e,'ENTER',_0x7186f2(_0x52f85c)));break;}}});}['_processAttributeChanges'](_0x4d22a6){if(this['_recordAttributeSuggestions'])return!0x1;const _0x5e909c=this['editor'],_0x478af2=_0x5e909c['model']['document']['differ']['getChanges']();if(0x0==_0x478af2['length'])return!0x1;const _0xac6a4e=[],_0x4bdc50=_0x478af2['filter'](_0x218f9b=>'attribute'==_0x218f9b['type']),_0x5a6c5d=_0x478af2['filter'](_0x57f1f9=>'insert'==_0x57f1f9['type']&&'$text'!=_0x57f1f9['name']),_0x1636fc=_0x478af2['filter'](_0x24bde0=>'remove'==_0x24bde0['type']&&'$text'!=_0x24bde0['name']);for(const _0x1b7282 of _0x4bdc50)_0xac6a4e['push']({'key':_0x1b7282['attributeKey'],'newValue':_0x1b7282['attributeNewValue'],'oldValue':_0x1b7282['attributeOldValue'],'range':Ft(_0x1b7282['range'],_0x5e909c['model'])});for(const _0x249b95 of _0x5a6c5d){const _0x56c42c=_0x1636fc['find'](_0x106443=>_0x106443['position']['isEqual'](_0x249b95['position']));_0x56c42c&&_0xac6a4e['push']({'key':m,'newValue':_0x249b95['name'],'oldValue':_0x56c42c['name'],'range':_0x5e909c['model']['createRangeOn'](_0x249b95['position']['nodeAfter'])});}return 0x0!=_0xac6a4e['length']&&this['_reduceExistingSuggestions'](_0x4d22a6,_0xac6a4e);}['_processAttributeSuggestions'](_0x27696d){let _0x4f20cb=!0x1;const _0x5d26eb=this['editor']['model']['document']['differ']['getChangedMarkers']()['filter'](_0x9fb122=>_0x9fb122['data']['newRange']&&_0x9fb122['name']['startsWith']('suggestion:attribute:'));for(const _0x235902 of _0x5d26eb){const {subType:_0x4799fa,id:_0x58931e}=this['_splitMarkerName'](_0x235902['name']),_0x40b775=_0x4799fa['split']('|')[0x0];for(const _0x4b2b26 of this['getSuggestions']({'skipNotAttached':!0x0}))_0x4b2b26['id']!=_0x58931e&&'attribute'==_0x4b2b26['type']&&_0x4b2b26['data']&&_0x4b2b26['data']['key']==_0x40b775&&_0x4b2b26['getFirstRange']()['isIntersecting'](_0x235902['data']['newRange'])&&(this['_reduceSuggestionAttributeRange'](_0x4b2b26,_0x235902['data']['newRange'],_0x27696d),_0x4f20cb=!0x0);}return _0x4f20cb;}['_recordAttributeChanges'](_0x13ff62){this['_recordAttributeSuggestions']=!0x0,_0x13ff62();}['_isRegisteredAttribute'](_0x2f228a){const _0x14075a=this['_isBlockAttribute'](_0x2f228a),_0x972f72=this['_inlineAttributeKeys']['has'](_0x2f228a);return _0x14075a||_0x972f72;}['_reduceExistingSuggestions'](_0xfd900c,_0x318376){if(0x0==_0x318376['length'])return!0x1;let _0x10427c=!0x1;for(const _0x177fd9 of _0x318376){const _0xf52d44=this['_findSuggestions'](_0x177fd9['range'],'attribute')['filter'](_0x73364f=>!_0x73364f['meta']['isNextTo'])['map'](_0x2f2483=>_0x2f2483['suggestion']),_0x1737fb=_0x5d6edf({'newValue':_0x177fd9['newValue']});_0xf52d44['filter'](_0x5263c3=>{const [_0x1d40b4,_0x43f1a5]=_0x5263c3['subType']['split']('|');return _0x1d40b4==_0x177fd9['key']&&_0x43f1a5!=_0x1737fb;})['forEach'](_0x1bac1c=>{this['_reduceSuggestionAttributeRange'](_0x1bac1c,_0x177fd9['range'],_0xfd900c),_0x10427c=!0x0;});}return _0x10427c;}['_reduceSuggestionAttributeRange'](_0x573956,_0x366b5d,_0x38d5a3){const _0x302e6f=_0x573956['getFirstRange']()['getDifference'](_0x366b5d);0x0!==_0x302e6f['length']?0x1!==_0x302e6f['length']?this['_breakSuggestionMarker'](_0x573956,_0x366b5d['start'],_0x366b5d['end']):this['_setSuggestionRange'](_0x573956,_0x302e6f[0x0]):_0x38d5a3['removeMarker'](_0x573956['getFirstMarker']());}}class Tt{['_editor'];['_model'];['_customCallbacks'];['_defaultCallbacks'];constructor(_0x43a417){this['_editor']=_0x43a417,this['_model']=_0x43a417['model'],this['_customCallbacks']=new Map(),this['_defaultCallbacks']=new Map(),this['_registerDefaultCallbacks']();}['buildSuggestion'](_0x5e5697,_0x5b4083,_0x2bd858,_0x2e1b8a,_0x1353a0,_0x3fd424){return new u(this['_model'],{'type':_0x5e5697,'subType':_0x5b4083,'id':_0x2bd858,'author':_0x2e1b8a,'creator':_0x2e1b8a,'attributes':_0x1353a0,'onAttributesChange':_0x3fd424,'onAccept':(..._0x5192f0)=>this['getSuggestionCallback'](_0x5e5697,_0x5b4083,'accept')(..._0x5192f0),'onDiscard':(..._0x16774a)=>this['getSuggestionCallback'](_0x5e5697,_0x5b4083,'discard')(..._0x16774a)});}['registerCustomCallback'](_0x303bf0,_0x451ff9,_0x1e8304,_0x143824){const _0x545a67=_0x303bf0+':'+_0x451ff9+':'+_0x1e8304;this['_customCallbacks']['set'](_0x545a67,_0x143824);}['getSuggestionCallback'](_0x15a238,_0x102430,_0x55a7f0){const _0x3fc02d=_0x15a238+':'+_0x102430+':'+_0x55a7f0;return this['_customCallbacks']['get'](_0x3fc02d)||this['_defaultCallbacks']['get'](_0x15a238+':'+_0x55a7f0);}['_registerDefaultCallbacks'](){const _0x554849=()=>!0x1,_0x1b317c=_0x465984=>{_0x465984['sort']((_0x59b2c1,_0x513876)=>_0x59b2c1['start']['isBefore'](_0x513876['start'])?0x1:-0x1),this['_model']['change'](_0x5d0958=>{for(const _0x2efe74 of _0x465984){let _0x3fb0be;_0x3fb0be=_0x2efe74['end']['isAtEnd']&&_0x2efe74['end']['parent']==_0x2efe74['start']['nodeAfter']?_0x5d0958['createSelection'](_0x2efe74['start']['nodeAfter'],'on'):_0x5d0958['createSelection'](_0x2efe74),this['_model']['deleteContent'](_0x3fb0be,{'forceDefaultExecution':!0x0,'doNotAutoparagraph':!0x0});}});},_0x328368=(_0x516fb7,_0x5d15a6)=>{_0x5d15a6&&this['_model']['change'](_0x42d6e3=>{const {commandName:_0x428649,commandParams:_0x319cc1=[]}=_0x5d15a6,_0x398b93=_0x516fb7['map'](_0x2c1768=>(Vt(_0x2c1768)&&(_0x2c1768=this['_model']['createRange'](_0x2c1768['end'])),_0x2c1768))['filter'](_0x4ea44f=>'$graveyard'!==_0x4ea44f['root']['rootName']);if(_0x398b93['length']<0x1)return;const _0x4526d4=Array['from'](this['_model']['document']['selection']['getRanges']())['map'](_0x7f35df=>_0x1b93ff['fromRange'](_0x7f35df));_0x42d6e3['setSelection'](_0x398b93);for(const _0x2b5455 of this['_editor']['commands']['commands']())_0x2b5455['refresh']();_0x319cc1['push']({'forceDefaultExecution':!0x0}),this['_editor']['execute'](_0x428649,..._0x319cc1);const _0x27fd66=_0x4526d4['filter'](_0x404996=>'$graveyard'!=_0x404996['root']['rootName']);_0x27fd66['length']>0x0&&_0x42d6e3['setSelection'](_0x27fd66);for(const _0x4a403d of _0x4526d4)_0x4a403d['detach']();});},_0x1aae9b=(_0x228429,_0x2446ff)=>0x1==_0x228429['length']&&0x1==_0x2446ff['length']&&_0x228429[0x0]['end']['isEqual'](_0x2446ff[0x0]['start']),_0x46e251=(_0x4acba4,_0x2dc6c1,_0x59447c,_0x1e34b8)=>Ht(_0x4acba4,_0x2dc6c1,_0x59447c,_0x1e34b8,this['_model'])?[_0x4acba4,_0x2dc6c1]:Ht(_0x2dc6c1,_0x4acba4,_0x1e34b8,_0x59447c,this['_model'])?[_0x2dc6c1,_0x4acba4]:null;this['_defaultCallbacks']['set']('insertion:accept',_0x554849),this['_defaultCallbacks']['set']('insertion:discard',_0x1b317c),this['_defaultCallbacks']['set']('insertion:join',_0x1aae9b),this['_defaultCallbacks']['set']('insertion:chain',_0x46e251),this['_defaultCallbacks']['set']('deletion:accept',_0x1b317c),this['_defaultCallbacks']['set']('deletion:discard',_0x554849),this['_defaultCallbacks']['set']('deletion:join',_0x1aae9b),this['_defaultCallbacks']['set']('deletion:chain',_0x46e251),this['_defaultCallbacks']['set']('formatInline:accept',_0x328368),this['_defaultCallbacks']['set']('formatInline:discard',_0x554849),this['_defaultCallbacks']['set']('formatInline:join',_0x1aae9b),this['_defaultCallbacks']['set']('formatInline:chain',_0x554849),this['_defaultCallbacks']['set']('formatBlock:accept',_0x328368),this['_defaultCallbacks']['set']('formatBlock:discard',_0x554849),this['_defaultCallbacks']['set']('formatBlock:join',_0x1aae9b),this['_defaultCallbacks']['set']('formatBlock:chain',_0x554849),this['_defaultCallbacks']['set']('attribute:accept',_0x554849),this['_defaultCallbacks']['set']('attribute:discard',(_0x21296f,_0xbbc05e)=>{if(!_0xbbc05e)return;const _0x29116f=this['_editor']['plugins']['get'](p);this['_model']['change'](_0x3d47a6=>{if(_0xbbc05e['key']==m)for(const _0x177186 of _0x21296f){const _0x16e61a=_0x177186['start']['nodeAfter'],_0x5be458=_0xbbc05e['oldValue'];_0x3d47a6['rename'](_0x16e61a,_0x5be458);}else{if(_0x29116f['_isBlockAttribute'](_0xbbc05e['key'])){for(const _0x501d00 of _0x21296f)void 0x0!==_0xbbc05e['oldValue']?_0x3d47a6['setAttribute'](_0xbbc05e['key'],_0xbbc05e['oldValue'],_0x501d00['start']['nodeAfter']):_0x3d47a6['removeAttribute'](_0xbbc05e['key'],_0x501d00['start']['nodeAfter']);}else{for(const _0x3db45e of _0x21296f)_0xbbc05e['oldValue']?_0x3d47a6['setAttribute'](_0xbbc05e['key'],_0xbbc05e['oldValue'],_0x3db45e):_0x3d47a6['removeAttribute'](_0xbbc05e['key'],_0x3db45e);}}});}),this['_defaultCallbacks']['set']('attribute:join',_0x1aae9b);}}function Et(_0x39aea4,_0xc9fc8b,_0x16d17a){for(const _0x371a33 of _0xc9fc8b['parent']['getAncestors']({'includeSelf':!0x0,'parentFirst':!0x0})){if(_0x371a33['root']==_0x371a33)return!0x1;if(!_0x16d17a['containsItem'](_0x371a33))return!0x1;if(_0x39aea4['isObject'](_0x371a33)||_0x39aea4['isLimit'](_0x371a33))return!0x0;}return!0x1;}function Vt(_0x1b5637){return _0x1b5637['end']['parent']==_0x1b5637['start']['nodeAfter']&&_0x1b5637['end']['isAtStart'];}function Ut(_0x24a645,_0x154f48,_0x108c81,_0x50cc6e){const _0x25012d=_0x42070e=>!_0x42070e['item']['is']('$textProxy')&&!_0x50cc6e['isObject'](_0x42070e['item']),_0x4b556b=_0x24a645['start']['getLastMatchingPosition'](_0x25012d),_0x5d58aa=_0x24a645['end']['getLastMatchingPosition'](_0x25012d,{'direction':'backward'});return(!_0x24a645['start']['isEqual'](_0x4b556b)||!_0x24a645['end']['isEqual'](_0x5d58aa))&&(_0x4b556b['isBefore'](_0x5d58aa)?_0x108c81['updateMarker'](_0x154f48,{'range':_0x108c81['createRange'](_0x4b556b,_0x5d58aa)}):_0x108c81['removeMarker'](_0x154f48),!0x0);}function Pt(_0x14b951){return _0x5d6edf(_0x14b951);}function Gt(_0x846098){const _0x171258=_0x846098['start']['nodeAfter'];return _0x171258&&_0x171258['is']('element');}function Ft(_0x1fd9cf,_0x3316df){return null==_0x1fd9cf['end']['nodeBefore']&&_0x1fd9cf['end']['parent']==_0x1fd9cf['start']['nodeAfter']?Lt(_0x1fd9cf['start']['nodeAfter'],_0x3316df):_0x1fd9cf;}function Lt(_0x1469b5,_0x4e6125){const _0x2a07cb=_0x4e6125['schema']['isObject'](_0x1469b5)||_0x4e6125['schema']['isSelectable'](_0x1469b5);return _0x4e6125['createRange'](_0x4e6125['createPositionAt'](_0x1469b5,'before'),_0x2a07cb?_0x4e6125['createPositionAfter'](_0x1469b5):_0x4e6125['createPositionAt'](_0x1469b5,'end'));}function Ht(_0x257eed,_0x4b2a8c,_0x546bab,_0x4a4a02,_0x532257){if(_0x257eed['next'])return!0x1;if(!Jt(_0x257eed,_0x4b2a8c))return!0x1;if(_0x546bab['end']['isEqual'](_0x4a4a02['start']))return!0x0;if(_0x257eed['type']!=_0x4b2a8c['type'])return!0x1;if(!_0x546bab['end']['isTouching'](_0x4a4a02['start']))return!0x1;const _0x92692d=_0x532257['createRange'](_0x546bab['end'],_0x4a4a02['start'])['getWalker']();for(const _0x2bc743 of _0x92692d)if(['elementStart','elementEnd']['includes'](_0x2bc743['type'])&&_0x532257['schema']['isLimit'](_0x2bc743['item']))return!0x1;return!0x0;}function Jt(_0x118799,_0x5533e7){if(!_0x118799['_isDataLoaded']||!_0x5533e7['_isDataLoaded'])return!0x1;const _0x4bcba9=new Set(Object['keys'](_0x118799['attributes'])),_0x1b51d2=new Set(Object['keys'](_0x5533e7['attributes']));if(_0x4bcba9['delete']('groupId'),_0x1b51d2['delete']('groupId'),0x0==_0x4bcba9['size']&&0x0==_0x1b51d2['size'])return!0x0;if(_0x4bcba9['size']!=_0x1b51d2['size'])return!0x1;const _0x2a8b38={..._0x118799['attributes']},_0x31f4e1={..._0x5533e7['attributes']};return delete _0x2a8b38['groupId'],delete _0x31f4e1['groupId'],JSON['stringify'](_0x2a8b38)==JSON['stringify'](_0x31f4e1);}function qt(_0x43ddb7,_0x107c48){const _0x2ea216=zt(_0x43ddb7['attributes']),_0x231ed3=zt(_0x107c48);if(!_0x43ddb7['_isDataLoaded'])return!0x1;for(const _0xd233ab of Object['keys'](_0x231ed3))if(!_0xc9e869(_0x2ea216[_0xd233ab],_0x231ed3[_0xd233ab]))return!0x1;return!0x0;}function zt(_0x499858){const _0x4f35fd=Object['assign']({},_0x499858);return delete _0x4f35fd['skipNestingCheck'],delete _0x4f35fd['tablePasteChainId'],_0x4f35fd;}class ae extends/* #__PURE__ -- @preserve */
_0x3931d2(){['model'];['view'];['commentThreadController'];['_editor'];['_acceptCommand'];['_discardCommand'];['_pendingAction'];constructor(_0x1c3795,_0x468e86,_0x2721a8,_0xe745d6){super(),this['model']=_0x468e86,this['view']=_0x2721a8,this['commentThreadController']=_0xe745d6,this['_editor']=_0x1c3795,this['_acceptCommand']=_0x1c3795['commands']['get']('acceptSuggestion'),this['_discardCommand']=_0x1c3795['commands']['get']('discardSuggestion'),this['view']['bind']('isEnabled')['to'](this['_acceptCommand'],this['_discardCommand'],(_0x27052b,_0x15357c)=>_0x27052b||_0x15357c),this['view']['bind']('canAccept')['to'](this['_acceptCommand'],'isEnabled',_0x5bf853=>_0x5bf853&&this['_editor']['model']['canEditAt'](_0x468e86['getRanges']())),this['view']['bind']('canDiscard')['to'](this['_discardCommand'],'isEnabled',_0x140507=>_0x140507&&this['_editor']['model']['canEditAt'](_0x468e86['getRanges']())),this['_pendingAction']=null,_0x2721a8['isDirty']&&this['_setPendingAction'](),this['listenTo'](_0x2721a8,'acceptSuggestion',()=>this['acceptSuggestion']()),this['listenTo'](_0x2721a8,'discardSuggestion',()=>this['discardSuggestion']()),this['listenTo'](_0x2721a8,'change:isDirty',()=>{_0x2721a8['isDirty']?this['_setPendingAction']():this['_removePendingAction']();});}['acceptSuggestion'](){this['_acceptCommand']['execute'](this['model']['id']);}['discardSuggestion'](){this['_discardCommand']['execute'](this['model']['id']);}['destroy'](){this['view']['unbind']('isEnabled'),this['view']['unbind']('canAccept'),this['view']['unbind']('canDiscard'),this['stopListening'](),this['commentThreadController']['destroy'](),this['_pendingAction']&&this['_removePendingAction']();}['_setPendingAction'](){const _0x4ac6d0=o(this['_editor']['locale'],'PENDING_ACTION_SUGGESTION');this['_pendingAction']=this['_editor']['plugins']['get']('PendingActions')['add'](_0x4ac6d0);}['_removePendingAction'](){null!==this['_pendingAction']&&this['_editor']['plugins']['get']('PendingActions')['remove'](this['_pendingAction']),this['_pendingAction']=null;}}class us extends _0x2b0893{['commentsListView'];['commentThreadInputView'];['ariaDescriptionView'];['focusables'];['focusTracker'];['keystrokes'];['focusCycler'];['_model'];['_localUser'];['_config'];constructor(_0x4a0dfc,_0xbb90d,_0x2568d0,_0x2a5ab1){super(_0x4a0dfc),this['commentsListView']=null,this['commentThreadInputView']=null,this['ariaDescriptionView']=new _0x3917d6(_0x4a0dfc,o(_0x4a0dfc,'SUGGESTION_THREAD_DESCRIPTION')),this['set']('isActive',!0x1),this['set']('authoredAt',_0xbb90d['authoredAt']),this['bind']('authoredAt')['to'](_0xbb90d),this['set']('descriptionParts',[]),this['set']('isDirty',!0x1),this['set']('isEnabled',!0x1),this['set']('canAccept',!0x1),this['set']('canDiscard',!0x1),this['bind']('ariaLabel')['to'](this,'length',_0xbb90d,'authoredAt',this,'descriptionParts',(_0x340ce3,_0x2e8d1e,_0x1da92f)=>{const _0xbeabfe=_0x1da92f['map'](_0xc24d8a=>ls(_0xc24d8a['content']))['join']('.\x20')+'.';return o(this['locale'],'SUGGESTION_THREAD_ARIA_LABEL',[_0x340ce3-0x1,_0xbb90d['author']['name'],_0x2e8d1e?_0x2a5ab1['formatDateTime'](_0x2e8d1e):'',new DOMParser()['parseFromString'](_0xbeabfe,'text/html')['body']['textContent']]);}),this['focusables']=new _0x4cfc30(),this['focusTracker']=new _0xfd3157(),this['keystrokes']=new _0x47ddfa(),this['focusCycler']=new _0x2c5cd6({'focusables':this['focusables'],'focusTracker':this['focusTracker'],'keystrokeHandler':this['keystrokes'],'keystrokeHandlerOptions':{'filter':_0x387518=>_0x387518['target']!==this['element']},'actions':{'focusPrevious':'shift+tab','focusNext':'tab'}}),this['_model']=_0xbb90d,this['_localUser']=_0x2568d0,this['_config']=_0x2a5ab1,_0x2a5ab1['disableComments']?this['set']('length',0x1):this['_createCommentViews']();}['render'](){super['render'](),_0x138eb8(this,this['focusables']);}['focus'](){this['element']['focus']();}['destroy'](){this['commentsListView']&&this['commentsListView']['destroy'](),this['commentThreadInputView']&&this['commentThreadInputView']['destroy'](),super['destroy']();}['_createCommentViews'](){const {CommentsListView:_0x264340}=this['_config'];this['commentsListView']=new _0x264340(this['locale'],this['_model']['commentThread'],Object['assign']({'CommentView':this['_config']['CommentView']},this['_config'])),this['commentsListView']['delegate']('removeComment')['to'](this),this['commentsListView']['delegate']('updateComment')['to'](this),this['commentsListView']['bind']('isActive')['to'](this),this['set']('length',this['commentsListView']['length']+0x1),this['bind']('length')['to'](this['commentsListView'],'length',_0x1c6350=>_0x1c6350+0x1),this['commentThreadInputView']=this['_createCommentThreadInputView'](),this['on']('removeComment',()=>this['focus']()),this['bind']('isDirty')['to'](this['commentsListView'],'hasDirtyComment',this['commentThreadInputView']['commentInputView'],'value',(_0x5911ec,_0xda0772)=>_0x5911ec||!!_0xda0772);}['_createCommentThreadInputView'](){const {CommentThreadInputView:_0x43f0d2}=this['_config'],_0x4cfcf5=new _0x43f0d2(this['locale'],this['_localUser'],this['_config']['editorConfig']),_0x5298f7=_0x4cfcf5['commentInputView'];return _0x4cfcf5['bind']('showInput')['to'](this,'isActive',this['_model']['commentThread'],'isReadOnly',_0x5298f7,'value',(_0x1c18d8,_0x44be9a,_0x577d60)=>!!_0x577d60||_0x1c18d8&&!_0x44be9a),_0x5298f7['on']('submit',(_0x42957c,_0x54dffb)=>{this['fire']('addComment',_0x54dffb),_0x5298f7['editor']['setData']('');}),_0x5298f7['on']('cancel',()=>this['focus']()),_0x5298f7['bind']('disabledSubmit')['to'](this['_model']['commentThread'],'isReadOnly'),_0x4cfcf5;}}class re extends us{['suggestionView'];['_descriptionElement'];constructor(_0x3d6037,_0x139763,_0x4b93cb,_0x422f2b){super(_0x3d6037,_0x139763,_0x4b93cb,_0x422f2b),this['set']('type',''),this['bind']('type')['to'](this,'descriptionParts',_0x812ec4=>_0x812ec4&&_0x812ec4[0x0]?_0x812ec4[0x0]['type']:''),this['bind']('description')['to'](this,'descriptionParts',this,'isActive',(_0x1a112a,_0x446609)=>{let _0x36464d='';for(const _0x26b8bb of _0x1a112a)_0x36464d+='<p>'+ls(_0x26b8bb['content'],_0x26b8bb['color'])+'</p>';return _0x446609?_0x36464d:_0x116e46(_0x36464d,{'limit':0x8c});}),this['_descriptionElement']=null,this['suggestionView']=new _0x422f2b['SuggestionView'](_0x3d6037,_0x139763,{'formatDateTime':_0x422f2b['formatDateTime']}),this['suggestionView']['bind']('description')['to'](this),this['suggestionView']['delegate']('acceptSuggestion','discardSuggestion')['to'](this),this['suggestionView']['acceptButton']['bind']('isEnabled')['to'](this,'canAccept'),this['suggestionView']['discardButton']['bind']('isEnabled')['to'](this,'canDiscard'),this['focusables']['add'](this['suggestionView']),this['commentsListView']&&this['focusables']['add'](this['commentsListView']),this['commentThreadInputView']&&this['focusables']['add'](this['commentThreadInputView']),this['setTemplate'](this['getTemplate']());}['getTemplate'](){const _0x1873b9=this['bindTemplate'],_0x2eaedb=[this['suggestionView']];return this['commentsListView']&&_0x2eaedb['push'](this['commentsListView']),this['commentThreadInputView']&&_0x2eaedb['push'](this['commentThreadInputView']),_0x2eaedb['push'](this['ariaDescriptionView']),{'tag':'div','attributes':{'class':['ck','ck-rounded-corners','ck-suggestion-wrapper',_0x1873b9['if']('isActive','ck-suggestion-wrapper--active'),_0x1873b9['to']('type',_0x2dd37f=>'ck-suggestion-'+_0x2dd37f),this['_config']['disableComments']&&'ck-suggestion--disabled-comments'],'data-suggestion-id':this['_model']['id'],'data-thread-id':this['_model']['commentThread']['id'],'data-author-id':this['_model']['author']['id'],'tabindex':0x0,'role':'listitem','aria-label':_0x1873b9['to']('ariaLabel'),'aria-describedby':this['ariaDescriptionView']['id']},'children':_0x2eaedb};}['render'](){super['render'](),this['commentsListView']&&(this['commentsListView']['delegate']('editorReady')['to'](this),this['commentsListView']['delegate']('editorDestroyed')['to'](this)),this['commentThreadInputView']&&(this['commentThreadInputView']['delegate']('editorReady')['to'](this),this['commentThreadInputView']['delegate']('editorDestroyed')['to'](this));}}class ce extends _0x2b0893{['userView'];['acceptButton'];['discardButton'];['focusables'];['focusTracker'];['keystrokes'];['focusCycler'];['_model'];['_config'];constructor(_0x451ec9,_0x31860c,_0x1aa1bb){super(_0x451ec9),this['_model']=_0x31860c,this['_config']=_0x1aa1bb,this['set']('description',''),this['bind']('authoredAt')['to'](_0x31860c),this['acceptButton']=this['_createButton'](o(_0x451ec9,'Accept\x20suggestion'),_0x36c982['check'],'ck-suggestion--accept','acceptSuggestion','sw'),this['discardButton']=this['_createButton'](o(_0x451ec9,'Discard\x20suggestion'),_0x36c982['cancel'],'ck-suggestion--discard','discardSuggestion','sw'),this['userView']=new _0xeceeaf(_0x451ec9,_0x31860c['author'],this['getUserViewNotificationText']()),this['userView']['extendTemplate']({'attributes':{'class':['ck-suggestion__user','ck-annotation__user'],'aria-hidden':!0x0}}),this['focusables']=new _0x4cfc30([this['acceptButton'],this['discardButton']]),this['focusTracker']=new _0xfd3157(),this['keystrokes']=new _0x47ddfa(),this['focusCycler']=new _0x2c5cd6({'focusables':this['focusables'],'focusTracker':this['focusTracker'],'keystrokeHandler':this['keystrokes'],'actions':{'focusPrevious':'shift+tab','focusNext':'tab'},'keystrokeHandlerOptions':{'filter':_0x11ec96=>_0x11ec96['target']!==this['element']}}),this['setTemplate'](this['getTemplate']());}['render'](){super['render']();const _0x51db5f=this['element']['querySelector']('.ck-annotation__content-wrapper');_0x51db5f['innerHTML']=this['description'],this['on']('change:description',(_0x2cab07,_0x523675,_0xbc1271)=>{_0x51db5f['innerHTML']=_0xbc1271;}),this['_setupKeyboardNavigation']();}['getTemplate'](){const _0x56e150=this['bindTemplate'],_0x3d212a=[{'tag':'div','attributes':{'class':['ck-suggestion__info','ck-annotation__info']},'children':[{'tag':'span','children':[{'text':this['userView']['name']}],'attributes':{'class':['ck-suggestion__info-name','ck-annotation__info-name']}},{'tag':'time','attributes':{'datetime':_0x56e150['to']('authoredAt'),'class':['ck-comment__info-time','ck-annotation__info-time']},'children':[{'text':_0x56e150['to']('authoredAt',_0xb4fdf3=>this['_config']['formatDateTime'](_0xb4fdf3))}]}]},{'tag':'div','attributes':{'class':['ck-suggestion__actions','ck-annotation__actions']},'children':[this['acceptButton'],this['discardButton']]},{'tag':'div','attributes':{'class':['ck-annotation__content-wrapper']}}];return this['_model']['isExternal']&&_0x3d212a['push']({'tag':'div','attributes':{'class':['ck-comment__external']},'children':[{'text':this['getExternalSuggestionNote']()}]}),{'tag':'div','attributes':{'class':['ck-suggestion','ck-annotation'],'tabindex':-0x1},'children':[this['userView'],{'tag':'div','attributes':{'class':['ck-suggestion__main','ck-annotation__main'],'role':'presentation'},'children':_0x3d212a}]};}['focus'](){this['element']['focus']();}['getUserViewNotificationText'](){return this['_model']['isExternal']?'importWord'===this['_model']['attributes']['@external']['source']?o(this['locale'],'EXTERNAL_IMPORT_WORD_AVATAR',this['_model']['creator']['name']):o(this['locale'],'EXTERNAL_AVATAR',this['_model']['creator']['name']):null;}['getExternalSuggestionNote'](){return'importWord'===this['_model']['attributes']['@external']['source']?o(this['locale'],'EXTERNAL_IMPORT_WORD_SUGGESTION'):o(this['locale'],'EXTERNAL_SUGGESTION');}['_createButton'](_0x335111,_0x1774b6,_0x167d53,_0x3c6232,_0x1e60aa){const _0x373785=new _0xd61558(this['locale']);return _0x373785['set']({'label':_0x335111,'icon':_0x1774b6,'tooltip':!0x0,'tooltipPosition':_0x1e60aa}),_0x373785['extendTemplate']({'attributes':{'class':_0x167d53}}),_0x373785['on']('execute',()=>{this['fire'](_0x3c6232,this['_model']['id']);}),_0x373785;}['_setupKeyboardNavigation'](){const _0x5d1123=this['element'];this['keystrokes']['listenTo'](_0x5d1123);for(const _0xef4446 of this['focusables'])this['focusTracker']['add'](_0xef4446['element']),this['keystrokes']['listenTo'](_0xef4446['element']);this['keystrokes']['set']('enter',(_0x24025,_0x5d2f7e)=>{_0x5d1123===_0x24025['target']&&(this['focusCycler']['focusFirst'](),_0x5d2f7e());}),this['keystrokes']['set']('esc',(_0x184092,_0x105b0c)=>{_0x5d1123!==_0x184092['target']&&(this['focus'](),_0x105b0c());});}}var he='<!--\x0a\x0a\x20What\x20you\x27re\x20currently\x20looking\x20at\x20is\x20the\x20source\x20code\x20of\x20a\x20legally\x20protected,\x20proprietary\x20software.\x0a\x20CKEditor\x205\x20Collaboration\x20is\x20licensed\x20under\x20a\x20commercial\x20license\x20and\x20protected\x20by\x20copyright\x20law.\x20Where\x20not\x20otherwise\x20indicated,\x0a\x20all\x20CKEditor\x205\x20Collaboration\x20content\x20is\x20authored\x20by\x20CKSource\x20engineers\x20and\x20consists\x20of\x20CKSource-owned\x20intellectual\x20property.\x0a\x0a\x20Copyright\x20(c)\x202003-2024,\x20CKSource\x20Holding\x20sp.\x20z\x20o.o.\x20All\x20rights\x20reserved.\x0a\x0a!-->\x0a\x0a<svg\x20viewBox=\x220\x200\x2020\x2020\x22\x20xmlns=\x22http://www.w3.org/2000/svg\x22><path\x20d=\x22M6.182\x205.514a.643.643\x200\x200\x200-.636.64v-.001a.636.636\x200\x200\x200\x20.636.639h5.682a.641.641\x200\x200\x200\x20.636-.638.637.637\x200\x200\x200-.636-.64H6.182Z\x22/><path\x20d=\x22M6.182\x208.5a.642.642\x200\x200\x200-.588.882.636.636\x200\x200\x200\x20.588.395h5.682a.641.641\x200\x200\x200\x20.636-.639.635.635\x200\x200\x200-.636-.638H6.182Z\x22/><path\x20d=\x22M6.18\x2011.5a.64.64\x200\x200\x200\x200\x201.278h3.133a.64.64\x200\x200\x200\x200-1.278H6.18Z\x22/><path\x20d=\x22m11.772\x2018.308.154-.23c-.195-.098-.304-.192-.328-.28-.024-.09\x200-.274.076-.551.062-.166.099-.296.11-.393a2.934\x202.934\x200\x200\x200\x200-.479c-.137-.41-.2-.685-.186-.83.013-.145.117-.335.313-.57l4.465-6.207c.356-.6\x201.059-.56\x202.11.118\x201.05.68\x201.443\x201.272\x201.177\x201.772l-3.876\x206.833c-.105.27-.22.444-.347.515-.128.07-.4.119-.813.139a2.954\x202.954\x200\x200\x200-.487.21c-.127.09-.244.193-.347.31-.193.174-.332.262-.416.262-.064\x200-.178-.05-.346-.15l-.204.27-1.056-.739Zm-.184.274\x201.039.727-.26.34h-1.496l.717-1.067Z\x22/><path\x20clip-rule=\x22evenodd\x22\x20d=\x22M3.272\x201A1.28\x201.28\x200\x200\x200\x202\x202.28v14.439a1.276\x201.276\x200\x200\x200\x201.272\x201.28h6.838a2.13\x202.13\x200\x200\x201\x20.003-.61c.024-.18.066-.363.113-.534.012-.046.027-.092.043-.136.011-.029.02-.052.025-.069v-.008a7.395\x207.395\x200\x200\x201-.042-.142H3.5V2.46s11\x20.002\x2011\x20.005v6.341l.627-.872c.204-.32.49-.614.873-.819V2.281c0-.707-.569-1.28-1.272-1.28L3.272\x201ZM16\x209.29l-1.5\x202.085V16.5h-2.708c.005.118.002.236-.007.354a.904.904\x200\x200\x201-.013.075l-.001.005a3.108\x203.108\x200\x200\x201-.097.312c-.027.101-.048.19-.062.266a.734.734\x200\x200\x200-.014.287.25.25\x200\x200\x200\x20.068.105.65.65\x200\x200\x200\x20.088.074l.017.011.016.01h.175L14.73\x2018c.697\x200\x201.271-.573\x201.271-1.281v-7.43Z\x22/></svg>\x0a';class d extends _0x5b49f3{['_suggestionToController'];['_viewToController'];['_annotationViews'];['_handleControllerBuffer'];['_disableComments'];static get['requires'](){return[p,_0x4110b0,'CommentsRepository','Annotations','EditorAnnotations'];}static get['pluginName'](){return'TrackChangesUI';}static get['isOfficialPlugin'](){return!0x0;}static get['isPremiumPlugin'](){return!0x0;}constructor(_0x5047e3){super(_0x5047e3),this['_suggestionToController']=new Map(),this['_viewToController']=new Map(),this['_annotationViews']=new Map(),this['_handleControllerBuffer']=new Map();const _0x164c22=this['editor']['config'];_0x164c22['define']('trackChanges.SuggestionThreadView',re),_0x164c22['define']('trackChanges.SuggestionView',ce),_0x164c22['define']('trackChanges.disableComments',!0x1),this['_disableComments']=_0x164c22['get']('trackChanges.disableComments');}['_handleSuggestionControllerDelayed'](_0xb51fc5,_0x1a78c7){0x0===this['_handleControllerBuffer']['size']&&setTimeout(()=>{for(const [_0x4e4edd,_0x63bbd1]of this['_handleControllerBuffer']){const _0x5b1ecc=this['_suggestionToController']['has'](_0x4e4edd);_0x5b1ecc||_0x63bbd1?_0x5b1ecc&&_0x63bbd1&&this['_destroyController'](_0x4e4edd):this['_initializeController'](_0x4e4edd);}this['_handleControllerBuffer']['clear'](),this['editor']['plugins']['get']('EditorAnnotations')['refreshSelectedViews'](),this['_refreshActiveMarkers']();},0xa),this['_handleControllerBuffer']['set'](_0xb51fc5,_0x1a78c7);}['init'](){const _0x168d38=this['editor'],_0x16680f=_0x168d38['plugins']['get']('TrackChangesEditing'),_0x34d9f0=_0x168d38['plugins']['get']('Annotations'),_0x4d2256=_0x168d38['plugins']['get']('EditorAnnotations'),_0x29abd1=_0x168d38['plugins']['get']('CommentsRepository');this['_addUIComponentsToFactory'](),_0x4d2256['addSourceCollector'](()=>{const _0x28e9de=[];for(const [_0x10f5ce,_0x180f1c]of Array['from'](this['_suggestionToController'])){const _0x3e7572=_0x10f5ce['getAllAdjacentSuggestions'](),_0x21e515=[];for(const _0x2aa4f7 of _0x3e7572){if(!_0x2aa4f7['isInContent'])continue;if(_0x2aa4f7['isMultiRange']){_0x21e515['push'](..._0x2aa4f7['getRanges']());continue;}const _0x2b4248=_0x2aa4f7['getFirstRange']();if(_0x21e515['length']>0x0){const _0x378cd0=_0x21e515[0x0]['getJoined'](_0x2b4248);if(_0x378cd0){_0x21e515[0x0]=_0x378cd0;continue;}}_0x21e515['push'](_0x2b4248);}_0x28e9de['push']([_0x180f1c['view'],_0x21e515]);}return _0x28e9de;}),this['listenTo'](_0x16680f,'suggestionLoaded',(_0x12c3d7,_0x23ac47)=>{this['listenTo'](_0x23ac47,'change:previous',(_0x5ee71f,_0x13632f,_0x5b17b9,_0x58189f)=>{_0x23ac47['isInContent']&&(null==_0x5b17b9?(this['_updateController'](_0x58189f['head']),this['_handleSuggestionControllerDelayed'](_0x23ac47,!0x1)):(this['_updateController'](_0x5b17b9['head']),null==_0x58189f&&this['_handleSuggestionControllerDelayed'](_0x23ac47,!0x0)));}),null!==_0x23ac47['previous']?this['_updateController'](_0x23ac47['head']):this['_handleSuggestionControllerDelayed'](_0x23ac47,!0x1);}),this['listenTo'](_0x16680f,'suggestionUnloaded',(_0x188a25,_0x3f1502,_0xd27ccf)=>{this['stopListening'](_0x3f1502,'change:previous'),this['_handleControllerBuffer']['delete'](_0x3f1502),this['_suggestionToController']['has'](_0x3f1502)&&this['_destroyController'](_0x3f1502),_0xd27ccf&&this['_updateController'](_0xd27ccf['head']);}),this['listenTo'](_0x16680f,'suggestionChanged',(_0x4c5d7a,_0x3e7608)=>{this['_updateController'](_0x3e7608);}),this['listenTo'](_0x34d9f0,'change:activeAnnotations',()=>{this['_refreshActiveMarkers']();}),this['listenTo'](_0x29abd1,'addComment',(_0x140fd5,{threadId:_0x583a5d,isFromAdapter:_0x356d65})=>{if(_0x356d65||!_0x16680f['hasSuggestion'](_0x583a5d))return;const _0x27d8e1=_0x16680f['getSuggestion'](_0x583a5d);this['_suggestionToController']['get'](_0x27d8e1)['view']['commentsListView']['focus'](-0x1);},{'priority':'lowest'});}['_refreshActiveMarkers'](){const _0x4c0026=this['editor']['plugins']['get']('Annotations'),_0x1b2392=this['editor']['plugins']['get']('TrackChangesEditing'),_0x3ffecf=Array['from'](_0x4c0026['activeAnnotations'],_0x523651=>_0x523651['innerView'])['filter'](_0x29cf77=>this['_viewToController']['has'](_0x29cf77)),_0x2bc76f=[];for(const _0x3ca6cc of _0x3ffecf){const _0x1e0ab0=this['_viewToController']['get'](_0x3ca6cc)['model']['getAllAdjacentSuggestions']();_0x2bc76f['push'](..._0x1e0ab0['reduce']((_0x50acea,_0x3b851a)=>[..._0x50acea,..._0x3b851a['getMarkerNames']()],[]));}_0x1b2392['activeMarkers']=_0x2bc76f;}['_addUIComponentsToFactory'](){const _0x3f457d=this['editor'],_0x30845d=_0x3f457d['locale'],_0x3de1e2=o(_0x30845d,'Track\x20changes'),_0x259bcf=new Wt([{'type':'switchbutton','model':new _0x1a8b68({'withText':!0x0,'isToggleable':!0x0,'label':_0x3de1e2,'commandName':'trackChanges','role':'menuitemcheckbox'})},{'type':'separator'},{'type':'button','model':new _0x1a8b68({'withText':!0x0,'label':o(_0x30845d,'Accept\x20all\x20suggestions'),'commandName':'acceptAllSuggestions','role':'menuitem'})},{'type':'button','model':new _0x1a8b68({'withText':!0x0,'label':o(_0x30845d,'Accept\x20all\x20selected\x20suggestions'),'commandName':'acceptSelectedSuggestions','role':'menuitem'})},{'type':'button','model':new _0x1a8b68({'withText':!0x0,'label':o(_0x30845d,'Discard\x20all\x20suggestions'),'commandName':'discardAllSuggestions','role':'menuitem'})},{'type':'button','model':new _0x1a8b68({'withText':!0x0,'label':o(_0x30845d,'Discard\x20all\x20selected\x20suggestions'),'commandName':'discardSelectedSuggestions','role':'menuitem'})}]);for(const _0x3a3bda of _0x259bcf)if(me(_0x3a3bda)){const _0xedc839=_0x3f457d['commands']['get'](_0x3a3bda['model']['commandName']);_0x3a3bda['model']['bind']('isOn','isEnabled')['to'](_0xedc839,'value','isEnabled');}_0x3f457d['ui']['componentFactory']['add']('trackChanges',_0x550172=>this['_createToolbarButton'](_0x550172,_0x259bcf,_0x3de1e2)),_0x3f457d['ui']['componentFactory']['add']('menuBar:trackChanges',_0x4de3da=>this['_createMenuBarMenu'](_0x4de3da,_0x259bcf,_0x3de1e2));}['_createToolbarButton'](_0x54b049,_0x56f31b,_0x439de5){const _0x3256e9=Qt(_0x54b049,_0x3c4e28),_0x53a17e=this['editor']['commands']['get']('trackChanges');_0x3256e9['buttonView']['set']({'tooltip':_0x439de5,'label':_0x439de5,'icon':he}),_0x3256e9['buttonView']['bind']('isOn')['to'](_0x53a17e,'value'),_0x3256e9['buttonView']['on']('execute',()=>{_0x53a17e['execute'](),this['editor']['editing']['view']['focus']();}),Kt(_0x3256e9,_0x56f31b,{'role':'menu'});const _0x151c0b=[];for(const _0x5deecd of _0x56f31b)me(_0x5deecd)&&_0x151c0b['push'](this['editor']['commands']['get'](_0x5deecd['model']['commandName']));const _0x2b096b=_0x3256e9['buttonView'];return _0x2b096b['actionView']['unbind']('isEnabled'),_0x2b096b['arrowView']['unbind']('isEnabled'),_0x2b096b['actionView']['bind']('isEnabled')['to'](_0x53a17e,'isEnabled'),_0x2b096b['arrowView']['bind']('isEnabled')['toMany'](_0x151c0b,'isEnabled',(..._0x2e35cb)=>_0x2e35cb['some'](_0x5e300e=>_0x5e300e)),_0x3256e9['on']('execute',_0x328238=>{this['editor']['execute'](_0x328238['source']['commandName']),this['editor']['editing']['view']['focus']();}),_0x3256e9;}['_createMenuBarMenu'](_0x1a2d72,_0xbfc5aa,_0x143688){const _0x29a832=new Yt(_0x1a2d72),_0x5ab90a=this['editor']['commands']['get']('trackChanges');_0x29a832['buttonView']['set']({'label':_0x143688,'icon':he});const _0x3c6eec=new Zt(_0x1a2d72);for(const _0x358c0e of _0xbfc5aa){if('separator'==_0x358c0e['type']){_0x3c6eec['items']['add'](new Xt(_0x1a2d72));continue;}const _0x1c1850=new te(_0x1a2d72,_0x29a832),_0x522062=new _0xb0eac(_0x1a2d72),_0x387a9c=_0x358c0e['model'];_0x522062['bind'](...Object['keys'](_0x387a9c))['to'](_0x387a9c),_0x522062['delegate']('execute')['to'](_0x29a832),_0x522062['on']('execute',()=>{this['editor']['execute'](_0x387a9c['commandName']),this['editor']['editing']['view']['focus']();}),_0x1c1850['children']['add'](_0x522062),_0x3c6eec['items']['add'](_0x1c1850);}return _0x29a832['bind']('isEnabled')['to'](_0x5ab90a,'isEnabled'),_0x29a832['panelView']['children']['add'](_0x3c6eec),_0x29a832;}['_initializeController'](_0x32c5cf){const _0x251e8=this['editor'],_0x189e2a=_0x251e8['config'],_0x4b1686=_0x251e8['plugins']['get']('Annotations'),_0x28d65b=_0x251e8['plugins']['get']('CommentsRepository'),_0x499777=_0x251e8['plugins']['get']('EditorAnnotations'),_0x175c2e=_0x251e8['plugins']['get'](_0x4110b0)['me'],_0x2fcc6a=_0x189e2a['get']('trackChanges')['SuggestionThreadView'],_0x2e9a16=_0x189e2a['get']('trackChanges')['SuggestionView'],{CommentsListView:_0x5c5721,CommentThreadInputView:_0x11c5e8}=_0x251e8['plugins']['get']('CommentsUI');let _0x1b6fe8,_0x330a58,_0x368a89;this['_annotationViews']['has'](_0x32c5cf['id'])?(_0x330a58=this['_annotationViews']['get'](_0x32c5cf['id']),_0x1b6fe8=_0x330a58['mainView']):(_0x1b6fe8=new _0x2fcc6a(_0x251e8['locale'],_0x32c5cf,_0x175c2e,{'disableComments':this['_disableComments'],'editorConfig':_0x189e2a['get']('comments.editorConfig'),'maxCommentsWhenCollapsed':_0x189e2a['get']('comments.maxCommentsWhenCollapsed'),'maxThreadTotalWeight':_0x189e2a['get']('comments.maxThreadTotalWeight'),'maxCommentCharsWhenCollapsed':_0x189e2a['get']('comments.maxCommentCharsWhenCollapsed'),'formatDateTime':_0x3c7d17(_0x189e2a['get']('locale')),'CommentView':_0x189e2a['get']('comments')['CommentView'],'CommentsListView':_0x5c5721,'CommentThreadInputView':_0x11c5e8,'SuggestionView':_0x2e9a16}),_0x1b6fe8['suggestionView']['acceptButton']['on']('execute',()=>{_0x251e8['editing']['view']['focus']();}),_0x1b6fe8['suggestionView']['discardButton']['on']('execute',()=>{_0x251e8['editing']['view']['focus']();}),_0x330a58=_0x4b1686['createAnnotationView'](this['editor']['locale'],_0x1b6fe8),_0x330a58['bind']('isDirty')['to'](_0x1b6fe8,'isDirty'),_0x330a58['bind']('length')['to'](_0x1b6fe8),_0x330a58['bind']('type')['to'](_0x1b6fe8,'type',_0x3de84d=>'suggestion-'+_0x3de84d),_0x1b6fe8['on']('escape',()=>{_0x368a89['fire']('escape');}),this['_annotationViews']['set'](_0x32c5cf['id'],_0x330a58));const _0x1dc5b2=_0x28d65b['createCommentThreadController'](_0x32c5cf['commentThread'],_0x1b6fe8),_0x567478=new ae(_0x251e8,_0x32c5cf,_0x1b6fe8,_0x1dc5b2),_0x1221f3=_0x32c5cf['getAllAdjacentSuggestions']()['filter'](_0x386b0e=>_0x386b0e['isInContent']);_0x1b6fe8['descriptionParts']=_0x251e8['plugins']['get']('TrackChangesEditing')['descriptionFactory']['getDescriptions'](_0x1221f3),this['_suggestionToController']['set'](_0x32c5cf,_0x567478),this['_viewToController']['set'](_0x1b6fe8,_0x567478),_0x368a89=_0x4b1686['createAnnotation']({'view':_0x330a58,'target':()=>{const _0x154488=[],_0xc00401=_0x32c5cf['getAllAdjacentSuggestions']()['filter'](_0x5c64e8=>_0x5c64e8['isInContent']);for(const _0x3908bb of _0xc00401)_0x154488['push'](..._0x3908bb['getMarkers']());return _0x26a1e3(_0x251e8['editing'],_0x154488);},'type':()=>'suggestion-'+_0x567478['view']['type']}),_0x28d65b['_bindAnnotationToEditors'](_0x1b6fe8,_0x368a89),_0x4b1686['add'](_0x368a89),_0x499777['registerAnnotation'](_0x368a89);}['_destroyController'](_0x3cefed){const _0xe78fb0=this['editor']['plugins']['get']('CommentsRepository'),_0x4fb8d7=this['editor']['plugins']['get']('Annotations'),_0x428222=this['_suggestionToController']['get'](_0x3cefed),_0x137e05=_0x428222['view'],_0x5234c1=_0x4fb8d7['getByInnerView'](_0x137e05);_0xe78fb0['_unbindEditors'](_0x137e05),_0x5234c1&&_0x4fb8d7['remove'](_0x5234c1),this['_suggestionToController']['delete'](_0x3cefed),this['_viewToController']['delete'](_0x137e05),_0x428222['destroy']();}['_updateController'](_0x470bd8){if(!_0x470bd8['isInContent']||!this['_suggestionToController']['has'](_0x470bd8))return;const _0x37150e=this['editor']['plugins']['get']('TrackChangesEditing'),_0x442337=this['_suggestionToController']['get'](_0x470bd8),_0x30829f=_0x470bd8['getAllAdjacentSuggestions']();_0x442337['view']['descriptionParts']=_0x37150e['descriptionFactory']['getDescriptions'](_0x30829f);}['destroy'](){for(const _0x1a1f1f of this['_suggestionToController']['keys']())this['_destroyController'](_0x1a1f1f);for(const _0x9807be of this['_annotationViews']['values']())_0x9807be['mainView']['destroy']();super['destroy']();}}function me(_0x39b5be){return'model'in _0x39b5be;}class k extends _0x5b49f3{static get['requires'](){return[p,d,'Comments'];}static get['pluginName'](){return'TrackChanges';}static get['isOfficialPlugin'](){return!0x0;}static get['isPremiumPlugin'](){return!0x0;}set['adapter'](_0x2a617f){this['editor']['plugins']['get'](p)['adapter']=_0x2a617f;}get['adapter'](){return this['editor']['plugins']['get'](p)['adapter'];}['addSuggestion'](_0x372060){return this['editor']['plugins']['get'](p)['addSuggestionData'](_0x372060);}['getSuggestions']({skipNotAttached:_0x47909b=!0x1,toJSON:_0xac7af9=!0x1}={}){return this['editor']['plugins']['get'](p)['getSuggestions']({'skipNotAttached':_0x47909b,'toJSON':_0xac7af9});}['getSuggestion'](_0x3a288e){return this['editor']['plugins']['get'](p)['getSuggestion'](_0x3a288e);}}const w=['Pagination'];class T extends _0x5b49f3{static get['requires'](){return[p];}static get['pluginName'](){return'TrackChangesData';}static get['isOfficialPlugin'](){return!0x0;}static get['isPremiumPlugin'](){return!0x0;}['init'](){const _0x22fcd7=this['editor'];if(_0x22fcd7['config']['define']('trackChangesData.editorCreator',_0x26ab48=>{const _0xdfea4c=_0x22fcd7['model']['document']['getRootNames']()['reduce']((_0x52c92c,_0x5a5921)=>(_0x52c92c[_0x5a5921]='',_0x52c92c),{});return _0x22fcd7['constructor']['create'](_0xdfea4c,_0x26ab48);}),'function'!=typeof _0x22fcd7['config']['get']('trackChangesData')['editorCreator'])throw new _0x49aacd('track-changes-data-invalid-editor-creator');}['getDataWithAcceptedSuggestions'](_0x33b361){return N(this['editor'],!0x0,_0x33b361);}['getDataWithDiscardedSuggestions'](_0x4df0e3){return N(this['editor'],!0x1,_0x4df0e3);}}class D extends _0x5b49f3{['result'];static get['pluginName'](){return'TrackChangesDataGetter';}static get['isOfficialPlugin'](){return!0x0;}static get['isPremiumPlugin'](){return!0x0;}constructor(_0x179052){super(_0x179052),this['result']='end';}['init'](){this['editor']['plugins']['get']('CommentsRepository')['_adapter']={'addCommentThread':()=>new Promise(()=>{}),'getCommentThread':()=>new Promise(()=>{}),'updateCommentThread':()=>new Promise(()=>{}),'resolveCommentThread':()=>new Promise(()=>{}),'reopenCommentThread':()=>new Promise(()=>{}),'removeCommentThread':()=>new Promise(()=>{}),'addComment':()=>new Promise(()=>{}),'updateComment':()=>new Promise(()=>{}),'removeComment':()=>new Promise(()=>{})},this['editor']['plugins']['get']('TrackChangesEditing')['_adapter']=null;}}function v(_0x197a50){return void 0x0!==_0x197a50['getRootsAttributes'];}async function N(_0x29a6df,_0x48f1b6,_0x2c8a07){const _0x41759d=_0x260810(_0x29a6df,w);_0x41759d['plugins']['push'](p,D),_0x41759d['rootsAttributes']=v(_0x29a6df)?_0x29a6df['getRootsAttributes']():void 0x0;const _0x11f902=document['createDocumentFragment'](),_0x3ca9d3=_0x29a6df['config']['get']('trackChangesData')['editorCreator'],_0x1c9ae4=await _0x3ca9d3(_0x41759d,()=>function(_0xa69af0){const _0x3536b0=document['createElement']('div');return _0xa69af0['appendChild'](_0x3536b0),_0x3536b0;}(_0x11f902));!function(_0x5640c5,_0x273fe9){const _0x502557=_0x5640c5['model']['document']['getRootNames']()['reduce']((_0x44c3b7,_0x6a14ad)=>(_0x44c3b7[_0x6a14ad]=_0x5640c5['data']['get']({'rootName':_0x6a14ad}),_0x44c3b7),{}),_0x2706c5=_0x5640c5['plugins']['get']('Users')['users']['map'](_0x450ef9=>({'id':_0x450ef9['id'],'name':_0x450ef9['name']})),_0x478ceb=_0x5640c5['plugins']['get']('TrackChangesEditing')['getSuggestions']({'skipNotAttached':!0x0,'toJSON':!0x0}),_0xa6b66a=_0x5640c5['plugins']['get']('CommentsRepository')['getCommentThreads']({'skipNotAttached':!0x0,'toJSON':!0x0}),_0x203014=_0x273fe9['plugins']['get']('Users'),_0x181fec=_0x273fe9['plugins']['get']('TrackChangesEditing'),_0x27dc60=_0x273fe9['plugins']['get']('CommentsRepository');for(const _0x521d1a of _0x27dc60['getCommentThreads']())_0x521d1a['remove']();for(const _0x3abd20 of _0x2706c5)_0x203014['getUser'](_0x3abd20['id'])||_0x203014['addUser'](_0x3abd20);_0x203014['me']||_0x203014['useAnonymousUser']();for(const _0x49321b of _0xa6b66a)_0x27dc60['addCommentThread'](_0x49321b);for(const _0x41e6be of _0x478ceb)_0x181fec['addSuggestionData'](_0x41e6be);_0x273fe9['data']['set'](_0x502557);}(_0x29a6df,_0x1c9ae4),_0x1c9ae4['execute'](_0x48f1b6?'acceptAllSuggestions':'discardAllSuggestions');const _0x2d9842=v(_0x1c9ae4)?_0x1c9ae4['getFullData'](_0x2c8a07):_0x1c9ae4['data']['get'](_0x2c8a07);return await _0x1c9ae4['destroy'](),_0x2d9842;}export{us as BaseSuggestionThreadView,u as Suggestion,re as SuggestionThreadView,ce as SuggestionView,k as TrackChanges,T as TrackChangesData,p as TrackChangesEditing};