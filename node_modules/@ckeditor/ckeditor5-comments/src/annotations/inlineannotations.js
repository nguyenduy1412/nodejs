/*
 *             Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 *
 *
 *
 *
 *          +---------------------------------------------------------------------------------+
 *          |                                                                                 |
 *          |                                 Hello stranger!                                 |
 *          |                                                                                 |
 *          |                                                                                 |
 *          |   What you're currently looking at is the source code of a legally protected,   |
 *          |    proprietary software. Any attempts to deobfuscate / disassemble this code    |
 *          |               are forbidden and will result in legal consequences.              |
 *          |                                                                                 |
 *          |                                                                                 |
 *          +---------------------------------------------------------------------------------+
 *
 *
 *
 *
 */
const _0xb80f71=_0x2cec;function _0x2cec(_0x2445f9,_0x1ab91c){const _0x355339=_0x3553();return _0x2cec=function(_0x2cecc9,_0x3e158f){_0x2cecc9=_0x2cecc9-0x173;let _0xe1f9c0=_0x355339[_0x2cecc9];return _0xe1f9c0;},_0x2cec(_0x2445f9,_0x1ab91c);}(function(_0xdc40c7,_0x17882e){const _0xa1539f=_0x2cec,_0x4aa485=_0xdc40c7();while(!![]){try{const _0x4326a8=-parseInt(_0xa1539f(0x18a))/0x1*(parseInt(_0xa1539f(0x188))/0x2)+parseInt(_0xa1539f(0x187))/0x3+-parseInt(_0xa1539f(0x1cc))/0x4+-parseInt(_0xa1539f(0x17f))/0x5+parseInt(_0xa1539f(0x1b6))/0x6*(parseInt(_0xa1539f(0x17a))/0x7)+-parseInt(_0xa1539f(0x18d))/0x8+-parseInt(_0xa1539f(0x1a1))/0x9*(-parseInt(_0xa1539f(0x186))/0xa);if(_0x4326a8===_0x17882e)break;else _0x4aa485['push'](_0x4aa485['shift']());}catch(_0x1eef89){_0x4aa485['push'](_0x4aa485['shift']());}}}(_0x3553,0x41267));import{Plugin as _0x11a812}from'ckeditor5/src/core.js';import _0x1f7891 from'./annotationsuis.js';import _0xdd8e40 from'./editorannotations.js';import{ContextualBalloon as _0x5a8db1}from'ckeditor5/src/ui.js';import{MouseObserver as _0x36a5e6}from'ckeditor5/src/engine.js';function _0x3553(){const _0x4017e1=['inlineannotations-detach-not-attached','width','setActiveAnnotation','change:height','stopListening','Esc','update','selection','314336JsMBPr','listenTo','hasView','change:isFocused','visibleView','right','target','annotations','_forceRefresh','updatePosition','map','add','length','init','remove','editing','switchTo','9149tlJoBn','getBoundingClientRect','isFocused','afterInit','bottom','987260ISwaoY','isPremiumPlugin','focus','collapse','get','register','_selectedAnnotations','660190tLETtE','704427BqHdPK','4KhIEdh','find','193597FZOtRQ','delete','_balloon','1303520dZHLfl','detach','_addAnnotationToBalloon','left','editor','getFirstRange','push','domConverter','keystrokes','viewRangeToDom','isOfficialPlugin','from','refresh','getOrderedSelectedAnnotations','every','destroy','hasActive','document','_getBalloonTargetForAnnotation','inlineannotations-not-allowed-with-context','99SsHbbr','activeAnnotation','_manuallyClosed','requires','has','blur','inline','inlineannotations-attach-already-attached','_removeAnnotationFromBalloon','targetRect','includes','InlineAnnotations','view','set','addObserver','mousedown','editableElement','attach','isActive','top','context','606JhydBP','change:visibleView','focusTracker','_addedAnnotations','_setSelectedAnnotations','fromRect','_closeAnnotation','plugins','getClientRects','showStack','isAttached','getByView','clear','pluginName'];_0x3553=function(){return _0x4017e1;};return _0x3553();}import{CKEditorError as _0x429549,Rect as _0x4aecce}from'ckeditor5/src/utils.js';import'./../../theme/annotation-inline.css';export default class c extends _0x11a812{static get[_0xb80f71(0x1a4)](){return[_0xdd8e40,_0x5a8db1,_0x1f7891];}static get[_0xb80f71(0x1c3)](){const _0x2f6324=_0xb80f71;return _0x2f6324(0x1ac);}static get[_0xb80f71(0x197)](){return!0x0;}static get[_0xb80f71(0x180)](){return!0x0;}constructor(_0x4f0c81){const _0x57252b=_0xb80f71;super(_0x4f0c81),_0x4f0c81[_0x57252b(0x178)][_0x57252b(0x1ad)][_0x57252b(0x1af)](_0x36a5e6),this[_0x57252b(0x1c0)]=!0x1,this[_0x57252b(0x1ae)](_0x57252b(0x1a2),null),this[_0x57252b(0x1d3)]=null,this[_0x57252b(0x1a3)]=new Set(),this[_0x57252b(0x18c)]=_0x4f0c81[_0x57252b(0x1bd)][_0x57252b(0x183)](_0x5a8db1),this[_0x57252b(0x1b9)]=new Set(),this[_0x57252b(0x185)]=[],this[_0x57252b(0x1d4)]=!0x1;}[_0xb80f71(0x176)](){const _0x89d360=_0xb80f71,_0x362878=this[_0x89d360(0x191)][_0x89d360(0x1bd)][_0x89d360(0x183)](_0x1f7891);_0x362878[_0x89d360(0x1b5)]===this[_0x89d360(0x191)]&&(_0x362878[_0x89d360(0x184)](_0x89d360(0x1a7),this),this[_0x89d360(0x191)][_0x89d360(0x195)][_0x89d360(0x1ae)](_0x89d360(0x1c9),(_0x539a5a,_0x257c84)=>{const _0x2ecc56=_0x89d360,_0x48a788=this[_0x2ecc56(0x18c)];if(this[_0x2ecc56(0x1c0)]&&_0x48a788[_0x2ecc56(0x1d0)]){const _0x54d561=this[_0x2ecc56(0x1d3)][_0x2ecc56(0x1c1)](_0x48a788[_0x2ecc56(0x1d0)]);_0x54d561&&this[_0x2ecc56(0x1bc)](_0x54d561),_0x257c84();}}));}[_0xb80f71(0x17d)](){const _0x5116dc=_0xb80f71,_0x37c8cb=this[_0x5116dc(0x191)][_0x5116dc(0x1bd)][_0x5116dc(0x183)](_0x1f7891);_0x37c8cb[_0x5116dc(0x1b5)]===this[_0x5116dc(0x191)]&&(_0x37c8cb[_0x5116dc(0x19d)]()||_0x37c8cb[_0x5116dc(0x179)](_0x5116dc(0x1a7)));}[_0xb80f71(0x1c6)](_0x480bf0){const _0x28f0cb=_0xb80f71;_0x480bf0!==this[_0x28f0cb(0x1a2)]&&(this[_0x28f0cb(0x1a2)]&&(this[_0x28f0cb(0x1a2)][_0x28f0cb(0x1b3)]=!0x1),_0x480bf0&&this[_0x28f0cb(0x191)]['ui'][_0x28f0cb(0x1b8)][_0x28f0cb(0x17c)]&&(this[_0x28f0cb(0x1d3)][_0x28f0cb(0x1a5)](_0x480bf0)&&this[_0x28f0cb(0x18f)](_0x480bf0,!0x0),_0x480bf0[_0x28f0cb(0x1b3)]=!0x0),_0x480bf0||this[_0x28f0cb(0x1ba)]([]),this[_0x28f0cb(0x1a2)]=_0x480bf0);}[_0xb80f71(0x1b2)](_0x56c6cb){const _0x3e00ec=_0xb80f71;this[_0x3e00ec(0x1d3)]=_0x56c6cb;const _0x492a91=this[_0x3e00ec(0x191)][_0x3e00ec(0x1bd)][_0x3e00ec(0x183)](_0x1f7891),_0x4f150c=this[_0x3e00ec(0x18c)];if(this[_0x3e00ec(0x1c0)])throw new _0x429549(_0x3e00ec(0x1a8),this);if(_0x492a91[_0x3e00ec(0x1b5)]!==this[_0x3e00ec(0x191)])throw new _0x429549(_0x3e00ec(0x1a0),this);const _0x4ae27f=this[_0x3e00ec(0x191)][_0x3e00ec(0x1bd)][_0x3e00ec(0x183)](_0xdd8e40);this[_0x3e00ec(0x1cd)](_0x4ae27f,_0x3e00ec(0x199),()=>{const _0x59ae61=_0x3e00ec,_0x77401=_0x4ae27f[_0x59ae61(0x19a)]({'annotations':this[_0x59ae61(0x1d3)],'activeAnnotation':this[_0x59ae61(0x1a2)]});var _0xcad38c,_0x38f52c;!this[_0x59ae61(0x1d4)]&&(_0xcad38c=_0x77401,_0x38f52c=this[_0x59ae61(0x185)],_0xcad38c[_0x59ae61(0x175)]===_0x38f52c[_0x59ae61(0x175)]&&_0xcad38c[_0x59ae61(0x19b)](_0x4e0fa1=>_0x38f52c[_0x59ae61(0x1ab)](_0x4e0fa1)))||(this[_0x59ae61(0x1d4)]=!0x1,this[_0x59ae61(0x1ba)](_0x77401),this[_0x59ae61(0x1c6)](_0x77401[0x0]||null));}),this[_0x3e00ec(0x1cd)](_0x4ae27f,_0x3e00ec(0x1a6),(_0x2031b9,{isAnnotationTracked:_0x1f9f0b})=>{const _0x2fa2f3=_0x3e00ec;this[_0x2fa2f3(0x1a2)]&&_0x1f9f0b(this[_0x2fa2f3(0x1a2)])&&(this[_0x2fa2f3(0x1ba)]([]),this[_0x2fa2f3(0x1c6)](null));}),this[_0x3e00ec(0x1cd)](this[_0x3e00ec(0x191)]['ui'][_0x3e00ec(0x1b8)],_0x3e00ec(0x1cf),(_0x5a3130,_0x536657,_0x1c28d8)=>{const _0x419a9f=_0x3e00ec;_0x1c28d8||this[_0x419a9f(0x1c6)](null);}),this[_0x3e00ec(0x1cd)](_0x56c6cb,_0x3e00ec(0x177),(_0x2a6942,_0x437c57)=>{const _0x3ce63a=_0x3e00ec;this[_0x3ce63a(0x1a9)](_0x437c57),_0x437c57===this[_0x3ce63a(0x1a2)]&&this[_0x3ce63a(0x1c6)](null);}),this[_0x3e00ec(0x1cd)](_0x4f150c,_0x3e00ec(0x1b7),(_0x1c214c,_0x3cfb8b,_0x3e23dc,_0x501918)=>{const _0x3013f5=_0x3e00ec;_0x501918&&this[_0x3013f5(0x1c8)](_0x501918);const _0x2206c9=_0x56c6cb[_0x3013f5(0x1c1)](_0x3e23dc);_0x3e23dc&&_0x2206c9&&(this[_0x3013f5(0x1cd)](_0x3e23dc,_0x3013f5(0x1c7),()=>{const _0x2528ac=_0x3013f5;_0x4f150c[_0x2528ac(0x1d5)]();}),this[_0x3013f5(0x1cd)](_0x3e23dc,_0x3013f5(0x1c9),()=>{const _0x3743ea=_0x3013f5;this[_0x3743ea(0x1bc)](_0x2206c9),this[_0x3743ea(0x191)][_0x3743ea(0x178)][_0x3743ea(0x1ad)][_0x3743ea(0x181)]();}),this[_0x3013f5(0x1a2)]!==_0x2206c9&&this[_0x3013f5(0x1c6)](_0x2206c9));}),this[_0x3e00ec(0x1cd)](this[_0x3e00ec(0x191)]['ui'],_0x3e00ec(0x1ca),()=>{const _0xc11d6b=_0x3e00ec;_0x4f150c[_0xc11d6b(0x1d0)]&&(_0x56c6cb[_0xc11d6b(0x1c1)](_0x4f150c[_0xc11d6b(0x1d0)])&&_0x4f150c[_0xc11d6b(0x1d5)]());}),this[_0x3e00ec(0x1cd)](this[_0x3e00ec(0x191)][_0x3e00ec(0x178)][_0x3e00ec(0x1ad)][_0x3e00ec(0x19e)],_0x3e00ec(0x1b0),()=>{const _0x199080=_0x3e00ec;this[_0x199080(0x1d4)]=!0x0,this[_0x199080(0x1a3)][_0x199080(0x1c2)]();}),this[_0x3e00ec(0x191)][_0x3e00ec(0x178)][_0x3e00ec(0x1ad)][_0x3e00ec(0x19e)][_0x3e00ec(0x1cb)][_0x3e00ec(0x1b1)]&&this[_0x3e00ec(0x191)][_0x3e00ec(0x178)][_0x3e00ec(0x1ad)][_0x3e00ec(0x181)](),this[_0x3e00ec(0x1c0)]=!0x0;}[_0xb80f71(0x18e)](){const _0x41be6e=_0xb80f71;if(!this[_0x41be6e(0x1c0)])throw new _0x429549(_0x41be6e(0x1c4),this);this[_0x41be6e(0x1c6)](null);for(const _0x163bdd of this[_0x41be6e(0x1b9)])this[_0x41be6e(0x1a9)](_0x163bdd);this[_0x41be6e(0x1c8)](),this[_0x41be6e(0x1c0)]=!0x1,this[_0x41be6e(0x1d3)]=null;}[_0xb80f71(0x19c)](){const _0x3d1715=_0xb80f71;this[_0x3d1715(0x1c0)]&&this[_0x3d1715(0x18e)]();}[_0xb80f71(0x1ba)](_0x1686f7){const _0x214c49=_0xb80f71;for(const _0x1d9e72 of this[_0x214c49(0x185)])_0x1686f7[_0x214c49(0x1ab)](_0x1d9e72)||this[_0x214c49(0x1a3)][_0x214c49(0x18b)](_0x1d9e72);for(const _0x3e54f6 of this[_0x214c49(0x1d3)])_0x1686f7[_0x214c49(0x1ab)](_0x3e54f6)||this[_0x214c49(0x1a9)](_0x3e54f6);if(this[_0x214c49(0x191)]['ui'][_0x214c49(0x1b8)][_0x214c49(0x17c)]){for(const _0x165fab of _0x1686f7)this[_0x214c49(0x18f)](_0x165fab);}this[_0x214c49(0x185)]=_0x1686f7;}[_0xb80f71(0x18f)](_0x2b3455,_0x164bfa=!0x1){const _0x274a3e=_0xb80f71;this[_0x274a3e(0x1a3)][_0x274a3e(0x1a5)](_0x2b3455)||(this[_0x274a3e(0x1b9)][_0x274a3e(0x1a5)](_0x2b3455)||this[_0x274a3e(0x18c)][_0x274a3e(0x1ce)](_0x2b3455[_0x274a3e(0x1ad)])||(this[_0x274a3e(0x1b9)][_0x274a3e(0x174)](_0x2b3455),this[_0x274a3e(0x18c)][_0x274a3e(0x174)]({'stackId':_0x2b3455[_0x274a3e(0x1ad)]['id'],'view':_0x2b3455[_0x274a3e(0x1ad)],'position':{'target':()=>this[_0x274a3e(0x19f)](_0x2b3455)}})),_0x164bfa&&this[_0x274a3e(0x18c)][_0x274a3e(0x1bf)](_0x2b3455[_0x274a3e(0x1ad)]['id']));}[_0xb80f71(0x19f)](_0x4283b4){const _0x1c9c1a=_0xb80f71,_0x44fb5a=_0x4283b4[_0x1c9c1a(0x1d2)],_0x5ef823=this[_0x1c9c1a(0x191)][_0x1c9c1a(0x178)][_0x1c9c1a(0x1ad)],_0x2aa00d=_0x5ef823[_0x1c9c1a(0x19e)][_0x1c9c1a(0x1cb)][_0x1c9c1a(0x192)](),_0x4070c9=_0x5ef823[_0x1c9c1a(0x194)][_0x1c9c1a(0x196)](_0x2aa00d);if(_0x4070c9[_0x1c9c1a(0x182)](!0x0),_0x44fb5a){if(_0x44fb5a instanceof _0x4aecce)return _0x44fb5a;let _0x5cc2bf=[];for(const _0x1336c9 of _0x44fb5a)_0x5cc2bf[_0x1c9c1a(0x193)](...(_0x3b0a47=_0x1336c9[_0x1c9c1a(0x1be)](),Array[_0x1c9c1a(0x198)](_0x3b0a47)[_0x1c9c1a(0x173)](DOMRect[_0x1c9c1a(0x1bb)])));_0x5cc2bf=function(_0x3a3357){const _0x279a13=_0x1c9c1a,_0x44bff3=[];let _0x5a55bc=_0x3a3357[0x0];for(let _0x18bd68=0x1;_0x18bd68<_0x3a3357[_0x279a13(0x175)];_0x18bd68++)b(_0x5a55bc,_0x3a3357[_0x18bd68])?_0x5a55bc[_0x279a13(0x1c5)]+=_0x3a3357[_0x18bd68][_0x279a13(0x1c5)]:(_0x44bff3[_0x279a13(0x193)](_0x5a55bc),_0x5a55bc=_0x3a3357[_0x18bd68]);return _0x44bff3[_0x279a13(0x193)](_0x5a55bc),_0x44bff3;}(_0x5cc2bf);const _0x9e8002=_0x4070c9[_0x1c9c1a(0x17b)]();return _0x5cc2bf[_0x1c9c1a(0x189)](_0x42ca9c=>_0x42ca9c[_0x1c9c1a(0x1b4)]<=_0x9e8002[_0x1c9c1a(0x1b4)]&&_0x42ca9c[_0x1c9c1a(0x17e)]>=_0x9e8002[_0x1c9c1a(0x17e)]&&_0x42ca9c[_0x1c9c1a(0x190)]<=_0x9e8002[_0x1c9c1a(0x190)]&&_0x42ca9c[_0x1c9c1a(0x1d1)]>=_0x9e8002[_0x1c9c1a(0x1d1)])||_0x5cc2bf[0x0];}var _0x3b0a47;return _0x4283b4[_0x1c9c1a(0x1aa)]||_0x4070c9;}[_0xb80f71(0x1a9)](_0x2ec9bc){const _0x2fa0a0=_0xb80f71;this[_0x2fa0a0(0x1b9)][_0x2fa0a0(0x1a5)](_0x2ec9bc)&&this[_0x2fa0a0(0x18c)][_0x2fa0a0(0x1ce)](_0x2ec9bc[_0x2fa0a0(0x1ad)])&&(this[_0x2fa0a0(0x1b9)][_0x2fa0a0(0x18b)](_0x2ec9bc),this[_0x2fa0a0(0x18c)][_0x2fa0a0(0x177)](_0x2ec9bc[_0x2fa0a0(0x1ad)]));}[_0xb80f71(0x1bc)](_0x260899){const _0x3b12a9=_0xb80f71;this[_0x3b12a9(0x1a3)][_0x3b12a9(0x174)](_0x260899),this[_0x3b12a9(0x1a9)](_0x260899);}}function b(_0x18876f,_0x3ba8a5){const _0x344570=_0xb80f71;return _0x18876f[_0x344570(0x1b4)]===_0x3ba8a5[_0x344570(0x1b4)]&&_0x18876f[_0x344570(0x17e)]===_0x3ba8a5[_0x344570(0x17e)]&&_0x18876f[_0x344570(0x1d1)]===_0x3ba8a5[_0x344570(0x190)];}