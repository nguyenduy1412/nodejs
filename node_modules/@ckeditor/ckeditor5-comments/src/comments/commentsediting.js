/*
 *             Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 *
 *
 *
 *
 *          +---------------------------------------------------------------------------------+
 *          |                                                                                 |
 *          |                                 Hello stranger!                                 |
 *          |                                                                                 |
 *          |                                                                                 |
 *          |   What you're currently looking at is the source code of a legally protected,   |
 *          |    proprietary software. Any attempts to deobfuscate / disassemble this code    |
 *          |               are forbidden and will result in legal consequences.              |
 *          |                                                                                 |
 *          |                                                                                 |
 *          +---------------------------------------------------------------------------------+
 *
 *
 *
 *
 */
const _0x4c962d=_0x54a9;(function(_0x30b0fd,_0x5ad397){const _0x4a2b66=_0x54a9,_0x552bdc=_0x30b0fd();while(!![]){try{const _0x242d1a=-parseInt(_0x4a2b66(0xe7))/0x1*(-parseInt(_0x4a2b66(0xcf))/0x2)+parseInt(_0x4a2b66(0xeb))/0x3+-parseInt(_0x4a2b66(0x101))/0x4*(parseInt(_0x4a2b66(0xed))/0x5)+-parseInt(_0x4a2b66(0x115))/0x6*(parseInt(_0x4a2b66(0xee))/0x7)+-parseInt(_0x4a2b66(0x10c))/0x8*(-parseInt(_0x4a2b66(0xa6))/0x9)+-parseInt(_0x4a2b66(0xdf))/0xa*(-parseInt(_0x4a2b66(0xf7))/0xb)+parseInt(_0x4a2b66(0x7d))/0xc;if(_0x242d1a===_0x5ad397)break;else _0x552bdc['push'](_0x552bdc['shift']());}catch(_0x51ab58){_0x552bdc['push'](_0x552bdc['shift']());}}}(_0x4466,0x83e81));import{Plugin as _0x28833b}from'ckeditor5/src/core.js';import{getEnvKeystrokeText as _0x2785c0,scrollViewportToShowTarget as _0x4993e4}from'ckeditor5/src/utils.js';import _0x5c3311 from'./commentsrepository.js';import _0xeb184c from'./addcommentthreadcommand.js';import{surroundingMarkersDetector as _0x1547a4,getAllMarkersDomElementsSorted as _0x3c70e2,FOCUS_ANNOTATION_KEYSTROKE as _0x2da582,Users as _0x4c240b}from'ckeditor5-collaboration/src/collaboration-core.js';import _0x45fa03 from'../annotations/editorannotations.js';import _0x5bbcd9 from'./integrations/commentsrestrictededitingmode.js';function _0x54a9(_0x98884f,_0xcec594){const _0x446687=_0x4466();return _0x54a9=function(_0x54a9f5,_0x11de86){_0x54a9f5=_0x54a9f5-0x7b;let _0x5b6840=_0x446687[_0x54a9f5];return _0x5b6840;},_0x54a9(_0x98884f,_0xcec594);}import _0x1d1823 from'./integrations/importword.js';import _0x2a95bc from'./integrations/clipboard.js';import'../../theme/commentmarker.css';import _0x2a0692 from'../annotations/annotations.js';import{getTranslation as _0x5e02f}from'../utils/common-translations.js';export default class r extends _0x28833b{static get[_0x4c962d(0x10b)](){return[_0x5c3311,_0x45fa03,_0x4c240b,_0x5bbcd9,_0x1d1823,_0x2a95bc];}static get[_0x4c962d(0xaf)](){const _0x5e7f65=_0x4c962d;return _0x5e7f65(0xb0);}static get[_0x4c962d(0xde)](){return!0x0;}static get[_0x4c962d(0x84)](){return!0x0;}constructor(_0x1e46cb){const _0x4af5d0=_0x4c962d;super(_0x1e46cb),this[_0x4af5d0(0xb8)](_0x4af5d0(0xb2),!0x0),_0x1e46cb[_0x4af5d0(0x90)][_0x4af5d0(0x8a)](_0x4af5d0(0x102),()=>this[_0x4af5d0(0xb2)]=!0x1),this[_0x4af5d0(0xb8)](_0x4af5d0(0x98),null),this['on'](_0x4af5d0(0xb6),(_0x184de3,_0x467e94,_0x3903aa,_0x4ee534)=>{const _0x47ac3d=_0x4af5d0,_0x19bfb9=_0x3903aa?splitMarkerName(_0x3903aa)['id']:null;if(_0x1e46cb[_0x47ac3d(0xaa)][_0x47ac3d(0x10a)](()=>{const _0xa9f64a=_0x47ac3d;if(_0x19bfb9){const _0x59091d=this[_0xa9f64a(0xd6)](_0x19bfb9);for(const _0x23a6a6 of _0x59091d)_0x1e46cb[_0xa9f64a(0xc6)][_0xa9f64a(0x89)](_0x23a6a6);}if(_0x4ee534){const {id:_0x4f4545}=splitMarkerName(_0x4ee534),_0x480ef4=this[_0xa9f64a(0xd6)](_0x4f4545);for(const _0x30259e of _0x480ef4)_0x1e46cb[_0xa9f64a(0xc6)][_0xa9f64a(0x89)](_0x30259e);}}),_0x19bfb9){const _0x3eb53a=_0x1e46cb[_0x47ac3d(0xec)][_0x47ac3d(0x96)](_0x5c3311)[_0x47ac3d(0x8d)](_0x19bfb9);_0x3eb53a&&_0x3eb53a[_0x47ac3d(0x81)]&&this[_0x47ac3d(0xe4)](_0x19bfb9);}}),this[_0x4af5d0(0x103)]();}[_0x4c962d(0xa8)](){const _0xd3c1e5=_0x4c962d,_0x305e1a=this[_0xd3c1e5(0xc4)],_0x45ad8f=_0x305e1a[_0xd3c1e5(0xec)][_0xd3c1e5(0x96)](_0x5c3311),_0x33b1c2=_0x305e1a[_0xd3c1e5(0xf1)][_0xd3c1e5(0x96)](_0xd3c1e5(0x110));_0x305e1a[_0xd3c1e5(0x7c)][_0xd3c1e5(0xc1)](_0xd3c1e5(0xe0),new _0xeb184c(_0x305e1a)),this[_0xd3c1e5(0x9a)](_0x305e1a,_0xd3c1e5(0xc8),(_0x5bea33,_0x1528f9,_0x2d7474)=>{const _0x4afc81=_0xd3c1e5;_0x45ad8f[_0x4afc81(0xe3)](_0x2d7474,_0x305e1a[_0x4afc81(0xf1)][_0x4afc81(0x96)](_0x4afc81(0x110)));}),this[_0xd3c1e5(0x9a)](_0x45ad8f,mt(_0xd3c1e5(0xe0),_0x33b1c2),(_0x4a02d8,{threadId:_0x51fdb3})=>{const _0x4ff39c=_0xd3c1e5,_0x2def91=this[_0x4ff39c(0xc4)][_0x4ff39c(0xec)][_0x4ff39c(0x96)](_0x5c3311)[_0x4ff39c(0x8d)](_0x51fdb3);_0x2def91&&_0x2def91[_0x4ff39c(0x10f)]&&this[_0x4ff39c(0x9b)](_0x51fdb3);}),this[_0xd3c1e5(0x9a)](_0x45ad8f,mt(_0xd3c1e5(0xab),_0x33b1c2),(_0x4a6f93,{threadId:_0xf9e7f})=>{const _0x1a8e56=_0xd3c1e5;_0x305e1a[_0x1a8e56(0xaa)][_0x1a8e56(0x92)]({'isUndoable':!0x1},_0x5ef17f=>{const _0x209ffd=_0x1a8e56,_0x3b28c9=this[_0x209ffd(0xd6)](_0xf9e7f);for(const _0x2df857 of _0x3b28c9)_0x5ef17f[_0x209ffd(0xad)](_0x2df857);});}),this[_0xd3c1e5(0x9a)](_0x45ad8f,mt(_0xd3c1e5(0xb4),_0x33b1c2),(_0x3d26b2,{threadId:_0x32af9f})=>{const _0x5da13a=_0xd3c1e5;(this[_0x5da13a(0xe5)](_0x32af9f),this[_0x5da13a(0xc4)][_0x5da13a(0xc6)][_0x5da13a(0xd3)][_0x5da13a(0xce)])&&(this[_0x5da13a(0xc4)][_0x5da13a(0xec)][_0x5da13a(0x96)](_0x5c3311)[_0x5da13a(0x8d)](_0x32af9f)[_0x5da13a(0x10f)]||this[_0x5da13a(0xc4)][_0x5da13a(0xc6)][_0x5da13a(0xd3)][_0x5da13a(0xef)]());},{'priority':_0xd3c1e5(0x9e)}),this[_0xd3c1e5(0x9a)](_0x45ad8f,mt(_0xd3c1e5(0x104),_0x33b1c2),(_0x2dc0ac,{threadId:_0x44971d})=>{const _0x538ae7=_0xd3c1e5;this[_0x538ae7(0xe5)](_0x44971d);},{'priority':_0xd3c1e5(0x9e)}),this[_0xd3c1e5(0x9a)](_0x45ad8f,mt(_0xd3c1e5(0x8b),_0x33b1c2),(_0x416807,{threadId:_0x190328,isFromAdapter:_0x83d6b0})=>{const _0x3f37fc=_0xd3c1e5,_0x3ffc51=this[_0x3f37fc(0xd6)](_0x190328);if(_0x83d6b0||0x0==_0x3ffc51[_0x3f37fc(0x8e)]||!_0x45ad8f[_0x3f37fc(0x7f)](_0x190328))return;0x1===_0x45ad8f[_0x3f37fc(0x8d)](_0x190328)[_0x3f37fc(0x8e)]&&_0x305e1a[_0x3f37fc(0xaa)][_0x3f37fc(0x92)]({'isUndoable':!0x1},_0x4ab09d=>{const _0x28bfe5=_0x3f37fc;for(const _0x463b76 of _0x3ffc51)_0x4ab09d[_0x28bfe5(0xc0)](_0x463b76,{'usingOperation':!0x0,'affectsData':!0x0});});},{'priority':_0xd3c1e5(0x9e)}),this[_0xd3c1e5(0xb7)](),this[_0xd3c1e5(0xac)]();}[_0x4c962d(0x93)](){const _0xc65ab5=_0x4c962d,_0x4ab2f9=this[_0xc65ab5(0xc4)][_0xc65ab5(0xec)][_0xc65ab5(0x96)](_0x5c3311),_0x2ac783=this[_0xc65ab5(0xc4)][_0xc65ab5(0xf1)][_0xc65ab5(0x96)](_0xc65ab5(0x110));for(const _0x37d624 of _0x4ab2f9[_0xc65ab5(0x111)]({'channelId':_0x2ac783}))_0x4ab2f9[_0xc65ab5(0x10e)](_0x37d624['id']),_0x4ab2f9[_0xc65ab5(0xf0)][_0xc65ab5(0xd8)](_0x37d624['id']);super[_0xc65ab5(0x93)]();}[_0x4c962d(0xbf)](_0x3bcf1b){const _0x1b39e2=_0x4c962d;return this[_0x1b39e2(0xd6)](_0x3bcf1b)[_0x1b39e2(0x8e)]>0x0;}[_0x4c962d(0xd6)](_0x3080ab){const _0x5a932f=_0x4c962d,_0x3d821c=[];for(const _0x4cdfe9 of this[_0x5a932f(0xc4)][_0x5a932f(0xaa)][_0x5a932f(0x85)])_0x4cdfe9[_0x5a932f(0xd4)][_0x5a932f(0xbb)](_0x5a932f(0xe6)+_0x3080ab)&&_0x3d821c[_0x5a932f(0xe2)](_0x4cdfe9);return _0x3d821c;}[_0x4c962d(0xe4)](_0x2de573){const _0x12f3f7=_0x4c962d,_0x498068=this[_0x12f3f7(0xd9)](_0x2de573);_0x498068&&setTimeout(()=>{const _0x300282=_0x12f3f7;this[_0x300282(0x98)]&&splitMarkerName(this[_0x300282(0x98)])['id']===_0x2de573&&_0x4993e4({'target':_0x498068[0x0],'viewportOffset':0x64,'alignToTop':!0x0});},0x32);}[_0x4c962d(0xe5)](_0x49bc6e){const _0xacefd3=_0x4c962d;this[_0xacefd3(0xc4)][_0xacefd3(0xaa)][_0xacefd3(0x10a)](()=>{const _0x3e0fc3=_0xacefd3;for(const _0x3438c3 of this[_0x3e0fc3(0xd6)](_0x49bc6e))this[_0x3e0fc3(0xc4)][_0x3e0fc3(0xc6)][_0x3e0fc3(0x89)](_0x3438c3);});}[_0x4c962d(0x9b)](_0x3c5ab5){const _0x4bed8d=_0x4c962d,_0x516191=this[_0x4bed8d(0xc4)][_0x4bed8d(0xec)][_0x4bed8d(0x96)](_0x5c3311),_0x4fe860=this[_0x4bed8d(0xc4)][_0x4bed8d(0xec)][_0x4bed8d(0x96)](_0x45fa03),_0x450fee=_0x516191[_0x4bed8d(0x8d)](_0x3c5ab5);if(!_0x450fee[_0x4bed8d(0x100)]){const _0x5b784e=_0x450fee[_0x4bed8d(0xae)](()=>this[_0x4bed8d(0xd9)](_0x450fee['id']));_0x4fe860[_0x4bed8d(0xb3)](_0x5b784e),_0x450fee[_0x4bed8d(0x99)]=!0x1;}}[_0x4c962d(0xb7)](){const _0x32e0d8=_0x4c962d,_0x561a90=this[_0x32e0d8(0xc4)],_0x4adb93=_0x561a90[_0x32e0d8(0xec)][_0x32e0d8(0x96)](_0x4c240b);_0x561a90[_0x32e0d8(0x94)][_0x32e0d8(0xcc)](_0x32e0d8(0xd0))[_0x32e0d8(0x80)]({'model':_0x32e0d8(0xfc),'view':(_0x3b736c,_0x5f36c3)=>{const _0x306499=_0x32e0d8,{id:_0x272407}=splitMarkerName(_0x3b736c[_0x306499(0xa0)]),_0x562652=_0x561a90[_0x306499(0xec)][_0x306499(0x96)](_0x5c3311)[_0x306499(0x8d)](_0x272407),_0x534d55=this[_0x306499(0x98)]&&splitMarkerName(this[_0x306499(0x98)])['id']===_0x272407;let _0x100b2e;if(_0x562652&&_0x562652[_0x306499(0x81)]&&!_0x534d55&&_0x3b736c[_0x306499(0x116)])return _0x5f36c3[_0x306499(0xfe)][_0x306499(0xe8)](_0x3b736c[_0x306499(0x116)],_0x306499(0xa2)+_0x3b736c[_0x306499(0xa0)]),_0x5f36c3[_0x306499(0xfe)][_0x306499(0xe8)](_0x3b736c[_0x306499(0x116)],_0x306499(0xc9)+_0x3b736c[_0x306499(0xa0)]),null;const _0x4724ad=[_0x306499(0x9d)];return _0x534d55&&_0x4724ad[_0x306499(0xe2)](_0x306499(0x9c)),_0x100b2e=_0x562652&&_0x562652[_0x306499(0x8e)]?_0x562652[_0x306499(0x8f)][_0x306499(0xdd)][_0x306499(0xa7)]['id']:_0x4adb93['me']['id'],{'classes':_0x4724ad,'attributes':{'data-comment':_0x272407,'data-author-id':_0x100b2e}};}}),_0x561a90[_0x32e0d8(0x94)][_0x32e0d8(0xcc)](_0x32e0d8(0x95))[_0x32e0d8(0xc3)]({'model':_0x32e0d8(0xfc),'view':(_0x5a71d9,{options:_0x14ebb4})=>{const _0x467618=_0x32e0d8,_0x481f80=_0x561a90[_0x467618(0xec)][_0x467618(0x96)](_0x5c3311),_0x5a61f9=_0x561a90[_0x467618(0xaa)][_0x467618(0x85)][_0x467618(0x96)](_0x5a71d9),{id:_0x5d4d28,part:_0x24651e}=splitMarkerName(_0x5a71d9);if(_0x5a61f9&&!_0x5a61f9[_0x467618(0xf4)])return null;if(_0x14ebb4[_0x467618(0x87)]){const _0x5d3f51=_0x481f80[_0x467618(0x8d)](_0x5d4d28);if(_0x5d3f51&&_0x5d3f51[_0x467618(0x81)])return null;}return{'group':_0x467618(0xfc),'name':_0x24651e?_0x5d4d28+':'+_0x24651e:_0x5d4d28};}}),_0x561a90[_0x32e0d8(0x94)][_0x32e0d8(0xcc)](_0x32e0d8(0xda))[_0x32e0d8(0xc7)]({'view':{'name':_0x32e0d8(0xfc),'attributes':{'id':/^\w/}},'model':(_0xec7694,{writer:_0x47c3b7})=>_0x47c3b7[_0x32e0d8(0x109)](_0x32e0d8(0xa9),{'data-name':_0x32e0d8(0xe6)+_0xec7694[_0x32e0d8(0xca)]('id')})}),_0x561a90[_0x32e0d8(0x94)][_0x32e0d8(0xcc)](_0x32e0d8(0xda))[_0x32e0d8(0x86)]({'view':_0x32e0d8(0xfc)});}[_0x4c962d(0xac)](){const _0x9ac088=_0x4c962d,_0x3afb5d=this[_0x9ac088(0xc4)],_0x1e4dc7=_0x3afb5d[_0x9ac088(0xec)][_0x9ac088(0x96)](_0x5c3311),_0xd334b=new Set(),_0x489a57=new Set();_0x3afb5d[_0x9ac088(0xaa)][_0x9ac088(0x82)][_0x9ac088(0xa3)](_0x2c31b9=>{const _0x52c0d4=_0x9ac088;let _0xf4d39a=!0x1;for(const {name:_0x571281,data:_0x3002d7}of _0x3afb5d[_0x52c0d4(0xaa)][_0x52c0d4(0x82)][_0x52c0d4(0x7e)][_0x52c0d4(0x106)]()){const {group:_0x5c65d8,id:_0x1dccb6}=splitMarkerName(_0x571281);let _0x21c203=_0x3002d7[_0x52c0d4(0xb5)];if(_0x52c0d4(0xfc)!==_0x5c65d8||!_0x21c203)continue;const _0x51f9ef=_0x52c0d4(0x112)===_0x21c203[_0x52c0d4(0xe1)][_0x52c0d4(0xba)];_0x51f9ef||(_0x21c203=dt(_0x21c203,_0x3afb5d[_0x52c0d4(0xaa)]),!_0x21c203||_0x21c203[_0x52c0d4(0xc2)]||!_0x3002d7[_0x52c0d4(0xb5)]||_0x21c203[_0x52c0d4(0x83)](_0x3002d7[_0x52c0d4(0xb5)]))?_0x3afb5d[_0x52c0d4(0xaa)][_0x52c0d4(0xfd)](_0x21c203)&&!_0x51f9ef?this[_0x52c0d4(0xb2)]?_0xd334b[_0x52c0d4(0xc1)](_0x571281):this[_0x52c0d4(0xbe)](_0x571281,_0x1dccb6):(_0x489a57[_0x52c0d4(0xc1)](_0x571281),_0xd334b[_0x52c0d4(0xd8)](_0x571281),_0x2c31b9[_0x52c0d4(0xad)](_0x571281),_0xf4d39a=!0x0):(_0x2c31b9[_0x52c0d4(0xc0)](_0x571281,{'range':_0x21c203}),_0xf4d39a=!0x0);}return _0xf4d39a;}),this['on'](_0x9ac088(0xdb),(_0x260672,_0x24815c,_0x172fe1)=>{const _0x450d22=_0x9ac088;if(!_0x172fe1&&_0xd334b[_0x450d22(0xfb)])for(const _0x446805 of _0xd334b){const {id:_0x4a67d2}=splitMarkerName(_0x446805);_0xd334b[_0x450d22(0xd8)](_0x446805),_0x3afb5d[_0x450d22(0xaa)][_0x450d22(0x85)][_0x450d22(0x96)](_0x446805)&&this[_0x450d22(0xbe)](_0x446805,_0x4a67d2);}}),this[_0x9ac088(0x9a)](_0x3afb5d[_0x9ac088(0xaa)][_0x9ac088(0x82)],_0x9ac088(0x10a),(_0x1a4020,_0x17c243)=>{const _0x451e01=_0x9ac088;for(const {name:_0x316a53,data:{newRange:_0x5088e4}}of _0x3afb5d[_0x451e01(0xaa)][_0x451e01(0x82)][_0x451e01(0x7e)][_0x451e01(0x106)]()){const {group:_0x122219,id:_0x5e332a}=splitMarkerName(_0x316a53);if(_0x451e01(0xfc)!==_0x122219)continue;const _0x1817bc=_0x1e4dc7[_0x451e01(0x8d)](_0x5e332a),_0x592fbf=this[_0x451e01(0xbf)](_0x5e332a);_0x1817bc&&(!_0x1817bc[_0x451e01(0x99)]&&_0x5088e4&&_0x3afb5d[_0x451e01(0xc6)][_0x451e01(0xd3)][_0x451e01(0x8a)](_0x451e01(0x108),()=>{const _0x38c55d=_0x451e01,_0x7d1198=_0x3afb5d[_0x38c55d(0xec)][_0x38c55d(0x96)](_0x2a0692),_0x2b0b81=_0x1e4dc7[_0x38c55d(0xe9)][_0x38c55d(0x96)](_0x1817bc)[_0x38c55d(0xd3)];_0x7d1198[_0x38c55d(0x113)](_0x2b0b81)[_0x38c55d(0xd1)]();},{'priority':_0x451e01(0x9e)}),_0x1817bc[_0x451e01(0x99)]=_0x592fbf||!!_0x5088e4),_0x5088e4||(_0x489a57[_0x451e01(0xc1)](_0x316a53),_0xd334b[_0x451e01(0xd8)](_0x316a53));}if(_0x17c243[_0x451e01(0x9f)])for(const _0x144e50 of _0x489a57){const {id:_0x5058eb}=splitMarkerName(_0x144e50),_0x4deb19=_0x1e4dc7[_0x451e01(0x8d)](_0x5058eb),_0x2f0337=this[_0x451e01(0xbf)](_0x5058eb);_0xd334b[_0x451e01(0xd8)](_0x144e50),!_0x4deb19||_0x2f0337||_0x4deb19[_0x451e01(0x10f)]||_0x4deb19[_0x451e01(0xf9)](new Date());}_0x489a57[_0x451e01(0x114)]();});}[_0x4c962d(0xd9)](_0x440833){const _0x4bfad2=_0x4c962d,_0x443e27=this[_0x4bfad2(0xc4)],_0x51c9f9=this[_0x4bfad2(0xd6)](_0x440833);return _0x3c70e2(_0x443e27[_0x4bfad2(0xc6)],_0x51c9f9);}[_0x4c962d(0x107)](_0x5289c1){const _0x9b0781=_0x4c962d,_0x5b9723=this[_0x9b0781(0xd6)](_0x5289c1);let _0x2f4dbd='',_0x50cb25=!0x1;for(const _0x115938 of _0x5b9723){const _0x2c05e5=_0x115938[_0x9b0781(0xdc)]();for(const _0x5f05f9 of Array[_0x9b0781(0x8c)](_0x2c05e5[_0x9b0781(0x97)]()))_0x5f05f9['is'](_0x9b0781(0xea))?(_0x2f4dbd&&_0x50cb25&&(_0x2f4dbd+='\x20',_0x50cb25=!0x1),_0x2f4dbd+=_0x5f05f9[_0x9b0781(0x90)]):_0x50cb25=!0x0;_0x50cb25=!0x0;}return _0x2f4dbd[_0x9b0781(0xf5)](0x0,0x96);}[_0x4c962d(0x88)](_0x54234d,_0x1304da){const _0x238d8f=_0x4c962d,_0x12a2b9=this[_0x238d8f(0xc4)],_0x4a7c7c=_0x12a2b9[_0x238d8f(0xec)][_0x238d8f(0x96)](_0x5c3311);let _0x1b44eb=_0x4a7c7c[_0x238d8f(0x8d)](_0x1304da);const _0x5790de=_0x12a2b9[_0x238d8f(0xf1)][_0x238d8f(0x96)](_0x238d8f(0x110)),_0x1765d1=_0x12a2b9[_0x238d8f(0xec)][_0x238d8f(0x96)](_0x45fa03);if(_0x1b44eb&&(_0x1b44eb[_0x238d8f(0x10f)]&&_0x1b44eb[_0x238d8f(0xf9)](null),_0x1b44eb[_0x238d8f(0x100)]))return _0x1b44eb;return!this[_0x238d8f(0xd6)](_0x1304da)[0x0][_0x238d8f(0xb9)]?_0x12a2b9[_0x238d8f(0xc6)][_0x238d8f(0xd3)][_0x238d8f(0x8a)](_0x238d8f(0x108),()=>{const _0x5f0572=_0x238d8f;if(_0x4a7c7c[_0x5f0572(0x8d)](_0x1304da))return;const _0x5c5f14=_0x12a2b9[_0x5f0572(0xec)][_0x5f0572(0x96)](_0x2a0692);_0x1b44eb=_0x4a7c7c[_0x5f0572(0x7b)]({'channelId':_0x5790de,'threadId':_0x1304da,'target':()=>this[_0x5f0572(0xd9)](_0x1304da),'context':{'type':_0x5f0572(0xa1),'value':this[_0x5f0572(0x107)](_0x1304da)}});const _0xb5f7e8=_0x4a7c7c[_0x5f0572(0xe9)][_0x5f0572(0x96)](_0x1b44eb)[_0x5f0572(0xd3)],_0xf4c566=_0x5c5f14[_0x5f0572(0x113)](_0xb5f7e8);_0xf4c566&&_0x1765d1[_0x5f0572(0xb3)](_0xf4c566);},{'priority':_0x238d8f(0x9e)}):_0x4a7c7c[_0x238d8f(0xcd)]({'channelId':_0x5790de,'threadId':_0x1304da})[_0x238d8f(0xa5)](_0x2e06a8=>{const _0x40e3b0=_0x238d8f;if(_0x40e3b0(0xc5)!==_0x12a2b9[_0x40e3b0(0xd7)]){if(_0x1b44eb=_0x2e06a8,_0x1b44eb&&!_0x1b44eb[_0x40e3b0(0x100)]){const _0x593950=_0x1b44eb[_0x40e3b0(0xae)](()=>this[_0x40e3b0(0xd9)](_0x1304da));_0x1765d1[_0x40e3b0(0xb3)](_0x593950),_0x1b44eb[_0x40e3b0(0x81)]&&this[_0x40e3b0(0xe5)](_0x1304da);}else{if(!_0x1b44eb){const _0x29a8ae=this[_0x40e3b0(0xd6)](_0x1304da);_0x12a2b9[_0x40e3b0(0xaa)][_0x40e3b0(0x10a)](_0x6a547a=>{const _0x26524a=_0x40e3b0;for(const _0x3d94b6 of _0x29a8ae)_0x6a547a[_0x26524a(0xad)](_0x3d94b6);});}}}}),_0x1b44eb;}[_0x4c962d(0xbe)](_0x29ffbc,_0x3f6e2b){const _0x23b0b4=_0x4c962d,_0x3c5c75=this[_0x23b0b4(0x88)](_0x29ffbc,_0x3f6e2b);_0x3c5c75&&!_0x3c5c75[_0x23b0b4(0xf3)]&&_0x3c5c75[_0x23b0b4(0xb1)]({'type':_0x23b0b4(0xa1),'value':this[_0x23b0b4(0x107)](_0x3f6e2b)});}[_0x4c962d(0x103)](){const _0x4e2c2c=_0x4c962d,_0x4f04cd=this[_0x4e2c2c(0xc4)];_0x1547a4(_0x4f04cd[_0x4e2c2c(0xaa)],({left:_0x2af522,entered:_0x17c7b5})=>{const _0x132ac7=_0x4e2c2c;for(const _0x18b7f0 of _0x2af522)if(ht(_0x18b7f0)){_0x4f04cd['ui'][_0x132ac7(0xbd)][_0x132ac7(0x10d)](_0x5e02f(_0x4f04cd[_0x132ac7(0x105)],_0x132ac7(0xd5)));break;}for(const _0x5cb76d of _0x17c7b5)if(ht(_0x5cb76d)){_0x4f04cd['ui'][_0x132ac7(0xbd)][_0x132ac7(0x10d)](_0x5e02f(_0x4f04cd[_0x132ac7(0x105)],_0x132ac7(0xf2),_0x2785c0(_0x2da582)));break;}});}}function mt(_0x243570,_0x26fe9c){return _0x26fe9c?_0x243570+':'+_0x26fe9c:_0x243570;}export function splitMarkerName(_0x2cd9a7){const _0x3537db=_0x4c962d,_0x212ffc=_0x2cd9a7[_0x3537db(0xfa)](':');return{'group':_0x212ffc[0x0],'id':_0x212ffc[0x1],'part':_0x212ffc[0x2]};}function _0x4466(){const _0x5238d8=['getItems','activeMarker','_hasTargetInContent','listenTo','_attachArchivedThread','ck-comment-marker--active','ck-comment-marker','low','isLocal','markerName','text','addMarker:','registerPostFixer','schema','then','639eIVcFq','author','init','$marker','model','removeCommentThread','_handleMarkerAddAndRemove','removeMarker','attachTo','pluginName','CommentsEditing','setContext','isThreadsLoadingPaused','registerAnnotation','resolveCommentThread','newRange','change:activeMarker','_initializeMarkerConverters','set','managedUsingOperations','rootName','startsWith','getWalker','ariaLiveAnnouncer','_handleThreadMarker','hasMarkerForId','updateMarker','add','isCollapsed','markerToData','editor','destroyed','editing','elementToElement','change:isReadOnly','removeMarker:','getAttribute','group','for','fetchCommentThread','hasDomSelection','1869052xpjsWG','editingDowncast','refreshVisibility','start','view','name','LEAVE_COMMENT_ANNOUNCEMENT','getAllMarkersForId','state','delete','_getTargetForId','upcast','change:isThreadsLoadingPaused','getRange','first','isOfficialPlugin','50GIipyg','addCommentThread','root','push','switchReadOnly','scrollToThreadMarker','_reconvertMarkers','comment:','1EtCqdL','consume','_threadToController','$textProxy','1857552QQmTPG','plugins','122735shCMrJ','145873DjwsIl','focus','_threads','config','ENTER_COMMENT_ANNOUNCEMENT','context','affectsData','substring','isObject','188089iSMNbt','createPositionBefore','setUnlinkedAt','split','size','comment','hasContent','consumable','createRange','isAttached','152TzIzlG','ready','_initAriaMarkerChangeAnnouncements','reopenCommentThread','locale','getChangedMarkers','_getTextContext','render','createElement','change','requires','62392jmUgdy','announce','_detachCommentThread','unlinkedAt','collaboration.channelId','getCommentThreads','$graveyard','getByInnerView','clear','222XIIAyG','item','openNewCommentThread','commands','614208spHDsO','differ','hasCommentThread','markerToHighlight','isResolved','document','isEqual','isPremiumPlugin','markers','dataToMarker','ignoreResolvedComments','_attachMarkerToThread','reconvertMarker','once','addComment','from','getCommentThread','length','comments','data','end','enqueueChange','destroy','conversion','dataDowncast','get'];_0x4466=function(){return _0x5238d8;};return _0x4466();}function dt(_0xb0911f,_0x51f708){const _0x549791=_0x4c962d,_0x1bfaf1=_0x51f708[_0x549791(0xa4)],_0x144d60=_0x51f708[_0x549791(0xff)](_0xb0911f[_0x549791(0xd2)]);for(const _0xfb9c4 of _0xb0911f[_0x549791(0xbc)]()){const {type:_0xc37e01,item:_0xc0f328,nextPosition:_0x189497}=_0xfb9c4;if(_0x549791(0xa1)===_0xc37e01||_0x1bfaf1[_0x549791(0xf6)](_0xc0f328)){const _0x3e834c=_0x51f708[_0x549791(0xf8)](_0xc0f328);_0x144d60[_0x549791(0xc2)]&&(_0x144d60[_0x549791(0xd2)]=_0x3e834c),_0x144d60[_0x549791(0x91)]=_0x189497;}}return _0x144d60;}function ht(_0x375659){const _0x1e95d5=_0x4c962d;return _0x1e95d5(0xfc)===splitMarkerName(_0x375659[_0x1e95d5(0xd4)])[_0x1e95d5(0xcb)];}